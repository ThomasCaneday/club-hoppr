(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var Ha={exports:{}},Ri={},Va={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function N_(){if(oh)return Z;oh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),w=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,H={};function K(C,x,J){this.props=C,this.context=x,this.refs=H,this.updater=J||O}K.prototype.isReactComponent={},K.prototype.setState=function(C,x){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,x,"setState")},K.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Me(){}Me.prototype=K.prototype;function Qe(C,x,J){this.props=C,this.context=x,this.refs=H,this.updater=J||O}var Ge=Qe.prototype=new Me;Ge.constructor=Qe,F(Ge,K.prototype),Ge.isPureReactComponent=!0;var Ae=Array.isArray,_t=Object.prototype.hasOwnProperty,Ke={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function q(C,x,J){var ne,oe={},le=null,he=null;if(x!=null)for(ne in x.ref!==void 0&&(he=x.ref),x.key!==void 0&&(le=""+x.key),x)_t.call(x,ne)&&!W.hasOwnProperty(ne)&&(oe[ne]=x[ne]);var ce=arguments.length-2;if(ce===1)oe.children=J;else if(1<ce){for(var Ee=Array(ce),yt=0;yt<ce;yt++)Ee[yt]=arguments[yt+2];oe.children=Ee}if(C&&C.defaultProps)for(ne in ce=C.defaultProps,ce)oe[ne]===void 0&&(oe[ne]=ce[ne]);return{$$typeof:i,type:C,key:le,ref:he,props:oe,_owner:Ke.current}}function ie(C,x){return{$$typeof:i,type:C.type,key:x,ref:C.ref,props:C.props,_owner:C._owner}}function ye(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function ke(C){var x={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return x[J]})}var Le=/\/+/g;function Fe(C,x){return typeof C=="object"&&C!==null&&C.key!=null?ke(""+C.key):x.toString(36)}function et(C,x,J,ne,oe){var le=typeof C;(le==="undefined"||le==="boolean")&&(C=null);var he=!1;if(C===null)he=!0;else switch(le){case"string":case"number":he=!0;break;case"object":switch(C.$$typeof){case i:case t:he=!0}}if(he)return he=C,oe=oe(he),C=ne===""?"."+Fe(he,0):ne,Ae(oe)?(J="",C!=null&&(J=C.replace(Le,"$&/")+"/"),et(oe,x,J,"",function(yt){return yt})):oe!=null&&(ye(oe)&&(oe=ie(oe,J+(!oe.key||he&&he.key===oe.key?"":(""+oe.key).replace(Le,"$&/")+"/")+C)),x.push(oe)),1;if(he=0,ne=ne===""?".":ne+":",Ae(C))for(var ce=0;ce<C.length;ce++){le=C[ce];var Ee=ne+Fe(le,ce);he+=et(le,x,J,Ee,oe)}else if(Ee=I(C),typeof Ee=="function")for(C=Ee.call(C),ce=0;!(le=C.next()).done;)le=le.value,Ee=ne+Fe(le,ce++),he+=et(le,x,J,Ee,oe);else if(le==="object")throw x=String(C),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return he}function St(C,x,J){if(C==null)return C;var ne=[],oe=0;return et(C,ne,"","",function(le){return x.call(J,le,oe++)}),ne}function Ye(C){if(C._status===-1){var x=C._result;x=x(),x.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=x)}if(C._status===1)return C._result.default;throw C._result}var ve={current:null},M={transition:null},Q={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:M,ReactCurrentOwner:Ke};function b(){throw Error("act(...) is not supported in production builds of React.")}return Z.Children={map:St,forEach:function(C,x,J){St(C,function(){x.apply(this,arguments)},J)},count:function(C){var x=0;return St(C,function(){x++}),x},toArray:function(C){return St(C,function(x){return x})||[]},only:function(C){if(!ye(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Z.Component=K,Z.Fragment=r,Z.Profiler=a,Z.PureComponent=Qe,Z.StrictMode=o,Z.Suspense=m,Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Z.act=b,Z.cloneElement=function(C,x,J){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ne=F({},C.props),oe=C.key,le=C.ref,he=C._owner;if(x!=null){if(x.ref!==void 0&&(le=x.ref,he=Ke.current),x.key!==void 0&&(oe=""+x.key),C.type&&C.type.defaultProps)var ce=C.type.defaultProps;for(Ee in x)_t.call(x,Ee)&&!W.hasOwnProperty(Ee)&&(ne[Ee]=x[Ee]===void 0&&ce!==void 0?ce[Ee]:x[Ee])}var Ee=arguments.length-2;if(Ee===1)ne.children=J;else if(1<Ee){ce=Array(Ee);for(var yt=0;yt<Ee;yt++)ce[yt]=arguments[yt+2];ne.children=ce}return{$$typeof:i,type:C.type,key:oe,ref:le,props:ne,_owner:he}},Z.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},Z.createElement=q,Z.createFactory=function(C){var x=q.bind(null,C);return x.type=C,x},Z.createRef=function(){return{current:null}},Z.forwardRef=function(C){return{$$typeof:p,render:C}},Z.isValidElement=ye,Z.lazy=function(C){return{$$typeof:k,_payload:{_status:-1,_result:C},_init:Ye}},Z.memo=function(C,x){return{$$typeof:_,type:C,compare:x===void 0?null:x}},Z.startTransition=function(C){var x=M.transition;M.transition={};try{C()}finally{M.transition=x}},Z.unstable_act=b,Z.useCallback=function(C,x){return ve.current.useCallback(C,x)},Z.useContext=function(C){return ve.current.useContext(C)},Z.useDebugValue=function(){},Z.useDeferredValue=function(C){return ve.current.useDeferredValue(C)},Z.useEffect=function(C,x){return ve.current.useEffect(C,x)},Z.useId=function(){return ve.current.useId()},Z.useImperativeHandle=function(C,x,J){return ve.current.useImperativeHandle(C,x,J)},Z.useInsertionEffect=function(C,x){return ve.current.useInsertionEffect(C,x)},Z.useLayoutEffect=function(C,x){return ve.current.useLayoutEffect(C,x)},Z.useMemo=function(C,x){return ve.current.useMemo(C,x)},Z.useReducer=function(C,x,J){return ve.current.useReducer(C,x,J)},Z.useRef=function(C){return ve.current.useRef(C)},Z.useState=function(C){return ve.current.useState(C)},Z.useSyncExternalStore=function(C,x,J){return ve.current.useSyncExternalStore(C,x,J)},Z.useTransition=function(){return ve.current.useTransition()},Z.version="18.3.1",Z}var lh;function Ru(){return lh||(lh=1,Va.exports=N_()),Va.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function x_(){if(ah)return Ri;ah=1;var i=Ru(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,_){var k,w={},I=null,O=null;_!==void 0&&(I=""+_),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(O=m.ref);for(k in m)o.call(m,k)&&!c.hasOwnProperty(k)&&(w[k]=m[k]);if(p&&p.defaultProps)for(k in m=p.defaultProps,m)w[k]===void 0&&(w[k]=m[k]);return{$$typeof:t,type:p,key:I,ref:O,props:w,_owner:a.current}}return Ri.Fragment=r,Ri.jsx=f,Ri.jsxs=f,Ri}var uh;function R_(){return uh||(uh=1,Ha.exports=x_()),Ha.exports}var X=R_(),mt=Ru(),go={},$a={exports:{}},pt={},Qa={exports:{}},Ga={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function P_(){return ch||(ch=1,function(i){function t(M,Q){var b=M.length;M.push(Q);e:for(;0<b;){var C=b-1>>>1,x=M[C];if(0<a(x,Q))M[C]=Q,M[b]=x,b=C;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var Q=M[0],b=M.pop();if(b!==Q){M[0]=b;e:for(var C=0,x=M.length,J=x>>>1;C<J;){var ne=2*(C+1)-1,oe=M[ne],le=ne+1,he=M[le];if(0>a(oe,b))le<x&&0>a(he,oe)?(M[C]=he,M[le]=b,C=le):(M[C]=oe,M[ne]=b,C=ne);else if(le<x&&0>a(he,b))M[C]=he,M[le]=b,C=le;else break e}}return Q}function a(M,Q){var b=M.sortIndex-Q.sortIndex;return b!==0?b:M.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],_=[],k=1,w=null,I=3,O=!1,F=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,Me=typeof clearTimeout=="function"?clearTimeout:null,Qe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ge(M){for(var Q=r(_);Q!==null;){if(Q.callback===null)o(_);else if(Q.startTime<=M)o(_),Q.sortIndex=Q.expirationTime,t(m,Q);else break;Q=r(_)}}function Ae(M){if(H=!1,Ge(M),!F)if(r(m)!==null)F=!0,Ye(_t);else{var Q=r(_);Q!==null&&ve(Ae,Q.startTime-M)}}function _t(M,Q){F=!1,H&&(H=!1,Me(q),q=-1),O=!0;var b=I;try{for(Ge(Q),w=r(m);w!==null&&(!(w.expirationTime>Q)||M&&!ke());){var C=w.callback;if(typeof C=="function"){w.callback=null,I=w.priorityLevel;var x=C(w.expirationTime<=Q);Q=i.unstable_now(),typeof x=="function"?w.callback=x:w===r(m)&&o(m),Ge(Q)}else o(m);w=r(m)}if(w!==null)var J=!0;else{var ne=r(_);ne!==null&&ve(Ae,ne.startTime-Q),J=!1}return J}finally{w=null,I=b,O=!1}}var Ke=!1,W=null,q=-1,ie=5,ye=-1;function ke(){return!(i.unstable_now()-ye<ie)}function Le(){if(W!==null){var M=i.unstable_now();ye=M;var Q=!0;try{Q=W(!0,M)}finally{Q?Fe():(Ke=!1,W=null)}}else Ke=!1}var Fe;if(typeof Qe=="function")Fe=function(){Qe(Le)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,St=et.port2;et.port1.onmessage=Le,Fe=function(){St.postMessage(null)}}else Fe=function(){K(Le,0)};function Ye(M){W=M,Ke||(Ke=!0,Fe())}function ve(M,Q){q=K(function(){M(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){F||O||(F=!0,Ye(_t))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(I){case 1:case 2:case 3:var Q=3;break;default:Q=I}var b=I;I=Q;try{return M()}finally{I=b}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var b=I;I=M;try{return Q()}finally{I=b}},i.unstable_scheduleCallback=function(M,Q,b){var C=i.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?C+b:C):b=C,M){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=b+x,M={id:k++,callback:Q,priorityLevel:M,startTime:b,expirationTime:x,sortIndex:-1},b>C?(M.sortIndex=b,t(_,M),r(m)===null&&M===r(_)&&(H?(Me(q),q=-1):H=!0,ve(Ae,b-C))):(M.sortIndex=x,t(m,M),F||O||(F=!0,Ye(_t))),M},i.unstable_shouldYield=ke,i.unstable_wrapCallback=function(M){var Q=I;return function(){var b=I;I=Q;try{return M.apply(this,arguments)}finally{I=b}}}}(Ga)),Ga}var dh;function D_(){return dh||(dh=1,Qa.exports=P_()),Qa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function A_(){if(fh)return pt;fh=1;var i=Ru(),t=D_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},w={};function I(e){return m.call(w,e)?!0:m.call(k,e)?!1:_.test(e)?w[e]=!0:(k[e]=!0,!1)}function O(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F(e,n,s,l){if(n===null||typeof n>"u"||O(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function H(e,n,s,l,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new H(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var Me=/[\-:]([a-z])/g;function Qe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Me,Qe);K[n]=new H(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Me,Qe);K[n]=new H(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Me,Qe);K[n]=new H(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ge(e,n,s,l){var u=K.hasOwnProperty(n)?K[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(F(n,s,u,l)&&(s=null),l||u===null?I(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var Ae=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_t=Symbol.for("react.element"),Ke=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),ke=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),M=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var b=Object.assign,C;function x(e){if(C===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+e}var J=!1;function ne(e,n){if(!e||J)return"";J=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var l=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){l=T}e.call(n.prototype)}else{try{throw Error()}catch(T){l=T}e()}}catch(T){if(T&&l&&typeof T.stack=="string"){for(var u=T.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,g=d.length-1;1<=h&&0<=g&&u[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(u[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||u[h]!==d[g]){var y=`
`+u[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=g);break}}}finally{J=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?x(e):""}function oe(e){switch(e.tag){case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case Ke:return"Portal";case ie:return"Profiler";case q:return"StrictMode";case Fe:return"Suspense";case et:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ke:return(e.displayName||"Context")+".Consumer";case ye:return(e._context.displayName||"Context")+".Provider";case Le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case St:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case Ye:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}function he(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(n);case 8:return n===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yt(e){var n=Ee(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ss(e){e._valueTracker||(e._valueTracker=yt(e))}function dc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Ee(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qo(e,n){var s=n.checked;return b({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function fc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=ce(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function hc(e,n){n=n.checked,n!=null&&Ge(e,"checked",n,!1)}function Xo(e,n){hc(e,n);var s=ce(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Jo(e,n.type,s):n.hasOwnProperty("defaultValue")&&Jo(e,n.type,ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function pc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Jo(e,n,s){(n!=="number"||os(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Vr=Array.isArray;function ir(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ce(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Zo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return b({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Vr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:ce(s)}}function gc(e,n){var s=ce(n.value),l=ce(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function _c(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function yc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?yc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ls,vc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function $r(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(e){Am.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Qr[n]=Qr[e]})});function wc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Qr.hasOwnProperty(e)&&Qr[e]?(""+n).trim():n+"px"}function Cc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=wc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var Om=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(e,n){if(n){if(Om[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function nl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,sr=null,or=null;function Ec(e){if(e=pi(e)){if(typeof sl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ps(n),sl(e.stateNode,e.type,n))}}function Sc(e){sr?or?or.push(e):or=[e]:sr=e}function kc(){if(sr){var e=sr,n=or;if(or=sr=null,Ec(e),n)for(e=0;e<n.length;e++)Ec(n[e])}}function Ic(e,n){return e(n)}function Tc(){}var ol=!1;function Nc(e,n,s){if(ol)return e(n,s);ol=!0;try{return Ic(e,n,s)}finally{ol=!1,(sr!==null||or!==null)&&(Tc(),kc())}}function Gr(e,n){var s=e.stateNode;if(s===null)return null;var l=Ps(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var ll=!1;if(p)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){ll=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{ll=!1}function Mm(e,n,s,l,u,d,h,g,y){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(R){this.onError(R)}}var Yr=!1,as=null,us=!1,al=null,Lm={onError:function(e){Yr=!0,as=e}};function Fm(e,n,s,l,u,d,h,g,y){Yr=!1,as=null,Mm.apply(Lm,arguments)}function zm(e,n,s,l,u,d,h,g,y){if(Fm.apply(this,arguments),Yr){if(Yr){var T=as;Yr=!1,as=null}else throw Error(r(198));us||(us=!0,al=T)}}function zn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function xc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Rc(e){if(zn(e)!==e)throw Error(r(188))}function bm(e){var n=e.alternate;if(!n){if(n=zn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return Rc(u),e;if(d===l)return Rc(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var h=!1,g=u.child;g;){if(g===s){h=!0,s=u,l=d;break}if(g===l){h=!0,l=u,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,l=u;break}if(g===l){h=!0,l=d,s=u;break}g=g.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Pc(e){return e=bm(e),e!==null?Dc(e):null}function Dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Dc(e);if(n!==null)return n;e=e.sibling}return null}var Ac=t.unstable_scheduleCallback,Oc=t.unstable_cancelCallback,Um=t.unstable_shouldYield,Bm=t.unstable_requestPaint,Pe=t.unstable_now,jm=t.unstable_getCurrentPriorityLevel,ul=t.unstable_ImmediatePriority,Mc=t.unstable_UserBlockingPriority,cs=t.unstable_NormalPriority,Wm=t.unstable_LowPriority,Lc=t.unstable_IdlePriority,ds=null,jt=null;function Hm(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ds,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Qm,Vm=Math.log,$m=Math.LN2;function Qm(e){return e>>>=0,e===0?32:31-(Vm(e)/$m|0)|0}var fs=64,hs=4194304;function qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ps(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var g=h&~u;g!==0?l=qr(g):(d&=h,d!==0&&(l=qr(d)))}else h=s&~u,h!==0?l=qr(h):d!==0&&(l=qr(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&u)&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-At(n),u=1<<s,l|=e[s],n&=~u;return l}function Gm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Km(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-At(d),g=1<<h,y=u[h];y===-1?(!(g&s)||g&l)&&(u[h]=Gm(g,n)):y<=n&&(e.expiredLanes|=g),d&=~g}}function cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fc(){var e=fs;return fs<<=1,!(fs&4194240)&&(fs=64),e}function dl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Xr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-At(n),e[n]=s}function Ym(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-At(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function fl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-At(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var de=0;function zc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bc,hl,Uc,Bc,jc,pl=!1,ms=[],cn=null,dn=null,fn=null,Jr=new Map,Zr=new Map,hn=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(e,n){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Jr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(n.pointerId)}}function ei(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=pi(n),n!==null&&hl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Xm(e,n,s,l,u){switch(n){case"focusin":return cn=ei(cn,e,n,s,l,u),!0;case"dragenter":return dn=ei(dn,e,n,s,l,u),!0;case"mouseover":return fn=ei(fn,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return Jr.set(d,ei(Jr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Zr.set(d,ei(Zr.get(d)||null,e,n,s,l,u)),!0}return!1}function Hc(e){var n=bn(e.target);if(n!==null){var s=zn(n);if(s!==null){if(n=s.tag,n===13){if(n=xc(s),n!==null){e.blockedOn=n,jc(e.priority,function(){Uc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=gl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);rl=l,s.target.dispatchEvent(l),rl=null}else return n=pi(s),n!==null&&hl(n),e.blockedOn=s,!1;n.shift()}return!0}function Vc(e,n,s){gs(e)&&s.delete(n)}function Jm(){pl=!1,cn!==null&&gs(cn)&&(cn=null),dn!==null&&gs(dn)&&(dn=null),fn!==null&&gs(fn)&&(fn=null),Jr.forEach(Vc),Zr.forEach(Vc)}function ti(e,n){e.blockedOn===n&&(e.blockedOn=null,pl||(pl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Jm)))}function ni(e){function n(u){return ti(u,e)}if(0<ms.length){ti(ms[0],e);for(var s=1;s<ms.length;s++){var l=ms[s];l.blockedOn===e&&(l.blockedOn=null)}}for(cn!==null&&ti(cn,e),dn!==null&&ti(dn,e),fn!==null&&ti(fn,e),Jr.forEach(n),Zr.forEach(n),s=0;s<hn.length;s++)l=hn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<hn.length&&(s=hn[0],s.blockedOn===null);)Hc(s),s.blockedOn===null&&hn.shift()}var lr=Ae.ReactCurrentBatchConfig,_s=!0;function Zm(e,n,s,l){var u=de,d=lr.transition;lr.transition=null;try{de=1,ml(e,n,s,l)}finally{de=u,lr.transition=d}}function eg(e,n,s,l){var u=de,d=lr.transition;lr.transition=null;try{de=4,ml(e,n,s,l)}finally{de=u,lr.transition=d}}function ml(e,n,s,l){if(_s){var u=gl(e,n,s,l);if(u===null)Ol(e,n,l,ys,s),Wc(e,l);else if(Xm(u,e,n,s,l))l.stopPropagation();else if(Wc(e,l),n&4&&-1<qm.indexOf(e)){for(;u!==null;){var d=pi(u);if(d!==null&&bc(d),d=gl(e,n,s,l),d===null&&Ol(e,n,l,ys,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else Ol(e,n,l,null,s)}}var ys=null;function gl(e,n,s,l){if(ys=null,e=il(l),e=bn(e),e!==null)if(n=zn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=xc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ys=e,null}function $c(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jm()){case ul:return 1;case Mc:return 4;case cs:case Wm:return 16;case Lc:return 536870912;default:return 16}default:return 16}}var pn=null,_l=null,vs=null;function Qc(){if(vs)return vs;var e,n=_l,s=n.length,l,u="value"in pn?pn.value:pn.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===u[d-l];l++);return vs=u.slice(e,1<l?1-l:void 0)}function ws(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function Gc(){return!1}function vt(e){function n(s,l,u,d,h){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Cs:Gc,this.isPropagationStopped=Gc,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),n}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=vt(ar),ri=b({},ar,{view:0,detail:0}),tg=vt(ri),vl,wl,ii,Es=b({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(vl=e.screenX-ii.screenX,wl=e.screenY-ii.screenY):wl=vl=0,ii=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:wl}}),Kc=vt(Es),ng=b({},Es,{dataTransfer:0}),rg=vt(ng),ig=b({},ri,{relatedTarget:0}),Cl=vt(ig),sg=b({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),og=vt(sg),lg=b({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ag=vt(lg),ug=b({},ar,{data:0}),Yc=vt(ug),cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fg[e])?!!n[e]:!1}function El(){return hg}var pg=b({},ri,{key:function(e){if(e.key){var n=cg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mg=vt(pg),gg=b({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=vt(gg),_g=b({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),yg=vt(_g),vg=b({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=vt(vg),Cg=b({},Es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Eg=vt(Cg),Sg=[9,13,27,32],Sl=p&&"CompositionEvent"in window,si=null;p&&"documentMode"in document&&(si=document.documentMode);var kg=p&&"TextEvent"in window&&!si,Xc=p&&(!Sl||si&&8<si&&11>=si),Jc=" ",Zc=!1;function ed(e,n){switch(e){case"keyup":return Sg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ur=!1;function Ig(e,n){switch(e){case"compositionend":return td(n);case"keypress":return n.which!==32?null:(Zc=!0,Jc);case"textInput":return e=n.data,e===Jc&&Zc?null:e;default:return null}}function Tg(e,n){if(ur)return e==="compositionend"||!Sl&&ed(e,n)?(e=Qc(),vs=_l=pn=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xc&&n.locale!=="ko"?null:n.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ng[e.type]:n==="textarea"}function rd(e,n,s,l){Sc(l),n=Ns(n,"onChange"),0<n.length&&(s=new yl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var oi=null,li=null;function xg(e){Cd(e,0)}function Ss(e){var n=pr(e);if(dc(n))return e}function Rg(e,n){if(e==="change")return n}var id=!1;if(p){var kl;if(p){var Il="oninput"in document;if(!Il){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),Il=typeof sd.oninput=="function"}kl=Il}else kl=!1;id=kl&&(!document.documentMode||9<document.documentMode)}function od(){oi&&(oi.detachEvent("onpropertychange",ld),li=oi=null)}function ld(e){if(e.propertyName==="value"&&Ss(li)){var n=[];rd(n,li,e,il(e)),Nc(xg,n)}}function Pg(e,n,s){e==="focusin"?(od(),oi=n,li=s,oi.attachEvent("onpropertychange",ld)):e==="focusout"&&od()}function Dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ss(li)}function Ag(e,n){if(e==="click")return Ss(n)}function Og(e,n){if(e==="input"||e==="change")return Ss(n)}function Mg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ot=typeof Object.is=="function"?Object.is:Mg;function ai(e,n){if(Ot(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!Ot(e[u],n[u]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ud(e,n){var s=ad(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ad(s)}}function cd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dd(){for(var e=window,n=os();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=os(e.document)}return n}function Tl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Lg(e){var n=dd(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&cd(s.ownerDocument.documentElement,s)){if(l!==null&&Tl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=ud(s,d);var h=ud(s,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fg=p&&"documentMode"in document&&11>=document.documentMode,cr=null,Nl=null,ui=null,xl=!1;function fd(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xl||cr==null||cr!==os(l)||(l=cr,"selectionStart"in l&&Tl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ui&&ai(ui,l)||(ui=l,l=Ns(Nl,"onSelect"),0<l.length&&(n=new yl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=cr)))}function ks(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var dr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},Rl={},hd={};p&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Is(e){if(Rl[e])return Rl[e];if(!dr[e])return e;var n=dr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in hd)return Rl[e]=n[s];return e}var pd=Is("animationend"),md=Is("animationiteration"),gd=Is("animationstart"),_d=Is("transitionend"),yd=new Map,vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(e,n){yd.set(e,n),c(n,[e])}for(var Pl=0;Pl<vd.length;Pl++){var Dl=vd[Pl],zg=Dl.toLowerCase(),bg=Dl[0].toUpperCase()+Dl.slice(1);mn(zg,"on"+bg)}mn(pd,"onAnimationEnd"),mn(md,"onAnimationIteration"),mn(gd,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(_d,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ug=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function wd(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,zm(l,n,void 0,e),e.currentTarget=null}function Cd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var g=l[h],y=g.instance,T=g.currentTarget;if(g=g.listener,y!==d&&u.isPropagationStopped())break e;wd(u,g,T),d=y}else for(h=0;h<l.length;h++){if(g=l[h],y=g.instance,T=g.currentTarget,g=g.listener,y!==d&&u.isPropagationStopped())break e;wd(u,g,T),d=y}}}if(us)throw e=al,us=!1,al=null,e}function we(e,n){var s=n[Ul];s===void 0&&(s=n[Ul]=new Set);var l=e+"__bubble";s.has(l)||(Ed(n,e,2,!1),s.add(l))}function Al(e,n,s){var l=0;n&&(l|=4),Ed(s,e,l,n)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function di(e){if(!e[Ts]){e[Ts]=!0,o.forEach(function(s){s!=="selectionchange"&&(Ug.has(s)||Al(s,!1,e),Al(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ts]||(n[Ts]=!0,Al("selectionchange",!1,n))}}function Ed(e,n,s,l){switch($c(n)){case 1:var u=Zm;break;case 4:u=eg;break;default:u=ml}s=u.bind(null,n,s,e),u=void 0,!ll||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Ol(e,n,s,l,u){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===u||g.nodeType===8&&g.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===u||y.nodeType===8&&y.parentNode===u))return;h=h.return}for(;g!==null;){if(h=bn(g),h===null)return;if(y=h.tag,y===5||y===6){l=d=h;continue e}g=g.parentNode}}l=l.return}Nc(function(){var T=d,R=il(s),P=[];e:{var N=yd.get(e);if(N!==void 0){var L=yl,U=e;switch(e){case"keypress":if(ws(s)===0)break e;case"keydown":case"keyup":L=mg;break;case"focusin":U="focus",L=Cl;break;case"focusout":U="blur",L=Cl;break;case"beforeblur":case"afterblur":L=Cl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=yg;break;case pd:case md:case gd:L=og;break;case _d:L=wg;break;case"scroll":L=tg;break;case"wheel":L=Eg;break;case"copy":case"cut":case"paste":L=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=qc}var B=(n&4)!==0,De=!B&&e==="scroll",E=B?N!==null?N+"Capture":null:N;B=[];for(var v=T,S;v!==null;){S=v;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,E!==null&&(D=Gr(v,E),D!=null&&B.push(fi(v,D,S)))),De)break;v=v.return}0<B.length&&(N=new L(N,U,null,s,R),P.push({event:N,listeners:B}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",N&&s!==rl&&(U=s.relatedTarget||s.fromElement)&&(bn(U)||U[qt]))break e;if((L||N)&&(N=R.window===R?R:(N=R.ownerDocument)?N.defaultView||N.parentWindow:window,L?(U=s.relatedTarget||s.toElement,L=T,U=U?bn(U):null,U!==null&&(De=zn(U),U!==De||U.tag!==5&&U.tag!==6)&&(U=null)):(L=null,U=T),L!==U)){if(B=Kc,D="onMouseLeave",E="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(B=qc,D="onPointerLeave",E="onPointerEnter",v="pointer"),De=L==null?N:pr(L),S=U==null?N:pr(U),N=new B(D,v+"leave",L,s,R),N.target=De,N.relatedTarget=S,D=null,bn(R)===T&&(B=new B(E,v+"enter",U,s,R),B.target=S,B.relatedTarget=De,D=B),De=D,L&&U)t:{for(B=L,E=U,v=0,S=B;S;S=fr(S))v++;for(S=0,D=E;D;D=fr(D))S++;for(;0<v-S;)B=fr(B),v--;for(;0<S-v;)E=fr(E),S--;for(;v--;){if(B===E||E!==null&&B===E.alternate)break t;B=fr(B),E=fr(E)}B=null}else B=null;L!==null&&Sd(P,N,L,B,!1),U!==null&&De!==null&&Sd(P,De,U,B,!0)}}e:{if(N=T?pr(T):window,L=N.nodeName&&N.nodeName.toLowerCase(),L==="select"||L==="input"&&N.type==="file")var j=Rg;else if(nd(N))if(id)j=Og;else{j=Dg;var V=Pg}else(L=N.nodeName)&&L.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(j=Ag);if(j&&(j=j(e,T))){rd(P,j,s,R);break e}V&&V(e,N,T),e==="focusout"&&(V=N._wrapperState)&&V.controlled&&N.type==="number"&&Jo(N,"number",N.value)}switch(V=T?pr(T):window,e){case"focusin":(nd(V)||V.contentEditable==="true")&&(cr=V,Nl=T,ui=null);break;case"focusout":ui=Nl=cr=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,fd(P,s,R);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":fd(P,s,R)}var $;if(Sl)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else ur?ed(e,s)&&(Y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Y="onCompositionStart");Y&&(Xc&&s.locale!=="ko"&&(ur||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&ur&&($=Qc()):(pn=R,_l="value"in pn?pn.value:pn.textContent,ur=!0)),V=Ns(T,Y),0<V.length&&(Y=new Yc(Y,e,null,s,R),P.push({event:Y,listeners:V}),$?Y.data=$:($=td(s),$!==null&&(Y.data=$)))),($=kg?Ig(e,s):Tg(e,s))&&(T=Ns(T,"onBeforeInput"),0<T.length&&(R=new Yc("onBeforeInput","beforeinput",null,s,R),P.push({event:R,listeners:T}),R.data=$))}Cd(P,n)})}function fi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ns(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Gr(e,s),d!=null&&l.unshift(fi(e,d,u)),d=Gr(e,n),d!=null&&l.push(fi(e,d,u))),e=e.return}return l}function fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sd(e,n,s,l,u){for(var d=n._reactName,h=[];s!==null&&s!==l;){var g=s,y=g.alternate,T=g.stateNode;if(y!==null&&y===l)break;g.tag===5&&T!==null&&(g=T,u?(y=Gr(s,d),y!=null&&h.unshift(fi(s,y,g))):u||(y=Gr(s,d),y!=null&&h.push(fi(s,y,g)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Bg=/\r\n?/g,jg=/\u0000|\uFFFD/g;function kd(e){return(typeof e=="string"?e:""+e).replace(Bg,`
`).replace(jg,"")}function xs(e,n,s){if(n=kd(n),kd(e)!==n&&s)throw Error(r(425))}function Rs(){}var Ml=null,Ll=null;function Fl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,Id=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof Id<"u"?function(e){return Id.resolve(null).then(e).catch(Vg)}:zl;function Vg(e){setTimeout(function(){throw e})}function bl(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),ni(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);ni(n)}function gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Td(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+hr,hi="__reactProps$"+hr,qt="__reactContainer$"+hr,Ul="__reactEvents$"+hr,$g="__reactListeners$"+hr,Qg="__reactHandles$"+hr;function bn(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[qt]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Td(e);e!==null;){if(s=e[Wt])return s;e=Td(e)}return n}e=s,s=e.parentNode}return null}function pi(e){return e=e[Wt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ps(e){return e[hi]||null}var Bl=[],mr=-1;function _n(e){return{current:e}}function Ce(e){0>mr||(e.current=Bl[mr],Bl[mr]=null,mr--)}function pe(e,n){mr++,Bl[mr]=e.current,e.current=n}var yn={},tt=_n(yn),ut=_n(!1),Un=yn;function gr(e,n){var s=e.type.contextTypes;if(!s)return yn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function ct(e){return e=e.childContextTypes,e!=null}function Ds(){Ce(ut),Ce(tt)}function Nd(e,n,s){if(tt.current!==yn)throw Error(r(168));pe(tt,n),pe(ut,s)}function xd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,he(e)||"Unknown",u));return b({},s,l)}function As(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Un=tt.current,pe(tt,e),pe(ut,ut.current),!0}function Rd(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=xd(e,n,Un),l.__reactInternalMemoizedMergedChildContext=e,Ce(ut),Ce(tt),pe(tt,e)):Ce(ut),pe(ut,s)}var Xt=null,Os=!1,jl=!1;function Pd(e){Xt===null?Xt=[e]:Xt.push(e)}function Gg(e){Os=!0,Pd(e)}function vn(){if(!jl&&Xt!==null){jl=!0;var e=0,n=de;try{var s=Xt;for(de=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Xt=null,Os=!1}catch(u){throw Xt!==null&&(Xt=Xt.slice(e+1)),Ac(ul,vn),u}finally{de=n,jl=!1}}return null}var _r=[],yr=0,Ms=null,Ls=0,kt=[],It=0,Bn=null,Jt=1,Zt="";function jn(e,n){_r[yr++]=Ls,_r[yr++]=Ms,Ms=e,Ls=n}function Dd(e,n,s){kt[It++]=Jt,kt[It++]=Zt,kt[It++]=Bn,Bn=e;var l=Jt;e=Zt;var u=32-At(l)-1;l&=~(1<<u),s+=1;var d=32-At(n)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,Jt=1<<32-At(n)+u|s<<u|l,Zt=d+e}else Jt=1<<d|s<<u|l,Zt=e}function Wl(e){e.return!==null&&(jn(e,1),Dd(e,1,0))}function Hl(e){for(;e===Ms;)Ms=_r[--yr],_r[yr]=null,Ls=_r[--yr],_r[yr]=null;for(;e===Bn;)Bn=kt[--It],kt[It]=null,Zt=kt[--It],kt[It]=null,Jt=kt[--It],kt[It]=null}var wt=null,Ct=null,Se=!1,Mt=null;function Ad(e,n){var s=Rt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Od(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,wt=e,Ct=gn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,wt=e,Ct=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Bn!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Rt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,wt=e,Ct=null,!0):!1;default:return!1}}function Vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(Se){var n=Ct;if(n){var s=n;if(!Od(e,n)){if(Vl(e))throw Error(r(418));n=gn(s.nextSibling);var l=wt;n&&Od(e,n)?Ad(l,s):(e.flags=e.flags&-4097|2,Se=!1,wt=e)}}else{if(Vl(e))throw Error(r(418));e.flags=e.flags&-4097|2,Se=!1,wt=e}}}function Md(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Fs(e){if(e!==wt)return!1;if(!Se)return Md(e),Se=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Fl(e.type,e.memoizedProps)),n&&(n=Ct)){if(Vl(e))throw Ld(),Error(r(418));for(;n;)Ad(e,n),n=gn(n.nextSibling)}if(Md(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){Ct=gn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}Ct=null}}else Ct=wt?gn(e.stateNode.nextSibling):null;return!0}function Ld(){for(var e=Ct;e;)e=gn(e.nextSibling)}function vr(){Ct=wt=null,Se=!1}function Ql(e){Mt===null?Mt=[e]:Mt.push(e)}var Kg=Ae.ReactCurrentBatchConfig;function mi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var g=u.refs;h===null?delete g[d]:g[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function zs(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Fd(e){var n=e._init;return n(e._payload)}function zd(e){function n(E,v){if(e){var S=E.deletions;S===null?(E.deletions=[v],E.flags|=16):S.push(v)}}function s(E,v){if(!e)return null;for(;v!==null;)n(E,v),v=v.sibling;return null}function l(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function u(E,v){return E=Nn(E,v),E.index=0,E.sibling=null,E}function d(E,v,S){return E.index=S,e?(S=E.alternate,S!==null?(S=S.index,S<v?(E.flags|=2,v):S):(E.flags|=2,v)):(E.flags|=1048576,v)}function h(E){return e&&E.alternate===null&&(E.flags|=2),E}function g(E,v,S,D){return v===null||v.tag!==6?(v=za(S,E.mode,D),v.return=E,v):(v=u(v,S),v.return=E,v)}function y(E,v,S,D){var j=S.type;return j===W?R(E,v,S.props.children,D,S.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ye&&Fd(j)===v.type)?(D=u(v,S.props),D.ref=mi(E,v,S),D.return=E,D):(D=lo(S.type,S.key,S.props,null,E.mode,D),D.ref=mi(E,v,S),D.return=E,D)}function T(E,v,S,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=ba(S,E.mode,D),v.return=E,v):(v=u(v,S.children||[]),v.return=E,v)}function R(E,v,S,D,j){return v===null||v.tag!==7?(v=Yn(S,E.mode,D,j),v.return=E,v):(v=u(v,S),v.return=E,v)}function P(E,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=za(""+v,E.mode,S),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _t:return S=lo(v.type,v.key,v.props,null,E.mode,S),S.ref=mi(E,null,v),S.return=E,S;case Ke:return v=ba(v,E.mode,S),v.return=E,v;case Ye:var D=v._init;return P(E,D(v._payload),S)}if(Vr(v)||Q(v))return v=Yn(v,E.mode,S,null),v.return=E,v;zs(E,v)}return null}function N(E,v,S,D){var j=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:g(E,v,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _t:return S.key===j?y(E,v,S,D):null;case Ke:return S.key===j?T(E,v,S,D):null;case Ye:return j=S._init,N(E,v,j(S._payload),D)}if(Vr(S)||Q(S))return j!==null?null:R(E,v,S,D,null);zs(E,S)}return null}function L(E,v,S,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return E=E.get(S)||null,g(v,E,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _t:return E=E.get(D.key===null?S:D.key)||null,y(v,E,D,j);case Ke:return E=E.get(D.key===null?S:D.key)||null,T(v,E,D,j);case Ye:var V=D._init;return L(E,v,S,V(D._payload),j)}if(Vr(D)||Q(D))return E=E.get(S)||null,R(v,E,D,j,null);zs(v,D)}return null}function U(E,v,S,D){for(var j=null,V=null,$=v,Y=v=0,He=null;$!==null&&Y<S.length;Y++){$.index>Y?(He=$,$=null):He=$.sibling;var ae=N(E,$,S[Y],D);if(ae===null){$===null&&($=He);break}e&&$&&ae.alternate===null&&n(E,$),v=d(ae,v,Y),V===null?j=ae:V.sibling=ae,V=ae,$=He}if(Y===S.length)return s(E,$),Se&&jn(E,Y),j;if($===null){for(;Y<S.length;Y++)$=P(E,S[Y],D),$!==null&&(v=d($,v,Y),V===null?j=$:V.sibling=$,V=$);return Se&&jn(E,Y),j}for($=l(E,$);Y<S.length;Y++)He=L($,E,Y,S[Y],D),He!==null&&(e&&He.alternate!==null&&$.delete(He.key===null?Y:He.key),v=d(He,v,Y),V===null?j=He:V.sibling=He,V=He);return e&&$.forEach(function(xn){return n(E,xn)}),Se&&jn(E,Y),j}function B(E,v,S,D){var j=Q(S);if(typeof j!="function")throw Error(r(150));if(S=j.call(S),S==null)throw Error(r(151));for(var V=j=null,$=v,Y=v=0,He=null,ae=S.next();$!==null&&!ae.done;Y++,ae=S.next()){$.index>Y?(He=$,$=null):He=$.sibling;var xn=N(E,$,ae.value,D);if(xn===null){$===null&&($=He);break}e&&$&&xn.alternate===null&&n(E,$),v=d(xn,v,Y),V===null?j=xn:V.sibling=xn,V=xn,$=He}if(ae.done)return s(E,$),Se&&jn(E,Y),j;if($===null){for(;!ae.done;Y++,ae=S.next())ae=P(E,ae.value,D),ae!==null&&(v=d(ae,v,Y),V===null?j=ae:V.sibling=ae,V=ae);return Se&&jn(E,Y),j}for($=l(E,$);!ae.done;Y++,ae=S.next())ae=L($,E,Y,ae.value,D),ae!==null&&(e&&ae.alternate!==null&&$.delete(ae.key===null?Y:ae.key),v=d(ae,v,Y),V===null?j=ae:V.sibling=ae,V=ae);return e&&$.forEach(function(T_){return n(E,T_)}),Se&&jn(E,Y),j}function De(E,v,S,D){if(typeof S=="object"&&S!==null&&S.type===W&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _t:e:{for(var j=S.key,V=v;V!==null;){if(V.key===j){if(j=S.type,j===W){if(V.tag===7){s(E,V.sibling),v=u(V,S.props.children),v.return=E,E=v;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ye&&Fd(j)===V.type){s(E,V.sibling),v=u(V,S.props),v.ref=mi(E,V,S),v.return=E,E=v;break e}s(E,V);break}else n(E,V);V=V.sibling}S.type===W?(v=Yn(S.props.children,E.mode,D,S.key),v.return=E,E=v):(D=lo(S.type,S.key,S.props,null,E.mode,D),D.ref=mi(E,v,S),D.return=E,E=D)}return h(E);case Ke:e:{for(V=S.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){s(E,v.sibling),v=u(v,S.children||[]),v.return=E,E=v;break e}else{s(E,v);break}else n(E,v);v=v.sibling}v=ba(S,E.mode,D),v.return=E,E=v}return h(E);case Ye:return V=S._init,De(E,v,V(S._payload),D)}if(Vr(S))return U(E,v,S,D);if(Q(S))return B(E,v,S,D);zs(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(s(E,v.sibling),v=u(v,S),v.return=E,E=v):(s(E,v),v=za(S,E.mode,D),v.return=E,E=v),h(E)):s(E,v)}return De}var wr=zd(!0),bd=zd(!1),bs=_n(null),Us=null,Cr=null,Gl=null;function Kl(){Gl=Cr=Us=null}function Yl(e){var n=bs.current;Ce(bs),e._currentValue=n}function ql(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Er(e,n){Us=e,Gl=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(dt=!0),e.firstContext=null)}function Tt(e){var n=e._currentValue;if(Gl!==e)if(e={context:e,memoizedValue:n,next:null},Cr===null){if(Us===null)throw Error(r(308));Cr=e,Us.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return n}var Wn=null;function Xl(e){Wn===null?Wn=[e]:Wn.push(e)}function Ud(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,Xl(n)):(s.next=u.next,u.next=s),n.interleaved=s,en(e,l)}function en(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var wn=!1;function Jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Cn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,se&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,en(e,s)}return u=l.interleaved,u===null?(n.next=n,Xl(l)):(n.next=u.next,u.next=n),l.interleaved=n,en(e,s)}function Bs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}function jd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function js(e,n,s,l){var u=e.updateQueue;wn=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var y=g,T=y.next;y.next=null,h===null?d=T:h.next=T,h=y;var R=e.alternate;R!==null&&(R=R.updateQueue,g=R.lastBaseUpdate,g!==h&&(g===null?R.firstBaseUpdate=T:g.next=T,R.lastBaseUpdate=y))}if(d!==null){var P=u.baseState;h=0,R=T=y=null,g=d;do{var N=g.lane,L=g.eventTime;if((l&N)===N){R!==null&&(R=R.next={eventTime:L,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var U=e,B=g;switch(N=n,L=s,B.tag){case 1:if(U=B.payload,typeof U=="function"){P=U.call(L,P,N);break e}P=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=B.payload,N=typeof U=="function"?U.call(L,P,N):U,N==null)break e;P=b({},P,N);break e;case 2:wn=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,N=u.effects,N===null?u.effects=[g]:N.push(g))}else L={eventTime:L,lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},R===null?(T=R=L,y=P):R=R.next=L,h|=N;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;N=g,g=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(R===null&&(y=P),u.baseState=y,u.firstBaseUpdate=T,u.lastBaseUpdate=R,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);$n|=h,e.lanes=h,e.memoizedState=P}}function Wd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var gi={},Ht=_n(gi),_i=_n(gi),yi=_n(gi);function Hn(e){if(e===gi)throw Error(r(174));return e}function Zl(e,n){switch(pe(yi,n),pe(_i,e),pe(Ht,gi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:el(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=el(n,e)}Ce(Ht),pe(Ht,n)}function Sr(){Ce(Ht),Ce(_i),Ce(yi)}function Hd(e){Hn(yi.current);var n=Hn(Ht.current),s=el(n,e.type);n!==s&&(pe(_i,e),pe(Ht,s))}function ea(e){_i.current===e&&(Ce(Ht),Ce(_i))}var Ie=_n(0);function Ws(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var Hs=Ae.ReactCurrentDispatcher,ra=Ae.ReactCurrentBatchConfig,Vn=0,Te=null,ze=null,je=null,Vs=!1,vi=!1,wi=0,Yg=0;function nt(){throw Error(r(321))}function ia(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ot(e[s],n[s]))return!1;return!0}function sa(e,n,s,l,u,d){if(Vn=d,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Hs.current=e===null||e.memoizedState===null?Zg:e_,e=s(l,u),vi){d=0;do{if(vi=!1,wi=0,25<=d)throw Error(r(301));d+=1,je=ze=null,n.updateQueue=null,Hs.current=t_,e=s(l,u)}while(vi)}if(Hs.current=Gs,n=ze!==null&&ze.next!==null,Vn=0,je=ze=Te=null,Vs=!1,n)throw Error(r(300));return e}function oa(){var e=wi!==0;return wi=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Te.memoizedState=je=e:je=je.next=e,je}function Nt(){if(ze===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var n=je===null?Te.memoizedState:je.next;if(n!==null)je=n,ze=e;else{if(e===null)throw Error(r(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},je===null?Te.memoizedState=je=e:je=je.next=e}return je}function Ci(e,n){return typeof n=="function"?n(e):n}function la(e){var n=Nt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=ze,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var g=h=null,y=null,T=d;do{var R=T.lane;if((Vn&R)===R)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),l=T.hasEagerState?T.eagerState:e(l,T.action);else{var P={lane:R,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(g=y=P,h=l):y=y.next=P,Te.lanes|=R,$n|=R}T=T.next}while(T!==null&&T!==d);y===null?h=l:y.next=g,Ot(l,n.memoizedState)||(dt=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,Te.lanes|=d,$n|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function aa(e){var n=Nt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);Ot(d,n.memoizedState)||(dt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Vd(){}function $d(e,n){var s=Te,l=Nt(),u=n(),d=!Ot(l.memoizedState,u);if(d&&(l.memoizedState=u,dt=!0),l=l.queue,ua(Kd.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||je!==null&&je.memoizedState.tag&1){if(s.flags|=2048,Ei(9,Gd.bind(null,s,l,u,n),void 0,null),We===null)throw Error(r(349));Vn&30||Qd(s,n,u)}return u}function Qd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Te.updateQueue,n===null?(n={lastEffect:null,stores:null},Te.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Gd(e,n,s,l){n.value=s,n.getSnapshot=l,Yd(n)&&qd(e)}function Kd(e,n,s){return s(function(){Yd(n)&&qd(e)})}function Yd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ot(e,s)}catch{return!0}}function qd(e){var n=en(e,1);n!==null&&bt(n,e,1,-1)}function Xd(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},n.queue=e,e=e.dispatch=Jg.bind(null,Te,e),[n.memoizedState,e]}function Ei(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Te.updateQueue,n===null?(n={lastEffect:null,stores:null},Te.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Jd(){return Nt().memoizedState}function $s(e,n,s,l){var u=Vt();Te.flags|=e,u.memoizedState=Ei(1|n,s,void 0,l===void 0?null:l)}function Qs(e,n,s,l){var u=Nt();l=l===void 0?null:l;var d=void 0;if(ze!==null){var h=ze.memoizedState;if(d=h.destroy,l!==null&&ia(l,h.deps)){u.memoizedState=Ei(n,s,d,l);return}}Te.flags|=e,u.memoizedState=Ei(1|n,s,d,l)}function Zd(e,n){return $s(8390656,8,e,n)}function ua(e,n){return Qs(2048,8,e,n)}function ef(e,n){return Qs(4,2,e,n)}function tf(e,n){return Qs(4,4,e,n)}function nf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rf(e,n,s){return s=s!=null?s.concat([e]):null,Qs(4,4,nf.bind(null,n,e),s)}function ca(){}function sf(e,n){var s=Nt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ia(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function of(e,n){var s=Nt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ia(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function lf(e,n,s){return Vn&21?(Ot(s,n)||(s=Fc(),Te.lanes|=s,$n|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=s)}function qg(e,n){var s=de;de=s!==0&&4>s?s:4,e(!0);var l=ra.transition;ra.transition={};try{e(!1),n()}finally{de=s,ra.transition=l}}function af(){return Nt().memoizedState}function Xg(e,n,s){var l=In(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},uf(e))cf(n,s);else if(s=Ud(e,n,s,l),s!==null){var u=ot();bt(s,e,l,u),df(s,n,l)}}function Jg(e,n,s){var l=In(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(uf(e))cf(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,g=d(h,s);if(u.hasEagerState=!0,u.eagerState=g,Ot(g,h)){var y=n.interleaved;y===null?(u.next=u,Xl(n)):(u.next=y.next,y.next=u),n.interleaved=u;return}}catch{}finally{}s=Ud(e,n,u,l),s!==null&&(u=ot(),bt(s,e,l,u),df(s,n,l))}}function uf(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function cf(e,n){vi=Vs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function df(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}var Gs={readContext:Tt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Zg={readContext:Tt,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:Tt,useEffect:Zd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,$s(4194308,4,nf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return $s(4194308,4,e,n)},useInsertionEffect:function(e,n){return $s(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Vt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Xg.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:Xd,useDebugValue:ca,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Xd(!1),n=e[0];return e=qg.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Te,u=Vt();if(Se){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),We===null)throw Error(r(349));Vn&30||Qd(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,Zd(Kd.bind(null,l,d,e),[e]),l.flags|=2048,Ei(9,Gd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Vt(),n=We.identifierPrefix;if(Se){var s=Zt,l=Jt;s=(l&~(1<<32-At(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=wi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Yg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},e_={readContext:Tt,useCallback:sf,useContext:Tt,useEffect:ua,useImperativeHandle:rf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:la,useRef:Jd,useState:function(){return la(Ci)},useDebugValue:ca,useDeferredValue:function(e){var n=Nt();return lf(n,ze.memoizedState,e)},useTransition:function(){var e=la(Ci)[0],n=Nt().memoizedState;return[e,n]},useMutableSource:Vd,useSyncExternalStore:$d,useId:af,unstable_isNewReconciler:!1},t_={readContext:Tt,useCallback:sf,useContext:Tt,useEffect:ua,useImperativeHandle:rf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:aa,useRef:Jd,useState:function(){return aa(Ci)},useDebugValue:ca,useDeferredValue:function(e){var n=Nt();return ze===null?n.memoizedState=e:lf(n,ze.memoizedState,e)},useTransition:function(){var e=aa(Ci)[0],n=Nt().memoizedState;return[e,n]},useMutableSource:Vd,useSyncExternalStore:$d,useId:af,unstable_isNewReconciler:!1};function Lt(e,n){if(e&&e.defaultProps){n=b({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function da(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ks={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=ot(),u=In(e),d=tn(l,u);d.payload=n,s!=null&&(d.callback=s),n=Cn(e,d,u),n!==null&&(bt(n,e,u,l),Bs(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=ot(),u=In(e),d=tn(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=Cn(e,d,u),n!==null&&(bt(n,e,u,l),Bs(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=ot(),l=In(e),u=tn(s,l);u.tag=2,n!=null&&(u.callback=n),n=Cn(e,u,l),n!==null&&(bt(n,e,l,s),Bs(n,e,l))}};function ff(e,n,s,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!ai(s,l)||!ai(u,d):!0}function hf(e,n,s){var l=!1,u=yn,d=n.contextType;return typeof d=="object"&&d!==null?d=Tt(d):(u=ct(n)?Un:tt.current,l=n.contextTypes,d=(l=l!=null)?gr(e,u):yn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ks,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function pf(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Ks.enqueueReplaceState(n,n.state,null)}function fa(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Jl(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=Tt(d):(d=ct(n)?Un:tt.current,u.context=gr(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(da(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Ks.enqueueReplaceState(u,u.state,null),js(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function kr(e,n){try{var s="",l=n;do s+=oe(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function ha(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function pa(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var n_=typeof WeakMap=="function"?WeakMap:Map;function mf(e,n,s){s=tn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){to||(to=!0,Ra=l),pa(e,n)},s}function gf(e,n,s){s=tn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){pa(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){pa(e,n),typeof l!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function _f(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new n_;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=g_.bind(null,e,n,s),n.then(e,e))}function yf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function vf(e,n,s,l,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=tn(-1,1),n.tag=2,Cn(s,n,1))),s.lanes|=1),e)}var r_=Ae.ReactCurrentOwner,dt=!1;function st(e,n,s,l){n.child=e===null?bd(n,null,s,l):wr(n,e.child,s,l)}function wf(e,n,s,l,u){s=s.render;var d=n.ref;return Er(n,u),l=sa(e,n,s,l,d,u),s=oa(),e!==null&&!dt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,nn(e,n,u)):(Se&&s&&Wl(n),n.flags|=1,st(e,n,l,u),n.child)}function Cf(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Fa(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,Ef(e,n,d,l,u)):(e=lo(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&u)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:ai,s(h,l)&&e.ref===n.ref)return nn(e,n,u)}return n.flags|=1,e=Nn(d,l),e.ref=n.ref,e.return=n,n.child=e}function Ef(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(ai(d,l)&&e.ref===n.ref)if(dt=!1,n.pendingProps=l=d,(e.lanes&u)!==0)e.flags&131072&&(dt=!0);else return n.lanes=e.lanes,nn(e,n,u)}return ma(e,n,s,l,u)}function Sf(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Tr,Et),Et|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,pe(Tr,Et),Et|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,pe(Tr,Et),Et|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,pe(Tr,Et),Et|=l;return st(e,n,u,s),n.child}function kf(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ma(e,n,s,l,u){var d=ct(s)?Un:tt.current;return d=gr(n,d),Er(n,u),s=sa(e,n,s,l,d,u),l=oa(),e!==null&&!dt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,nn(e,n,u)):(Se&&l&&Wl(n),n.flags|=1,st(e,n,s,u),n.child)}function If(e,n,s,l,u){if(ct(s)){var d=!0;As(n)}else d=!1;if(Er(n,u),n.stateNode===null)qs(e,n),hf(n,s,l),fa(n,s,l,u),l=!0;else if(e===null){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,T=s.contextType;typeof T=="object"&&T!==null?T=Tt(T):(T=ct(s)?Un:tt.current,T=gr(n,T));var R=s.getDerivedStateFromProps,P=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==l||y!==T)&&pf(n,h,l,T),wn=!1;var N=n.memoizedState;h.state=N,js(n,l,h,u),y=n.memoizedState,g!==l||N!==y||ut.current||wn?(typeof R=="function"&&(da(n,s,R,l),y=n.memoizedState),(g=wn||ff(n,s,g,l,N,y,T))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=T,l=g):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Bd(e,n),g=n.memoizedProps,T=n.type===n.elementType?g:Lt(n.type,g),h.props=T,P=n.pendingProps,N=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=Tt(y):(y=ct(s)?Un:tt.current,y=gr(n,y));var L=s.getDerivedStateFromProps;(R=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||N!==y)&&pf(n,h,l,y),wn=!1,N=n.memoizedState,h.state=N,js(n,l,h,u);var U=n.memoizedState;g!==P||N!==U||ut.current||wn?(typeof L=="function"&&(da(n,s,L,l),U=n.memoizedState),(T=wn||ff(n,s,T,l,N,U,y)||!1)?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,U,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,U,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),h.props=l,h.state=U,h.context=y,l=T):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return ga(e,n,s,l,d,u)}function ga(e,n,s,l,u,d){kf(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return u&&Rd(n,s,!1),nn(e,n,d);l=n.stateNode,r_.current=n;var g=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=wr(n,e.child,null,d),n.child=wr(n,null,g,d)):st(e,n,g,d),n.memoizedState=l.state,u&&Rd(n,s,!0),n.child}function Tf(e){var n=e.stateNode;n.pendingContext?Nd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Nd(e,n.context,!1),Zl(e,n.containerInfo)}function Nf(e,n,s,l,u){return vr(),Ql(u),n.flags|=256,st(e,n,s,l),n.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function xf(e,n,s){var l=n.pendingProps,u=Ie.current,d=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(u&2)!==0),g?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),pe(Ie,u&1),e===null)return $l(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=ao(h,l,0,null),e=Yn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=ya(s),n.memoizedState=_a,e):va(n,h));if(u=e.memoizedState,u!==null&&(g=u.dehydrated,g!==null))return i_(e,n,h,l,g,u,s);if(d){d=l.fallback,h=n.mode,u=e.child,g=u.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=Nn(u,y),l.subtreeFlags=u.subtreeFlags&14680064),g!==null?d=Nn(g,d):(d=Yn(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?ya(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=_a,l}return d=e.child,e=d.sibling,l=Nn(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function va(e,n){return n=ao({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ys(e,n,s,l){return l!==null&&Ql(l),wr(n,e.child,null,s),e=va(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function i_(e,n,s,l,u,d,h){if(s)return n.flags&256?(n.flags&=-257,l=ha(Error(r(422))),Ys(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=ao({mode:"visible",children:l.children},u,0,null),d=Yn(d,u,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&wr(n,e.child,null,h),n.child.memoizedState=ya(h),n.memoizedState=_a,d);if(!(n.mode&1))return Ys(e,n,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(r(419)),l=ha(d,l,void 0),Ys(e,n,h,l)}if(g=(h&e.childLanes)!==0,dt||g){if(l=We,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|h)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,en(e,u),bt(l,e,u,-1))}return La(),l=ha(Error(r(421))),Ys(e,n,h,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=__.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,Ct=gn(u.nextSibling),wt=n,Se=!0,Mt=null,e!==null&&(kt[It++]=Jt,kt[It++]=Zt,kt[It++]=Bn,Jt=e.id,Zt=e.overflow,Bn=n),n=va(n,l.children),n.flags|=4096,n)}function Rf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ql(e.return,n,s)}function wa(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function Pf(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(st(e,n,l.children,s),l=Ie.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rf(e,s,n);else if(e.tag===19)Rf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(pe(Ie,l),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Ws(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),wa(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ws(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}wa(n,!0,s,null,d);break;case"together":wa(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qs(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),$n|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Nn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Nn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function s_(e,n,s){switch(n.tag){case 3:Tf(n),vr();break;case 5:Hd(n);break;case 1:ct(n.type)&&As(n);break;case 4:Zl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;pe(bs,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(pe(Ie,Ie.current&1),n.flags|=128,null):s&n.child.childLanes?xf(e,n,s):(pe(Ie,Ie.current&1),e=nn(e,n,s),e!==null?e.sibling:null);pe(Ie,Ie.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Pf(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),pe(Ie,Ie.current),l)break;return null;case 22:case 23:return n.lanes=0,Sf(e,n,s)}return nn(e,n,s)}var Df,Ca,Af,Of;Df=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ca=function(){},Af=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,Hn(Ht.current);var d=null;switch(s){case"input":u=qo(e,u),l=qo(e,l),d=[];break;case"select":u=b({},u,{value:void 0}),l=b({},l,{value:void 0}),d=[];break;case"textarea":u=Zo(e,u),l=Zo(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Rs)}tl(s,l);var h;s=null;for(T in u)if(!l.hasOwnProperty(T)&&u.hasOwnProperty(T)&&u[T]!=null)if(T==="style"){var g=u[T];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in l){var y=l[T];if(g=u!=null?u[T]:void 0,l.hasOwnProperty(T)&&y!==g&&(y!=null||g!=null))if(T==="style")if(g){for(h in g)!g.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&g[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(d||(d=[]),d.push(T,s)),s=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(d=d||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(a.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&we("scroll",e),d||g===y||(d=[])):(d=d||[]).push(T,y))}s&&(d=d||[]).push("style",s);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},Of=function(e,n,s,l){s!==l&&(n.flags|=4)};function Si(e,n){if(!Se)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function o_(e,n,s){var l=n.pendingProps;switch(Hl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return ct(n.type)&&Ds(),rt(n),null;case 3:return l=n.stateNode,Sr(),Ce(ut),Ce(tt),na(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Fs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mt!==null&&(Aa(Mt),Mt=null))),Ca(e,n),rt(n),null;case 5:ea(n);var u=Hn(yi.current);if(s=n.type,e!==null&&n.stateNode!=null)Af(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return rt(n),null}if(e=Hn(Ht.current),Fs(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Wt]=n,l[hi]=d,e=(n.mode&1)!==0,s){case"dialog":we("cancel",l),we("close",l);break;case"iframe":case"object":case"embed":we("load",l);break;case"video":case"audio":for(u=0;u<ci.length;u++)we(ci[u],l);break;case"source":we("error",l);break;case"img":case"image":case"link":we("error",l),we("load",l);break;case"details":we("toggle",l);break;case"input":fc(l,d),we("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},we("invalid",l);break;case"textarea":mc(l,d),we("invalid",l)}tl(s,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&xs(l.textContent,g,e),u=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&xs(l.textContent,g,e),u=["children",""+g]):a.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&we("scroll",l)}switch(s){case"input":ss(l),pc(l,d,!0);break;case"textarea":ss(l),_c(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Rs)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Wt]=n,e[hi]=l,Df(e,n,!1,!1),n.stateNode=e;e:{switch(h=nl(s,l),s){case"dialog":we("cancel",e),we("close",e),u=l;break;case"iframe":case"object":case"embed":we("load",e),u=l;break;case"video":case"audio":for(u=0;u<ci.length;u++)we(ci[u],e);u=l;break;case"source":we("error",e),u=l;break;case"img":case"image":case"link":we("error",e),we("load",e),u=l;break;case"details":we("toggle",e),u=l;break;case"input":fc(e,l),u=qo(e,l),we("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=b({},l,{value:void 0}),we("invalid",e);break;case"textarea":mc(e,l),u=Zo(e,l),we("invalid",e);break;default:u=l}tl(s,u),g=u;for(d in g)if(g.hasOwnProperty(d)){var y=g[d];d==="style"?Cc(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&vc(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&$r(e,y):typeof y=="number"&&$r(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?y!=null&&d==="onScroll"&&we("scroll",e):y!=null&&Ge(e,d,y,h))}switch(s){case"input":ss(e),pc(e,l,!1);break;case"textarea":ss(e),_c(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ce(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?ir(e,!!l.multiple,d,!1):l.defaultValue!=null&&ir(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Rs)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return rt(n),null;case 6:if(e&&n.stateNode!=null)Of(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Hn(yi.current),Hn(Ht.current),Fs(n)){if(l=n.stateNode,s=n.memoizedProps,l[Wt]=n,(d=l.nodeValue!==s)&&(e=wt,e!==null))switch(e.tag){case 3:xs(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xs(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Wt]=n,n.stateNode=l}return rt(n),null;case 13:if(Ce(Ie),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&Ct!==null&&n.mode&1&&!(n.flags&128))Ld(),vr(),n.flags|=98560,d=!1;else if(d=Fs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Wt]=n}else vr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;rt(n),d=!1}else Mt!==null&&(Aa(Mt),Mt=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Ie.current&1?be===0&&(be=3):La())),n.updateQueue!==null&&(n.flags|=4),rt(n),null);case 4:return Sr(),Ca(e,n),e===null&&di(n.stateNode.containerInfo),rt(n),null;case 10:return Yl(n.type._context),rt(n),null;case 17:return ct(n.type)&&Ds(),rt(n),null;case 19:if(Ce(Ie),d=n.memoizedState,d===null)return rt(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)Si(d,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=Ws(e),h!==null){for(n.flags|=128,Si(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return pe(Ie,Ie.current&1|2),n.child}e=e.sibling}d.tail!==null&&Pe()>Nr&&(n.flags|=128,l=!0,Si(d,!1),n.lanes=4194304)}else{if(!l)if(e=Ws(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Si(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Se)return rt(n),null}else 2*Pe()-d.renderingStartTime>Nr&&s!==1073741824&&(n.flags|=128,l=!0,Si(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Pe(),n.sibling=null,s=Ie.current,pe(Ie,l?s&1|2:s&1),n):(rt(n),null);case 22:case 23:return Ma(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?Et&1073741824&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function l_(e,n){switch(Hl(n),n.tag){case 1:return ct(n.type)&&Ds(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Sr(),Ce(ut),Ce(tt),na(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ea(n),null;case 13:if(Ce(Ie),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ce(Ie),null;case 4:return Sr(),null;case 10:return Yl(n.type._context),null;case 22:case 23:return Ma(),null;case 24:return null;default:return null}}var Xs=!1,it=!1,a_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ir(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ne(e,n,l)}else s.current=null}function Ea(e,n,s){try{s()}catch(l){Ne(e,n,l)}}var Mf=!1;function u_(e,n){if(Ml=_s,e=dd(),Tl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,y=-1,T=0,R=0,P=e,N=null;t:for(;;){for(var L;P!==s||u!==0&&P.nodeType!==3||(g=h+u),P!==d||l!==0&&P.nodeType!==3||(y=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(L=P.firstChild)!==null;)N=P,P=L;for(;;){if(P===e)break t;if(N===s&&++T===u&&(g=h),N===d&&++R===l&&(y=h),(L=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=L}s=g===-1||y===-1?null:{start:g,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ll={focusedElem:e,selectionRange:s},_s=!1,z=n;z!==null;)if(n=z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,z=e;else for(;z!==null;){n=z;try{var U=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var B=U.memoizedProps,De=U.memoizedState,E=n.stateNode,v=E.getSnapshotBeforeUpdate(n.elementType===n.type?B:Lt(n.type,B),De);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){Ne(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,z=e;break}z=n.return}return U=Mf,Mf=!1,U}function ki(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&Ea(n,s,d)}u=u.next}while(u!==l)}}function Js(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function Sa(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Lf(e){var n=e.alternate;n!==null&&(e.alternate=null,Lf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wt],delete n[hi],delete n[Ul],delete n[$g],delete n[Qg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ff(e){return e.tag===5||e.tag===3||e.tag===4}function zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ka(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Rs));else if(l!==4&&(e=e.child,e!==null))for(ka(e,n,s),e=e.sibling;e!==null;)ka(e,n,s),e=e.sibling}function Ia(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Ia(e,n,s),e=e.sibling;e!==null;)Ia(e,n,s),e=e.sibling}var qe=null,Ft=!1;function En(e,n,s){for(s=s.child;s!==null;)bf(e,n,s),s=s.sibling}function bf(e,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ds,s)}catch{}switch(s.tag){case 5:it||Ir(s,n);case 6:var l=qe,u=Ft;qe=null,En(e,n,s),qe=l,Ft=u,qe!==null&&(Ft?(e=qe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):qe.removeChild(s.stateNode));break;case 18:qe!==null&&(Ft?(e=qe,s=s.stateNode,e.nodeType===8?bl(e.parentNode,s):e.nodeType===1&&bl(e,s),ni(e)):bl(qe,s.stateNode));break;case 4:l=qe,u=Ft,qe=s.stateNode.containerInfo,Ft=!0,En(e,n,s),qe=l,Ft=u;break;case 0:case 11:case 14:case 15:if(!it&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&Ea(s,n,h),u=u.next}while(u!==l)}En(e,n,s);break;case 1:if(!it&&(Ir(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(g){Ne(s,n,g)}En(e,n,s);break;case 21:En(e,n,s);break;case 22:s.mode&1?(it=(l=it)||s.memoizedState!==null,En(e,n,s),it=l):En(e,n,s);break;default:En(e,n,s)}}function Uf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new a_),n.forEach(function(l){var u=y_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function zt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,h=n,g=h;e:for(;g!==null;){switch(g.tag){case 5:qe=g.stateNode,Ft=!1;break e;case 3:qe=g.stateNode.containerInfo,Ft=!0;break e;case 4:qe=g.stateNode.containerInfo,Ft=!0;break e}g=g.return}if(qe===null)throw Error(r(160));bf(d,h,u),qe=null,Ft=!1;var y=u.alternate;y!==null&&(y.return=null),u.return=null}catch(T){Ne(u,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Bf(n,e),n=n.sibling}function Bf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(n,e),$t(e),l&4){try{ki(3,e,e.return),Js(3,e)}catch(B){Ne(e,e.return,B)}try{ki(5,e,e.return)}catch(B){Ne(e,e.return,B)}}break;case 1:zt(n,e),$t(e),l&512&&s!==null&&Ir(s,s.return);break;case 5:if(zt(n,e),$t(e),l&512&&s!==null&&Ir(s,s.return),e.flags&32){var u=e.stateNode;try{$r(u,"")}catch(B){Ne(e,e.return,B)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&hc(u,d),nl(g,h);var T=nl(g,d);for(h=0;h<y.length;h+=2){var R=y[h],P=y[h+1];R==="style"?Cc(u,P):R==="dangerouslySetInnerHTML"?vc(u,P):R==="children"?$r(u,P):Ge(u,R,P,T)}switch(g){case"input":Xo(u,d);break;case"textarea":gc(u,d);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var L=d.value;L!=null?ir(u,!!d.multiple,L,!1):N!==!!d.multiple&&(d.defaultValue!=null?ir(u,!!d.multiple,d.defaultValue,!0):ir(u,!!d.multiple,d.multiple?[]:"",!1))}u[hi]=d}catch(B){Ne(e,e.return,B)}}break;case 6:if(zt(n,e),$t(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(B){Ne(e,e.return,B)}}break;case 3:if(zt(n,e),$t(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ni(n.containerInfo)}catch(B){Ne(e,e.return,B)}break;case 4:zt(n,e),$t(e);break;case 13:zt(n,e),$t(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(xa=Pe())),l&4&&Uf(e);break;case 22:if(R=s!==null&&s.memoizedState!==null,e.mode&1?(it=(T=it)||R,zt(n,e),it=T):zt(n,e),$t(e),l&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!R&&e.mode&1)for(z=e,R=e.child;R!==null;){for(P=z=R;z!==null;){switch(N=z,L=N.child,N.tag){case 0:case 11:case 14:case 15:ki(4,N,N.return);break;case 1:Ir(N,N.return);var U=N.stateNode;if(typeof U.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,U.props=n.memoizedProps,U.state=n.memoizedState,U.componentWillUnmount()}catch(B){Ne(l,s,B)}}break;case 5:Ir(N,N.return);break;case 22:if(N.memoizedState!==null){Hf(P);continue}}L!==null?(L.return=N,z=L):Hf(P)}R=R.sibling}e:for(R=null,P=e;;){if(P.tag===5){if(R===null){R=P;try{u=P.stateNode,T?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=P.stateNode,y=P.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=wc("display",h))}catch(B){Ne(e,e.return,B)}}}else if(P.tag===6){if(R===null)try{P.stateNode.nodeValue=T?"":P.memoizedProps}catch(B){Ne(e,e.return,B)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;R===P&&(R=null),P=P.return}R===P&&(R=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:zt(n,e),$t(e),l&4&&Uf(e);break;case 21:break;default:zt(n,e),$t(e)}}function $t(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Ff(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&($r(u,""),l.flags&=-33);var d=zf(e);Ia(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,g=zf(e);ka(e,g,h);break;default:throw Error(r(161))}}catch(y){Ne(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function c_(e,n,s){z=e,jf(e)}function jf(e,n,s){for(var l=(e.mode&1)!==0;z!==null;){var u=z,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||Xs;if(!h){var g=u.alternate,y=g!==null&&g.memoizedState!==null||it;g=Xs;var T=it;if(Xs=h,(it=y)&&!T)for(z=u;z!==null;)h=z,y=h.child,h.tag===22&&h.memoizedState!==null?Vf(u):y!==null?(y.return=h,z=y):Vf(u);for(;d!==null;)z=d,jf(d),d=d.sibling;z=u,Xs=g,it=T}Wf(e)}else u.subtreeFlags&8772&&d!==null?(d.return=u,z=d):Wf(e)}}function Wf(e){for(;z!==null;){var n=z;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:it||Js(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!it)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:Lt(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Wd(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Wd(n,h,s)}break;case 5:var g=n.stateNode;if(s===null&&n.flags&4){s=g;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var R=T.memoizedState;if(R!==null){var P=R.dehydrated;P!==null&&ni(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}it||n.flags&512&&Sa(n)}catch(N){Ne(n,n.return,N)}}if(n===e){z=null;break}if(s=n.sibling,s!==null){s.return=n.return,z=s;break}z=n.return}}function Hf(e){for(;z!==null;){var n=z;if(n===e){z=null;break}var s=n.sibling;if(s!==null){s.return=n.return,z=s;break}z=n.return}}function Vf(e){for(;z!==null;){var n=z;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Js(4,n)}catch(y){Ne(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(y){Ne(n,u,y)}}var d=n.return;try{Sa(n)}catch(y){Ne(n,d,y)}break;case 5:var h=n.return;try{Sa(n)}catch(y){Ne(n,h,y)}}}catch(y){Ne(n,n.return,y)}if(n===e){z=null;break}var g=n.sibling;if(g!==null){g.return=n.return,z=g;break}z=n.return}}var d_=Math.ceil,Zs=Ae.ReactCurrentDispatcher,Ta=Ae.ReactCurrentOwner,xt=Ae.ReactCurrentBatchConfig,se=0,We=null,Oe=null,Xe=0,Et=0,Tr=_n(0),be=0,Ii=null,$n=0,eo=0,Na=0,Ti=null,ft=null,xa=0,Nr=1/0,rn=null,to=!1,Ra=null,Sn=null,no=!1,kn=null,ro=0,Ni=0,Pa=null,io=-1,so=0;function ot(){return se&6?Pe():io!==-1?io:io=Pe()}function In(e){return e.mode&1?se&2&&Xe!==0?Xe&-Xe:Kg.transition!==null?(so===0&&(so=Fc()),so):(e=de,e!==0||(e=window.event,e=e===void 0?16:$c(e.type)),e):1}function bt(e,n,s,l){if(50<Ni)throw Ni=0,Pa=null,Error(r(185));Xr(e,s,l),(!(se&2)||e!==We)&&(e===We&&(!(se&2)&&(eo|=s),be===4&&Tn(e,Xe)),ht(e,l),s===1&&se===0&&!(n.mode&1)&&(Nr=Pe()+500,Os&&vn()))}function ht(e,n){var s=e.callbackNode;Km(e,n);var l=ps(e,e===We?Xe:0);if(l===0)s!==null&&Oc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Oc(s),n===1)e.tag===0?Gg(Qf.bind(null,e)):Pd(Qf.bind(null,e)),Hg(function(){!(se&6)&&vn()}),s=null;else{switch(zc(l)){case 1:s=ul;break;case 4:s=Mc;break;case 16:s=cs;break;case 536870912:s=Lc;break;default:s=cs}s=eh(s,$f.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function $f(e,n){if(io=-1,so=0,se&6)throw Error(r(327));var s=e.callbackNode;if(xr()&&e.callbackNode!==s)return null;var l=ps(e,e===We?Xe:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=oo(e,l);else{n=l;var u=se;se|=2;var d=Kf();(We!==e||Xe!==n)&&(rn=null,Nr=Pe()+500,Gn(e,n));do try{p_();break}catch(g){Gf(e,g)}while(!0);Kl(),Zs.current=d,se=u,Oe!==null?n=0:(We=null,Xe=0,n=be)}if(n!==0){if(n===2&&(u=cl(e),u!==0&&(l=u,n=Da(e,u))),n===1)throw s=Ii,Gn(e,0),Tn(e,l),ht(e,Pe()),s;if(n===6)Tn(e,l);else{if(u=e.current.alternate,!(l&30)&&!f_(u)&&(n=oo(e,l),n===2&&(d=cl(e),d!==0&&(l=d,n=Da(e,d))),n===1))throw s=Ii,Gn(e,0),Tn(e,l),ht(e,Pe()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Kn(e,ft,rn);break;case 3:if(Tn(e,l),(l&130023424)===l&&(n=xa+500-Pe(),10<n)){if(ps(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){ot(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=zl(Kn.bind(null,e,ft,rn),n);break}Kn(e,ft,rn);break;case 4:if(Tn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var h=31-At(l);d=1<<h,h=n[h],h>u&&(u=h),l&=~d}if(l=u,l=Pe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*d_(l/1960))-l,10<l){e.timeoutHandle=zl(Kn.bind(null,e,ft,rn),l);break}Kn(e,ft,rn);break;case 5:Kn(e,ft,rn);break;default:throw Error(r(329))}}}return ht(e,Pe()),e.callbackNode===s?$f.bind(null,e):null}function Da(e,n){var s=Ti;return e.current.memoizedState.isDehydrated&&(Gn(e,n).flags|=256),e=oo(e,n),e!==2&&(n=ft,ft=s,n!==null&&Aa(n)),e}function Aa(e){ft===null?ft=e:ft.push.apply(ft,e)}function f_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!Ot(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tn(e,n){for(n&=~Na,n&=~eo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-At(n),l=1<<s;e[s]=-1,n&=~l}}function Qf(e){if(se&6)throw Error(r(327));xr();var n=ps(e,0);if(!(n&1))return ht(e,Pe()),null;var s=oo(e,n);if(e.tag!==0&&s===2){var l=cl(e);l!==0&&(n=l,s=Da(e,l))}if(s===1)throw s=Ii,Gn(e,0),Tn(e,n),ht(e,Pe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Kn(e,ft,rn),ht(e,Pe()),null}function Oa(e,n){var s=se;se|=1;try{return e(n)}finally{se=s,se===0&&(Nr=Pe()+500,Os&&vn())}}function Qn(e){kn!==null&&kn.tag===0&&!(se&6)&&xr();var n=se;se|=1;var s=xt.transition,l=de;try{if(xt.transition=null,de=1,e)return e()}finally{de=l,xt.transition=s,se=n,!(se&6)&&vn()}}function Ma(){Et=Tr.current,Ce(Tr)}function Gn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Wg(s)),Oe!==null)for(s=Oe.return;s!==null;){var l=s;switch(Hl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ds();break;case 3:Sr(),Ce(ut),Ce(tt),na();break;case 5:ea(l);break;case 4:Sr();break;case 13:Ce(Ie);break;case 19:Ce(Ie);break;case 10:Yl(l.type._context);break;case 22:case 23:Ma()}s=s.return}if(We=e,Oe=e=Nn(e.current,null),Xe=Et=n,be=0,Ii=null,Na=eo=$n=0,ft=Ti=null,Wn!==null){for(n=0;n<Wn.length;n++)if(s=Wn[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}s.pending=l}Wn=null}return e}function Gf(e,n){do{var s=Oe;try{if(Kl(),Hs.current=Gs,Vs){for(var l=Te.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Vs=!1}if(Vn=0,je=ze=Te=null,vi=!1,wi=0,Ta.current=null,s===null||s.return===null){be=1,Ii=n,Oe=null;break}e:{var d=e,h=s.return,g=s,y=n;if(n=Xe,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,R=g,P=R.tag;if(!(R.mode&1)&&(P===0||P===11||P===15)){var N=R.alternate;N?(R.updateQueue=N.updateQueue,R.memoizedState=N.memoizedState,R.lanes=N.lanes):(R.updateQueue=null,R.memoizedState=null)}var L=yf(h);if(L!==null){L.flags&=-257,vf(L,h,g,d,n),L.mode&1&&_f(d,T,n),n=L,y=T;var U=n.updateQueue;if(U===null){var B=new Set;B.add(y),n.updateQueue=B}else U.add(y);break e}else{if(!(n&1)){_f(d,T,n),La();break e}y=Error(r(426))}}else if(Se&&g.mode&1){var De=yf(h);if(De!==null){!(De.flags&65536)&&(De.flags|=256),vf(De,h,g,d,n),Ql(kr(y,g));break e}}d=y=kr(y,g),be!==4&&(be=2),Ti===null?Ti=[d]:Ti.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var E=mf(d,y,n);jd(d,E);break e;case 1:g=y;var v=d.type,S=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Sn===null||!Sn.has(S)))){d.flags|=65536,n&=-n,d.lanes|=n;var D=gf(d,g,n);jd(d,D);break e}}d=d.return}while(d!==null)}qf(s)}catch(j){n=j,Oe===s&&s!==null&&(Oe=s=s.return);continue}break}while(!0)}function Kf(){var e=Zs.current;return Zs.current=Gs,e===null?Gs:e}function La(){(be===0||be===3||be===2)&&(be=4),We===null||!($n&268435455)&&!(eo&268435455)||Tn(We,Xe)}function oo(e,n){var s=se;se|=2;var l=Kf();(We!==e||Xe!==n)&&(rn=null,Gn(e,n));do try{h_();break}catch(u){Gf(e,u)}while(!0);if(Kl(),se=s,Zs.current=l,Oe!==null)throw Error(r(261));return We=null,Xe=0,be}function h_(){for(;Oe!==null;)Yf(Oe)}function p_(){for(;Oe!==null&&!Um();)Yf(Oe)}function Yf(e){var n=Zf(e.alternate,e,Et);e.memoizedProps=e.pendingProps,n===null?qf(e):Oe=n,Ta.current=null}function qf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=l_(s,n),s!==null){s.flags&=32767,Oe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,Oe=null;return}}else if(s=o_(s,n,Et),s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);be===0&&(be=5)}function Kn(e,n,s){var l=de,u=xt.transition;try{xt.transition=null,de=1,m_(e,n,s,l)}finally{xt.transition=u,de=l}return null}function m_(e,n,s,l){do xr();while(kn!==null);if(se&6)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Ym(e,d),e===We&&(Oe=We=null,Xe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||no||(no=!0,eh(cs,function(){return xr(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=xt.transition,xt.transition=null;var h=de;de=1;var g=se;se|=4,Ta.current=null,u_(e,s),Bf(s,e),Lg(Ll),_s=!!Ml,Ll=Ml=null,e.current=s,c_(s),Bm(),se=g,de=h,xt.transition=d}else e.current=s;if(no&&(no=!1,kn=e,ro=u),d=e.pendingLanes,d===0&&(Sn=null),Hm(s.stateNode),ht(e,Pe()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(to)throw to=!1,e=Ra,Ra=null,e;return ro&1&&e.tag!==0&&xr(),d=e.pendingLanes,d&1?e===Pa?Ni++:(Ni=0,Pa=e):Ni=0,vn(),null}function xr(){if(kn!==null){var e=zc(ro),n=xt.transition,s=de;try{if(xt.transition=null,de=16>e?16:e,kn===null)var l=!1;else{if(e=kn,kn=null,ro=0,se&6)throw Error(r(331));var u=se;for(se|=4,z=e.current;z!==null;){var d=z,h=d.child;if(z.flags&16){var g=d.deletions;if(g!==null){for(var y=0;y<g.length;y++){var T=g[y];for(z=T;z!==null;){var R=z;switch(R.tag){case 0:case 11:case 15:ki(8,R,d)}var P=R.child;if(P!==null)P.return=R,z=P;else for(;z!==null;){R=z;var N=R.sibling,L=R.return;if(Lf(R),R===T){z=null;break}if(N!==null){N.return=L,z=N;break}z=L}}}var U=d.alternate;if(U!==null){var B=U.child;if(B!==null){U.child=null;do{var De=B.sibling;B.sibling=null,B=De}while(B!==null)}}z=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,z=h;else e:for(;z!==null;){if(d=z,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ki(9,d,d.return)}var E=d.sibling;if(E!==null){E.return=d.return,z=E;break e}z=d.return}}var v=e.current;for(z=v;z!==null;){h=z;var S=h.child;if(h.subtreeFlags&2064&&S!==null)S.return=h,z=S;else e:for(h=v;z!==null;){if(g=z,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Js(9,g)}}catch(j){Ne(g,g.return,j)}if(g===h){z=null;break e}var D=g.sibling;if(D!==null){D.return=g.return,z=D;break e}z=g.return}}if(se=u,vn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ds,e)}catch{}l=!0}return l}finally{de=s,xt.transition=n}}return!1}function Xf(e,n,s){n=kr(s,n),n=mf(e,n,1),e=Cn(e,n,1),n=ot(),e!==null&&(Xr(e,1,n),ht(e,n))}function Ne(e,n,s){if(e.tag===3)Xf(e,e,s);else for(;n!==null;){if(n.tag===3){Xf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sn===null||!Sn.has(l))){e=kr(s,e),e=gf(n,e,1),n=Cn(n,e,1),e=ot(),n!==null&&(Xr(n,1,e),ht(n,e));break}}n=n.return}}function g_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=ot(),e.pingedLanes|=e.suspendedLanes&s,We===e&&(Xe&s)===s&&(be===4||be===3&&(Xe&130023424)===Xe&&500>Pe()-xa?Gn(e,0):Na|=s),ht(e,n)}function Jf(e,n){n===0&&(e.mode&1?(n=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):n=1);var s=ot();e=en(e,n),e!==null&&(Xr(e,n,s),ht(e,s))}function __(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Jf(e,s)}function y_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Jf(e,s)}var Zf;Zf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||ut.current)dt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return dt=!1,s_(e,n,s);dt=!!(e.flags&131072)}else dt=!1,Se&&n.flags&1048576&&Dd(n,Ls,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;qs(e,n),e=n.pendingProps;var u=gr(n,tt.current);Er(n,s),u=sa(null,n,l,e,u,s);var d=oa();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ct(l)?(d=!0,As(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Jl(n),u.updater=Ks,n.stateNode=u,u._reactInternals=n,fa(n,l,e,s),n=ga(null,n,l,!0,d,s)):(n.tag=0,Se&&d&&Wl(n),st(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch(qs(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=w_(l),e=Lt(l,e),u){case 0:n=ma(null,n,l,e,s);break e;case 1:n=If(null,n,l,e,s);break e;case 11:n=wf(null,n,l,e,s);break e;case 14:n=Cf(null,n,l,Lt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Lt(l,u),ma(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Lt(l,u),If(e,n,l,u,s);case 3:e:{if(Tf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,Bd(e,n),js(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=kr(Error(r(423)),n),n=Nf(e,n,l,s,u);break e}else if(l!==u){u=kr(Error(r(424)),n),n=Nf(e,n,l,s,u);break e}else for(Ct=gn(n.stateNode.containerInfo.firstChild),wt=n,Se=!0,Mt=null,s=bd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(vr(),l===u){n=nn(e,n,s);break e}st(e,n,l,s)}n=n.child}return n;case 5:return Hd(n),e===null&&$l(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Fl(l,u)?h=null:d!==null&&Fl(l,d)&&(n.flags|=32),kf(e,n),st(e,n,h,s),n.child;case 6:return e===null&&$l(n),null;case 13:return xf(e,n,s);case 4:return Zl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=wr(n,null,l,s):st(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Lt(l,u),wf(e,n,l,u,s);case 7:return st(e,n,n.pendingProps,s),n.child;case 8:return st(e,n,n.pendingProps.children,s),n.child;case 12:return st(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,pe(bs,l._currentValue),l._currentValue=h,d!==null)if(Ot(d.value,h)){if(d.children===u.children&&!ut.current){n=nn(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var y=g.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=tn(-1,s&-s),y.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var R=T.pending;R===null?y.next=y:(y.next=R.next,R.next=y),T.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),ql(d.return,s,n),g.lanes|=s;break}y=y.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),ql(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}st(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,Er(n,s),u=Tt(u),l=l(u),n.flags|=1,st(e,n,l,s),n.child;case 14:return l=n.type,u=Lt(l,n.pendingProps),u=Lt(l.type,u),Cf(e,n,l,u,s);case 15:return Ef(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Lt(l,u),qs(e,n),n.tag=1,ct(l)?(e=!0,As(n)):e=!1,Er(n,s),hf(n,l,u),fa(n,l,u,s),ga(null,n,l,!0,e,s);case 19:return Pf(e,n,s);case 22:return Sf(e,n,s)}throw Error(r(156,n.tag))};function eh(e,n){return Ac(e,n)}function v_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,s,l){return new v_(e,n,s,l)}function Fa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w_(e){if(typeof e=="function")return Fa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Le)return 11;if(e===St)return 14}return 2}function Nn(e,n){var s=e.alternate;return s===null?(s=Rt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function lo(e,n,s,l,u,d){var h=2;if(l=e,typeof e=="function")Fa(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case W:return Yn(s.children,u,d,n);case q:h=8,u|=8;break;case ie:return e=Rt(12,s,n,u|2),e.elementType=ie,e.lanes=d,e;case Fe:return e=Rt(13,s,n,u),e.elementType=Fe,e.lanes=d,e;case et:return e=Rt(19,s,n,u),e.elementType=et,e.lanes=d,e;case ve:return ao(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ye:h=10;break e;case ke:h=9;break e;case Le:h=11;break e;case St:h=14;break e;case Ye:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Rt(h,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function Yn(e,n,s,l){return e=Rt(7,e,l,n),e.lanes=s,e}function ao(e,n,s,l){return e=Rt(22,e,l,n),e.elementType=ve,e.lanes=s,e.stateNode={isHidden:!1},e}function za(e,n,s){return e=Rt(6,e,null,n),e.lanes=s,e}function ba(e,n,s){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function C_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Ua(e,n,s,l,u,d,h,g,y){return e=new C_(e,n,s,g,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Rt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jl(d),e}function E_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ke,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function th(e){if(!e)return yn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ct(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(ct(s))return xd(e,s,n)}return n}function nh(e,n,s,l,u,d,h,g,y){return e=Ua(s,l,!0,e,u,d,h,g,y),e.context=th(null),s=e.current,l=ot(),u=In(s),d=tn(l,u),d.callback=n??null,Cn(s,d,u),e.current.lanes=u,Xr(e,u,l),ht(e,l),e}function uo(e,n,s,l){var u=n.current,d=ot(),h=In(u);return s=th(s),n.context===null?n.context=s:n.pendingContext=s,n=tn(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Cn(u,n,h),e!==null&&(bt(e,u,h,d),Bs(e,u,h)),h}function co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ba(e,n){rh(e,n),(e=e.alternate)&&rh(e,n)}var ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function ja(e){this._internalRoot=e}fo.prototype.render=ja.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));uo(e,n,null,null)},fo.prototype.unmount=ja.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qn(function(){uo(null,e,null,null)}),n[qt]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Bc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<hn.length&&n!==0&&n<hn[s].priority;s++);hn.splice(s,0,e),s===0&&Hc(e)}};function Wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sh(){}function S_(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var T=co(h);d.call(T)}}var h=nh(n,l,e,0,null,!1,!1,"",sh);return e._reactRootContainer=h,e[qt]=h.current,di(e.nodeType===8?e.parentNode:e),Qn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var g=l;l=function(){var T=co(y);g.call(T)}}var y=Ua(e,0,!1,null,null,!1,!1,"",sh);return e._reactRootContainer=y,e[qt]=y.current,di(e.nodeType===8?e.parentNode:e),Qn(function(){uo(n,y,s,l)}),y}function po(e,n,s,l,u){var d=s._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var g=u;u=function(){var y=co(h);g.call(y)}}uo(n,h,e,u)}else h=S_(s,n,e,u,l);return co(h)}bc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=qr(n.pendingLanes);s!==0&&(fl(n,s|1),ht(n,Pe()),!(se&6)&&(Nr=Pe()+500,vn()))}break;case 13:Qn(function(){var l=en(e,1);if(l!==null){var u=ot();bt(l,e,1,u)}}),Ba(e,1)}},hl=function(e){if(e.tag===13){var n=en(e,134217728);if(n!==null){var s=ot();bt(n,e,134217728,s)}Ba(e,134217728)}},Uc=function(e){if(e.tag===13){var n=In(e),s=en(e,n);if(s!==null){var l=ot();bt(s,e,n,l)}Ba(e,n)}},Bc=function(){return de},jc=function(e,n){var s=de;try{return de=e,n()}finally{de=s}},sl=function(e,n,s){switch(n){case"input":if(Xo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=Ps(l);if(!u)throw Error(r(90));dc(l),Xo(l,u)}}}break;case"textarea":gc(e,s);break;case"select":n=s.value,n!=null&&ir(e,!!s.multiple,n,!1)}},Ic=Oa,Tc=Qn;var k_={usingClientEntryPoint:!1,Events:[pi,pr,Ps,Sc,kc,Oa]},xi={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I_={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pc(e),e===null?null:e.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{ds=mo.inject(I_),jt=mo}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_,pt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wa(n))throw Error(r(200));return E_(e,n,null,s)},pt.createRoot=function(e,n){if(!Wa(e))throw Error(r(299));var s=!1,l="",u=ih;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Ua(e,1,!1,null,null,s,!1,l,u),e[qt]=n.current,di(e.nodeType===8?e.parentNode:e),new ja(n)},pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Pc(n),e=e===null?null:e.stateNode,e},pt.flushSync=function(e){return Qn(e)},pt.hydrate=function(e,n,s){if(!ho(n))throw Error(r(200));return po(null,e,n,!0,s)},pt.hydrateRoot=function(e,n,s){if(!Wa(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",h=ih;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=nh(n,null,e,1,s??null,u,!1,d,h),e[qt]=n.current,di(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new fo(n)},pt.render=function(e,n,s){if(!ho(n))throw Error(r(200));return po(null,e,n,!1,s)},pt.unmountComponentAtNode=function(e){if(!ho(e))throw Error(r(40));return e._reactRootContainer?(Qn(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1},pt.unstable_batchedUpdates=Oa,pt.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!ho(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return po(e,n,s,!1,l)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var hh;function O_(){if(hh)return $a.exports;hh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),$a.exports=A_(),$a.exports}var ph;function M_(){if(ph)return go;ph=1;var i=O_();return go.createRoot=i.createRoot,go.hydrateRoot=i.hydrateRoot,go}var L_=M_(),mh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(i,t){if(!i)throw Ur(t)},Ur=function(i){return new Error("Firebase Database ("+op.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},F_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],f=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Pu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,p=f?i[a+1]:0,m=a+2<i.length,_=m?i[a+2]:0,k=c>>2,w=(c&3)<<4|p>>4;let I=(p&15)<<2|_>>6,O=_&63;m||(O=64,f||(I=64)),o.push(r[k],r[w],r[I],r[O])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(lp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):F_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const _=a<i.length?r[i.charAt(a)]:64;++a;const w=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||_==null||w==null)throw new z_;const I=c<<2|p>>4;if(o.push(I),_!==64){const O=p<<4&240|_>>2;if(o.push(O),w!==64){const F=_<<6&192|w;o.push(F)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class z_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ap=function(i){const t=lp(i);return Pu.encodeByteArray(t,!0)},wo=function(i){return ap(i).replace(/\./g,"")},au=function(i){try{return Pu.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(i){return up(void 0,i)}function up(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!U_(r)||(i[r]=up(i[r],t[r]));return i}function U_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=()=>B_().__FIREBASE_DEFAULTS__,W_=()=>{if(typeof process>"u"||typeof mh>"u")return;const i=mh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},H_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&au(i[1]);return t&&JSON.parse(t)},cp=()=>{try{return j_()||W_()||H_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},V_=i=>{var t,r;return(r=(t=cp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},$_=i=>{const t=V_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},dp=()=>{var i;return(i=cp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[wo(JSON.stringify(r)),wo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(G_())}function K_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y_(){return op.NODE_ADMIN===!0}function q_(){try{return typeof indexedDB=="object"}catch{return!1}}function X_(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="FirebaseError";class Ji extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=J_,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hp.prototype.create)}}class hp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],f=c?Z_(c,o):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Ji(a,p,o)}}function Z_(i,t){return i.replace(ey,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const ey=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(i){return JSON.parse(i)}function Be(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=Bi(au(c[0])||""),r=Bi(au(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},ty=function(i){const t=pp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},ny=function(i){const t=pp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Or(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function gh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Co(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function uu(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],f=t[a];if(_h(c)&&_h(f)){if(!uu(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function _h(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const I=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(I<<1|I>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,k;for(let w=0;w<80;w++){w<40?w<20?(_=p^c&(f^p),k=1518500249):(_=c^f^p,k=1859775393):w<60?(_=c&f|p&(c|f),k=2400959708):(_=c^f^p,k=3395469782);const I=(a<<5|a>>>27)+_+m+k+o[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=a,a=I}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}else for(;a<r;)if(c[f]=t[a],++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function zo(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,A(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(c<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},bo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(i){return i&&i._delegate?i._delegate:i}class ji{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Xi;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ay(t))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qn){return this.instances.has(t)}getOptions(t=qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&t(f,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ly(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=qn){return this.component?this.component.multipleInstances?t:qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ly(i){return i===qn?void 0:i}function ay(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new oy(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ge||(ge={}));const cy={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},dy=ge.INFO,fy={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},hy=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=fy[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mp{constructor(t){this.name=t,this._logLevel=dy,this._logHandler=hy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}const py=(i,t)=>t.some(r=>i instanceof r);let yh,vh;function my(){return yh||(yh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gy(){return vh||(vh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gp=new WeakMap,cu=new WeakMap,_p=new WeakMap,Ka=new WeakMap,Du=new WeakMap;function _y(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Pn(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&gp.set(r,i)}).catch(()=>{}),Du.set(t,i),t}function yy(i){if(cu.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});cu.set(i,t)}let du={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return cu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||_p.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Pn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function vy(i){du=i(du)}function wy(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Ya(this),t,...r);return _p.set(o,t.sort?t.sort():[t]),Pn(o)}:gy().includes(i)?function(...t){return i.apply(Ya(this),t),Pn(gp.get(this))}:function(...t){return Pn(i.apply(Ya(this),t))}}function Cy(i){return typeof i=="function"?wy(i):(i instanceof IDBTransaction&&yy(i),py(i,my())?new Proxy(i,du):i)}function Pn(i){if(i instanceof IDBRequest)return _y(i);if(Ka.has(i))return Ka.get(i);const t=Cy(i);return t!==i&&(Ka.set(i,t),Du.set(t,i)),t}const Ya=i=>Du.get(i);function Ey(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(i,t),p=Pn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(Pn(f.result),m.oldVersion,m.newVersion,Pn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Sy=["get","getKey","getAll","getAllKeys","count"],ky=["put","add","delete","clear"],qa=new Map;function wh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(qa.get(t))return qa.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=ky.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Sy.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,a?"readwrite":"readonly");let _=m.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[r](...p),a&&m.done]))[0]};return qa.set(t,c),c}vy(i=>({...i,get:(t,r,o)=>wh(t,r)||i.get(t,r,o),has:(t,r)=>!!wh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ty(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Ty(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fu="@firebase/app",Ch="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new mp("@firebase/app"),Ny="@firebase/app-compat",xy="@firebase/analytics-compat",Ry="@firebase/analytics",Py="@firebase/app-check-compat",Dy="@firebase/app-check",Ay="@firebase/auth",Oy="@firebase/auth-compat",My="@firebase/database",Ly="@firebase/data-connect",Fy="@firebase/database-compat",zy="@firebase/functions",by="@firebase/functions-compat",Uy="@firebase/installations",By="@firebase/installations-compat",jy="@firebase/messaging",Wy="@firebase/messaging-compat",Hy="@firebase/performance",Vy="@firebase/performance-compat",$y="@firebase/remote-config",Qy="@firebase/remote-config-compat",Gy="@firebase/storage",Ky="@firebase/storage-compat",Yy="@firebase/firestore",qy="@firebase/vertexai",Xy="@firebase/firestore-compat",Jy="firebase",Zy="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="[DEFAULT]",ev={[fu]:"fire-core",[Ny]:"fire-core-compat",[Ry]:"fire-analytics",[xy]:"fire-analytics-compat",[Dy]:"fire-app-check",[Py]:"fire-app-check-compat",[Ay]:"fire-auth",[Oy]:"fire-auth-compat",[My]:"fire-rtdb",[Ly]:"fire-data-connect",[Fy]:"fire-rtdb-compat",[zy]:"fire-fn",[by]:"fire-fn-compat",[Uy]:"fire-iid",[By]:"fire-iid-compat",[jy]:"fire-fcm",[Wy]:"fire-fcm-compat",[Hy]:"fire-perf",[Vy]:"fire-perf-compat",[$y]:"fire-rc",[Qy]:"fire-rc-compat",[Gy]:"fire-gcs",[Ky]:"fire-gcs-compat",[Yy]:"fire-fst",[Xy]:"fire-fst-compat",[qy]:"fire-vertex","fire-js":"fire-js",[Jy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Map,tv=new Map,pu=new Map;function Eh(i,t){try{i.container.addComponent(t)}catch(r){ln.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function So(i){const t=i.name;if(pu.has(t))return ln.debug(`There were multiple attempts to register component ${t}.`),!1;pu.set(t,i);for(const r of Eo.values())Eh(r,i);for(const r of tv.values())Eh(r,i);return!0}function nv(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dn=new hp("app","Firebase",rv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=Zy;function yp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:hu,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw Dn.create("bad-app-name",{appName:String(a)});if(r||(r=dp()),!r)throw Dn.create("no-options");const c=Eo.get(a);if(c){if(uu(r,c.options)&&uu(o,c.config))return c;throw Dn.create("duplicate-app",{appName:a})}const f=new uy(a);for(const m of pu.values())f.addComponent(m);const p=new iv(r,o,f);return Eo.set(a,p),p}function ov(i=hu){const t=Eo.get(i);if(!t&&i===hu&&dp())return yp();if(!t)throw Dn.create("no-app",{appName:i});return t}function Pr(i,t,r){var o;let a=(o=ev[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${a}" with version "${t}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ln.warn(p.join(" "));return}So(new ji(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="firebase-heartbeat-database",av=1,Wi="firebase-heartbeat-store";let Xa=null;function vp(){return Xa||(Xa=Ey(lv,av,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Wi)}catch(r){console.warn(r)}}}}).catch(i=>{throw Dn.create("idb-open",{originalErrorMessage:i.message})})),Xa}async function uv(i){try{const r=(await vp()).transaction(Wi),o=await r.objectStore(Wi).get(wp(i));return await r.done,o}catch(t){if(t instanceof Ji)ln.warn(t.message);else{const r=Dn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ln.warn(r.message)}}}async function Sh(i,t){try{const o=(await vp()).transaction(Wi,"readwrite");await o.objectStore(Wi).put(t,wp(i)),await o.done}catch(r){if(r instanceof Ji)ln.warn(r.message);else{const o=Dn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ln.warn(o.message)}}}function wp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=1024,dv=30*24*60*60*1e3;class fv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new pv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=kh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=dv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){ln.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=kh(),{heartbeatsToSend:o,unsentEntries:a}=hv(this._heartbeatsCache.heartbeats),c=wo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return ln.warn(r),""}}}function kh(){return new Date().toISOString().substring(0,10)}function hv(i,t=cv){const r=[];let o=i.slice();for(const a of i){const c=r.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Ih(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Ih(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class pv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q_()?X_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await uv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Sh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Sh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Ih(i){return wo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(i){So(new ji("platform-logger",t=>new Iy(t),"PRIVATE")),So(new ji("heartbeat",t=>new fv(t),"PRIVATE")),Pr(fu,Ch,i),Pr(fu,Ch,"esm2017"),Pr("fire-js","")}mv("");var Th={};const Nh="@firebase/database",xh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp="";function gv(i){Cp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Be(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Bi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Yt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _v(t)}}catch{}return new yv},Jn=Ep("localStorage"),vv=Ep("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new mp("@firebase/database"),wv=function(){let i=1;return function(){return i++}}(),Sp=function(i){const t=sy(i),r=new iy;r.update(t);const o=r.digest();return Pu.encodeByteArray(o)},Zi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Zi.apply(null,o):typeof o=="object"?t+=Be(o):t+=o,t+=" "}return t};let Li=null,Rh=!0;const Cv=function(i,t){A(!0,"Can't turn on custom loggers persistently."),Dr.logLevel=ge.VERBOSE,Li=Dr.log.bind(Dr)},Je=function(...i){if(Rh===!0&&(Rh=!1,Li===null&&vv.get("logging_enabled")===!0&&Cv()),Li){const t=Zi.apply(null,i);Li(t)}},es=function(i){return function(...t){Je(i,...t)}},mu=function(...i){const t="FIREBASE INTERNAL ERROR: "+Zi(...i);Dr.error(t)},an=function(...i){const t=`FIREBASE FATAL ERROR: ${Zi(...i)}`;throw Dr.error(t),new Error(t)},at=function(...i){const t="FIREBASE WARNING: "+Zi(...i);Dr.warn(t)},Ev=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Au=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Sv=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Mr="[MIN_NAME]",Zn="[MAX_NAME]",nr=function(i,t){if(i===t)return 0;if(i===Mr||t===Zn)return-1;if(t===Mr||i===Zn)return 1;{const r=Ph(i),o=Ph(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},kv=function(i,t){return i===t?0:i<t?-1:1},Pi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Be(t))},Ou=function(i){if(typeof i!="object"||i===null)return Be(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Be(t[o]),r+=":",r+=Ou(i[t[o]]);return r+="}",r},kp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function Ze(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Ip=function(i){A(!Au(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,f,p,m;i===0?(c=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const _=[];for(m=r;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(a?1:0),_.reverse();const k=_.join("");let w="";for(m=0;m<64;m+=8){let I=parseInt(k.substr(m,8),2).toString(16);I.length===1&&(I="0"+I),w=w+I}return w.toLowerCase()},Iv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Tv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Nv(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const xv=new RegExp("^-?(0*)\\d{1,10}$"),Rv=-2147483648,Pv=2147483647,Ph=function(i){if(xv.test(i)){const t=Number(i);if(t>=Rv&&t<=Pv)return t}return null},jr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw at("Exception was thrown by user callback.",r),t},Math.floor(0))}},Dv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fi=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(t)}}class vo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}vo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="5",Tp="v",Np="s",xp="r",Rp="f",Pp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Dp="ls",Ap="p",gu="ac",Op="websocket",Mp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,r,o,a,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Jn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Mv(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Fp(i,t,r){A(typeof t=="string","typeof type must == string"),A(typeof r=="object","typeof params must == object");let o;if(t===Op)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Mp)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Mv(i)&&(r.ns=i.namespace);const a=[];return Ze(r,(c,f)=>{a.push(c+"="+f)}),o+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.counters_={}}incrementCounter(t,r=1){Yt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return b_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja={},Za={};function Lu(i){const t=i.toString();return Ja[t]||(Ja[t]=new Lv),Ja[t]}function Fv(i,t){const r=i.toString();return Za[r]||(Za[r]=t()),Za[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&jr(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="start",bv="close",Uv="pLPCommand",Bv="pRTLPCB",zp="id",bp="pw",Up="ser",jv="cb",Wv="seg",Hv="ts",Vv="d",$v="dframe",Bp=1870,jp=30,Qv=Bp-jp,Gv=25e3,Kv=3e4;class Rr{constructor(t,r,o,a,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=es(t),this.stats_=Lu(r),this.urlFn=m=>(this.appCheckToken&&(m[gu]=this.appCheckToken),Fp(r,Mp,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new zv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Kv)),Sv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fu((...c)=>{const[f,p,m,_,k]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Dh)this.id=p,this.password=m;else if(f===bv)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[Dh]="t",o[Up]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[jv]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Tp]=Mu,this.transportSessionId&&(o[Np]=this.transportSessionId),this.lastSessionId&&(o[Dp]=this.lastSessionId),this.applicationId&&(o[Ap]=this.applicationId),this.appCheckToken&&(o[gu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Pp.test(location.hostname)&&(o[xp]=Rp);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rr.forceAllow_=!0}static forceDisallow(){Rr.forceDisallow_=!0}static isAvailable(){return Rr.forceAllow_?!0:!Rr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Iv()&&!Tv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=ap(r),a=kp(o,Qv);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[$v]="t",o[zp]=t,o[bp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Be(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Fu{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wv(),window[Uv+this.uniqueCallbackIdentifier]=t,window[Bv+this.uniqueCallbackIdentifier]=r,this.myIFrame=Fu.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){Je("frame writing exception"),p.stack&&Je(p.stack),Je(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Je("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[zp]=this.myID,t[bp]=this.myPW,t[Up]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jp+o.length<=Bp;){const f=this.pendingSegs.shift();o=o+"&"+Wv+a+"="+f.seg+"&"+Hv+a+"="+f.ts+"&"+Vv+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(Gv)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Je("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=16384,qv=45e3;let ko=null;typeof MozWebSocket<"u"?ko=MozWebSocket:typeof WebSocket<"u"&&(ko=WebSocket);class Kt{constructor(t,r,o,a,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=es(this.connId),this.stats_=Lu(r),this.connURL=Kt.connectionURL_(r,f,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const f={};return f[Tp]=Mu,typeof location<"u"&&location.hostname&&Pp.test(location.hostname)&&(f[xp]=Rp),r&&(f[Np]=r),o&&(f[Dp]=o),a&&(f[gu]=a),c&&(f[Ap]=c),Fp(t,Op,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jn.set("previous_websocket_failure",!0);try{let o;Y_(),this.mySock=new ko(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&ko!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Jn.isInMemoryStorage||Jn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Jn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Bi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=kp(r,Yv);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qv))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{static get ALL_TRANSPORTS(){return[Rr,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Kt.isAvailable();let o=r&&!Kt.previouslyFailed();if(t.webSocketOnly&&(r||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Kt];else{const a=this.transports_=[];for(const c of Hi.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);Hi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=6e4,Jv=5e3,Zv=10*1024,ew=100*1024,eu="t",Ah="d",tw="s",Oh="r",nw="e",Mh="o",Lh="a",Fh="n",zh="p",rw="h";class iw{constructor(t,r,o,a,c,f,p,m,_,k){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=es("c:"+this.id+":"),this.transportManager_=new Hi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Fi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ew?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Zv?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(eu in t){const r=t[eu];r===Lh?this.upgradeIfSecondaryHealthy_():r===Oh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Mh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Pi("t",t),o=Pi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Pi("t",t),o=Pi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Pi(eu,t);if(Ah in t){const o=t[Ah];if(r===rw){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===Fh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===tw?this.onConnectionShutdown_(o):r===Oh?this.onReset_(o):r===nw?mu("Server Error: "+o):r===Mh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Mu!==o&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Fi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xv))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Jv))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){A(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Hp{static getInstance(){return new Io}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=32,Uh=768;class fe{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function ue(){return new fe("")}function ee(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Mn(i){return i.pieces_.length-i.pieceNum_}function _e(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new fe(i.pieces_,t)}function zu(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function sw(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Vi(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Vp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new fe(t,0)}function xe(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof fe)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new fe(r,0)}function re(i){return i.pieceNum_>=i.pieces_.length}function lt(i,t){const r=ee(i),o=ee(t);if(r===null)return t;if(r===o)return lt(_e(i),_e(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function ow(i,t){const r=Vi(i,0),o=Vi(t,0);for(let a=0;a<r.length&&a<o.length;a++){const c=nr(r[a],o[a]);if(c!==0)return c}return r.length===o.length?0:r.length<o.length?-1:1}function bu(i,t){if(Mn(i)!==Mn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Pt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Mn(i)>Mn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class lw{constructor(t,r){this.errorPrefix_=r,this.parts_=Vi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=bo(this.parts_[o]);$p(this)}}function aw(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=bo(t),$p(i)}function uw(i){const t=i.parts_.pop();i.byteLength_-=bo(t),i.parts_.length>0&&(i.byteLength_-=1)}function $p(i){if(i.byteLength_>Uh)throw new Error(i.errorPrefix_+"has a key path longer than "+Uh+" bytes ("+i.byteLength_+").");if(i.parts_.length>bh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bh+") or object contains a cycle "+Xn(i))}function Xn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Hp{static getInstance(){return new Uu}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=1e3,cw=60*5*1e3,Bh=30*1e3,dw=1.3,fw=3e4,hw="server_kill",jh=3;class on extends Wp{constructor(t,r,o,a,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=on.nextPersistentConnectionId_++,this.log_=es("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Di,this.maxReconnectDelay_=cw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Uu.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Io.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(Be(c)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new Xi,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,_=p.s;on.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Yt(t,"w")){const o=Or(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||ny(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Bh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=ty(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,f=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";a&&(c.q=o,c.t=a),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Be(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):mu("Unrecognized action received from server: "+Be(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fw&&(this.reconnectDelay_=Di),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*dw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+on.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},_=function(w){A(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:_};const k=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,I]=await Promise.all([this.authTokenProvider_.getToken(k),this.appCheckTokenProvider_.getToken(k)]);f?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=I&&I.token,p=new iw(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,O=>{at(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(hw)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&at(w),m())}}}interrupt(t){Je("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Je("Resuming connection for reason: "+t),delete this.interruptReasons_[t],gh(this.interruptReasons_)&&(this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>Ou(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new fe(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){Je("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jh&&(this.reconnectDelay_=Bh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Je("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Cp.replace(/\./g,"-")]=1,fp()?t["framework.cordova"]=1:K_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Io.getInstance().currentlyOnline();return gh(this.interruptReasons_)&&t}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new te(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new te(Mr,t),a=new te(Mr,r);return this.compare(o,a)!==0}minPost(){return te.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;class Qp extends Uo{static get __EMPTY_NODE(){return _o}static set __EMPTY_NODE(t){_o=t}compare(t,r){return nr(t.name,r.name)}isDefinedOn(t){throw Ur("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return te.MIN}maxPost(){return new te(Zn,_o)}makePost(t,r){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new te(t,_o)}toString(){return".key"}}const Ar=new Qp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class $e{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??$e.RED,this.left=a??gt.EMPTY_NODE,this.right=c??gt.EMPTY_NODE}copy(t,r,o,a,c){return new $e(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return gt.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}$e.RED=!0;$e.BLACK=!1;class pw{copy(t,r,o,a,c){return this}insert(t,r,o){return new $e(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gt{constructor(t,r=gt.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new gt(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,$e.BLACK,null,null))}remove(t){return new gt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$e.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new yo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new yo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new yo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new yo(this.root_,null,this.comparator_,!0,t)}}gt.EMPTY_NODE=new pw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(i,t){return nr(i.name,t.name)}function Bu(i,t){return nr(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u;function gw(i){_u=i}const Gp=function(i){return typeof i=="number"?"number:"+Ip(i):"string:"+i},Kp=function(i){if(i.isLeafNode()){const t=i.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Yt(t,".sv"),"Priority must be a string or number.")}else A(i===_u||i.isEmpty(),"priority of unexpected type.");A(i===_u||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;class Ve{static set __childrenNodeConstructor(t){Wh=t}static get __childrenNodeConstructor(){return Wh}constructor(t,r=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Kp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ve(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:ee(t)===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ee(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(A(o!==".priority"||Mn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Gp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Ip(this.value_):t+=this.value_,this.lazyHash_=Sp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ve.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ve.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=Ve.VALUE_TYPE_ORDER.indexOf(r),c=Ve.VALUE_TYPE_ORDER.indexOf(o);return A(a>=0,"Unknown leaf type: "+r),A(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp,qp;function _w(i){Yp=i}function yw(i){qp=i}class vw extends Uo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?nr(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return te.MIN}maxPost(){return new te(Zn,new Ve("[PRIORITY-POST]",qp))}makePost(t,r){const o=Yp(t);return new te(r,new Ve("[PRIORITY-POST]",o))}toString(){return".priority"}}const Re=new vw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=Math.log(2);class Cw{constructor(t){const r=c=>parseInt(Math.log(c)/ww,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const To=function(i,t,r,o){i.sort(t);const a=function(m,_){const k=_-m;let w,I;if(k===0)return null;if(k===1)return w=i[m],I=r?r(w):w,new $e(I,w.node,$e.BLACK,null,null);{const O=parseInt(k/2,10)+m,F=a(m,O),H=a(O+1,_);return w=i[O],I=r?r(w):w,new $e(I,w.node,$e.BLACK,F,H)}},c=function(m){let _=null,k=null,w=i.length;const I=function(F,H){const K=w-F,Me=w;w-=F;const Qe=a(K+1,Me),Ge=i[K],Ae=r?r(Ge):Ge;O(new $e(Ae,Ge.node,H,null,Qe))},O=function(F){_?(_.left=F,_=F):(k=F,_=F)};for(let F=0;F<m.count;++F){const H=m.nextBitIsOne(),K=Math.pow(2,m.count-(F+1));H?I(K,$e.BLACK):(I(K,$e.BLACK),I(K,$e.RED))}return k},f=new Cw(i.length),p=c(f);return new gt(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu;const Ai={};class sn{static get Default(){return A(Re,"ChildrenNode.ts has not been loaded"),tu=tu||new sn({".priority":Ai},{".priority":Re}),tu}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Or(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof gt?r:null}hasIndex(t){return Yt(this.indexSet_,t.toString())}addIndex(t,r){A(t!==Ar,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(te.Wrap);let f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;a?p=To(o,t.getCompare()):p=Ai;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const k=Object.assign({},this.indexes_);return k[m]=p,new sn(k,_)}addToIndexes(t,r){const o=Co(this.indexes_,(a,c)=>{const f=Or(this.indexSet_,c);if(A(f,"Missing index implementation for "+c),a===Ai)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(te.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&p.push(_),_=m.getNext();return p.push(t),To(p,f.getCompare())}else return Ai;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new te(t.name,p))),m.insert(t,t.node)}});return new sn(o,this.indexSet_)}removeFromIndexes(t,r){const o=Co(this.indexes_,a=>{if(a===Ai)return a;{const c=r.get(t.name);return c?a.remove(new te(t.name,c)):a}});return new sn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oi;class G{static get EMPTY_NODE(){return Oi||(Oi=new G(new gt(Bu),null,sn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Kp(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Oi}updatePriority(t){return this.children_.isEmpty()?this:new G(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Oi:r}}getChild(t){const r=ee(t);return r===null?this:this.getImmediateChild(r).getChild(_e(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(A(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new te(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?Oi:this.priorityNode_;return new G(a,f,c)}}updateChild(t,r){const o=ee(t);if(o===null)return r;{A(ee(t)!==".priority"||Mn(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(_e(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(Re,(f,p)=>{r[f]=p.val(t),o++,c&&G.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):c=!1}),!t&&c&&a<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Gp(this.getPriority().val())+":"),this.forEachChild(Re,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":Sp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new te(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new te(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new te(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,te.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,te.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ts?-1:0}withIndex(t){if(t===Ar||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new G(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ar||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Re),a=r.getIterator(Re);let c=o.getNext(),f=a.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Ar?null:this.indexMap_.get(t.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ew extends G{constructor(){super(new gt(Bu),G.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return G.EMPTY_NODE}isEmpty(){return!1}}const ts=new Ew;Object.defineProperties(te,{MIN:{value:new te(Mr,G.EMPTY_NODE)},MAX:{value:new te(Zn,ts)}});Qp.__EMPTY_NODE=G.EMPTY_NODE;Ve.__childrenNodeConstructor=G;gw(ts);yw(ts);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=!0;function Ue(i,t=null){if(i===null)return G.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Ve(r,Ue(t))}if(!(i instanceof Array)&&Sw){const r=[];let o=!1;if(Ze(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=Ue(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new te(f,m)))}}),r.length===0)return G.EMPTY_NODE;const c=To(r,mw,f=>f.name,Bu);if(o){const f=To(r,Re.getCompare());return new G(c,Ue(t),new sn({".priority":f},{".priority":Re}))}else return new G(c,Ue(t),sn.Default)}else{let r=G.EMPTY_NODE;return Ze(i,(o,a)=>{if(Yt(i,o)&&o.substring(0,1)!=="."){const c=Ue(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Ue(t))}}_w(Ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends Uo{constructor(t){super(),this.indexPath_=t,A(!re(t)&&ee(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?nr(t.name,r.name):c}makePost(t,r){const o=Ue(t),a=G.EMPTY_NODE.updateChild(this.indexPath_,o);return new te(r,a)}maxPost(){const t=G.EMPTY_NODE.updateChild(this.indexPath_,ts);return new te(Zn,t)}toString(){return Vi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Uo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?nr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(t,r){const o=Ue(t);return new te(r,o)}toString(){return".value"}}const Tw=new Iw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i){return{type:"value",snapshotNode:i}}function Lr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function $i(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Qi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function Nw(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t){this.index_=t}updateChild(t,r,o,a,c,f){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange($i(r,p)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Lr(r,o)):f.trackChildChange(Qi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Re,(a,c)=>{r.hasChild(a)||o.trackChildChange($i(a,c))}),r.isLeafNode()||r.forEachChild(Re,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||o.trackChildChange(Qi(a,c,f))}else o.trackChildChange(Lr(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?G.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this.indexedFilter_=new ju(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Gi.getStartPost_(t),this.endPost_=Gi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,f){return this.matches(new te(r,o))||(o=G.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=G.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(G.EMPTY_NODE);const c=this;return r.forEachChild(Re,(f,p)=>{c.matches(new te(f,p))||(a=a.updateImmediateChild(f,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Gi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,f){return this.rangedFilter_.matches(new te(r,o))||(o=G.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=G.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(G.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:a=a.updateImmediateChild(p.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(I,O)=>w(O,I)}else f=this.index_.getCompare();const p=t;A(p.numChildren()===this.limit_,"");const m=new te(r,o),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),k=this.rangedFilter_.matches(m);if(p.hasChild(r)){const w=p.getImmediateChild(r);let I=a.getChildAfterChild(this.index_,_,this.reverse_);for(;I!=null&&(I.name===r||p.hasChild(I.name));)I=a.getChildAfterChild(this.index_,I,this.reverse_);const O=I==null?1:f(I,m);if(k&&!o.isEmpty()&&O>=0)return c!=null&&c.trackChildChange(Qi(r,o,w)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange($i(r,w));const H=p.updateImmediateChild(r,G.EMPTY_NODE);return I!=null&&this.rangedFilter_.matches(I)?(c!=null&&c.trackChildChange(Lr(I.name,I.node)),H.updateImmediateChild(I.name,I.node)):H}}else return o.isEmpty()?t:k&&f(_,m)>=0?(c!=null&&(c.trackChildChange($i(_.name,_.node)),c.trackChildChange(Lr(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(_.name,G.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mr}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Re}copy(){const t=new Wu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Rw(i){return i.loadsAllData()?new ju(i.getIndex()):i.hasLimit()?new xw(i):new Gi(i)}function Hh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Re?r="$priority":i.index_===Tw?r="$value":i.index_===Ar?r="$key":(A(i.index_ instanceof kw,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Be(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Be(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Be(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Be(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Be(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Vh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Re&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Wp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=es("p:rest:"),this.listens_={}}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=No.getListenId_(t,o),p={};this.listens_[f]=p;const m=Hh(t._queryParams);this.restRequest_(c+".json",m,(_,k)=>{let w=k;if(_===404&&(w=null,_=null),_===null&&this.onDataUpdate_(c,w,!1,o),Or(this.listens_,f)===p){let I;_?_===401?I="permission_denied":I="rest_error:"+_:I="ok",a(I,null)}})}unlisten(t,r){const o=No.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Hh(t._queryParams),o=t._path.toString(),a=new Xi;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ry(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Bi(p.responseText)}catch{at("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&at("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return{value:null,children:new Map}}function Jp(i,t,r){if(re(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=ee(t);i.children.has(o)||i.children.set(o,xo());const a=i.children.get(o);t=_e(t),Jp(a,t,r)}}function yu(i,t,r){i.value!==null?r(t,i.value):Dw(i,(o,a)=>{const c=new fe(t.toString()+"/"+o);yu(a,c,r)})}function Dw(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Ze(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=10*1e3,Ow=30*1e3,Mw=5*60*1e3;class Lw{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Aw(t);const o=$h+(Ow-$h)*Math.random();Fi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;Ze(t,(a,c)=>{c>0&&Yt(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Fi(this.reportStats_.bind(this),Math.floor(Math.random()*2*Mw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function Hu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $u(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Ut.ACK_USER_WRITE,this.source=Hu()}operationForChild(t){if(re(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new fe(t));return new Ro(ue(),r,this.revert)}}else return A(ee(this.path)===t,"operationForChild called for unrelated child."),new Ro(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t,r){this.source=t,this.path=r,this.type=Ut.LISTEN_COMPLETE}operationForChild(t){return re(this.path)?new Ki(this.source,ue()):new Ki(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Ut.OVERWRITE}operationForChild(t){return re(this.path)?new er(this.source,ue(),this.snap.getImmediateChild(t)):new er(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Ut.MERGE}operationForChild(t){if(re(this.path)){const r=this.children.subtree(new fe(t));return r.isEmpty()?null:r.value?new er(this.source,ue(),r.value):new Fr(this.source,ue(),r)}else return A(ee(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fr(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(re(t))return this.isFullyInitialized()&&!this.filtered_;const r=ee(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zw(i,t,r,o){const a=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(Nw(f.childName,f.snapshotNode))}),Mi(i,a,"child_removed",t,o,r),Mi(i,a,"child_added",t,o,r),Mi(i,a,"child_moved",c,o,r),Mi(i,a,"child_changed",t,o,r),Mi(i,a,"value",t,o,r),a}function Mi(i,t,r,o,a,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>Uw(i,p,m)),f.forEach(p=>{const m=bw(i,p,c);a.forEach(_=>{_.respondsTo(p.type)&&t.push(_.createEvent(m,i.query_))})})}function bw(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function Uw(i,t,r){if(t.childName==null||r.childName==null)throw Ur("Should only compare child_ events.");const o=new te(t.childName,t.snapshotNode),a=new te(r.childName,r.snapshotNode);return i.index_.compare(o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(i,t){return{eventCache:i,serverCache:t}}function zi(i,t,r,o){return Bo(new Ln(t,r,o),i.serverCache)}function Zp(i,t,r,o){return Bo(i.eventCache,new Ln(t,r,o))}function Po(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function tr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu;const Bw=()=>(nu||(nu=new gt(kv)),nu);class me{static fromObject(t){let r=new me(null);return Ze(t,(o,a)=>{r=r.set(new fe(o),a)}),r}constructor(t,r=Bw()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:ue(),value:this.value};if(re(t))return null;{const o=ee(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(_e(t),r);return c!=null?{path:xe(new fe(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(re(t))return this;{const r=ee(t),o=this.children.get(r);return o!==null?o.subtree(_e(t)):new me(null)}}set(t,r){if(re(t))return new me(r,this.children);{const o=ee(t),c=(this.children.get(o)||new me(null)).set(_e(t),r),f=this.children.insert(o,c);return new me(this.value,f)}}remove(t){if(re(t))return this.children.isEmpty()?new me(null):new me(null,this.children);{const r=ee(t),o=this.children.get(r);if(o){const a=o.remove(_e(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new me(null):new me(this.value,c)}else return this}}get(t){if(re(t))return this.value;{const r=ee(t),o=this.children.get(r);return o?o.get(_e(t)):null}}setTree(t,r){if(re(t))return r;{const o=ee(t),c=(this.children.get(o)||new me(null)).setTree(_e(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new me(this.value,f)}}fold(t){return this.fold_(ue(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(xe(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,ue(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(re(t))return null;{const c=ee(t),f=this.children.get(c);return f?f.findOnPath_(_e(t),xe(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,ue(),r)}foreachOnPath_(t,r,o){if(re(t))return this;{this.value&&o(r,this.value);const a=ee(t),c=this.children.get(a);return c?c.foreachOnPath_(_e(t),xe(r,a),o):new me(null)}}foreach(t){this.foreach_(ue(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(xe(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.writeTree_=t}static empty(){return new Bt(new me(null))}}function bi(i,t,r){if(re(t))return new Bt(new me(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const f=lt(a,t);return c=c.updateChild(f,r),new Bt(i.writeTree_.set(a,c))}else{const a=new me(r),c=i.writeTree_.setTree(t,a);return new Bt(c)}}}function vu(i,t,r){let o=i;return Ze(r,(a,c)=>{o=bi(o,xe(t,a),c)}),o}function Qh(i,t){if(re(t))return Bt.empty();{const r=i.writeTree_.setTree(t,new me(null));return new Bt(r)}}function wu(i,t){return rr(i,t)!=null}function rr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(lt(r.path,t)):null}function Gh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Re,(o,a)=>{t.push(new te(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new te(o,a.value))}),t}function An(i,t){if(re(t))return i;{const r=rr(i,t);return r!=null?new Bt(new me(r)):new Bt(i.writeTree_.subtree(t))}}function Cu(i){return i.writeTree_.isEmpty()}function zr(i,t){return em(ue(),i.writeTree_,t)}function em(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(A(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=em(xe(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(xe(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(i,t){return im(t,i)}function jw(i,t,r,o,a){A(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=bi(i.visibleWrites,t,r)),i.lastWriteId=o}function Ww(i,t,r,o){A(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:r,writeId:o,visible:!0}),i.visibleWrites=vu(i.visibleWrites,t,r),i.lastWriteId=o}function Hw(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function Vw(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);A(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&$w(p,o.path)?a=!1:Pt(o.path,p.path)&&(c=!0)),f--}if(a){if(c)return Qw(i),!0;if(o.snap)i.visibleWrites=Qh(i.visibleWrites,o.path);else{const p=o.children;Ze(p,m=>{i.visibleWrites=Qh(i.visibleWrites,xe(o.path,m))})}return!0}else return!1}function $w(i,t){if(i.snap)return Pt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Pt(xe(i.path,r),t))return!0;return!1}function Qw(i){i.visibleWrites=tm(i.allWrites,Gw,ue()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function Gw(i){return i.visible}function tm(i,t,r){let o=Bt.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const f=c.path;let p;if(c.snap)Pt(r,f)?(p=lt(r,f),o=bi(o,p,c.snap)):Pt(f,r)&&(p=lt(f,r),o=bi(o,ue(),c.snap.getChild(p)));else if(c.children){if(Pt(r,f))p=lt(r,f),o=vu(o,p,c.children);else if(Pt(f,r))if(p=lt(f,r),re(p))o=vu(o,ue(),c.children);else{const m=Or(c.children,ee(p));if(m){const _=m.getChild(_e(p));o=bi(o,ue(),_)}}}else throw Ur("WriteRecord should have .snap or .children")}}return o}function nm(i,t,r,o,a){if(!o&&!a){const c=rr(i.visibleWrites,t);if(c!=null)return c;{const f=An(i.visibleWrites,t);if(Cu(f))return r;if(r==null&&!wu(f,ue()))return null;{const p=r||G.EMPTY_NODE;return zr(f,p)}}}else{const c=An(i.visibleWrites,t);if(!a&&Cu(c))return r;if(!a&&r==null&&!wu(c,ue()))return null;{const f=function(_){return(_.visible||a)&&(!o||!~o.indexOf(_.writeId))&&(Pt(_.path,t)||Pt(t,_.path))},p=tm(i.allWrites,f,t),m=r||G.EMPTY_NODE;return zr(p,m)}}}function Kw(i,t,r){let o=G.EMPTY_NODE;const a=rr(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Re,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=An(i.visibleWrites,t);return r.forEachChild(Re,(f,p)=>{const m=zr(An(c,new fe(f)),p);o=o.updateImmediateChild(f,m)}),Gh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=An(i.visibleWrites,t);return Gh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function Yw(i,t,r,o,a){A(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=xe(t,r);if(wu(i.visibleWrites,c))return null;{const f=An(i.visibleWrites,c);return Cu(f)?a.getChild(r):zr(f,a.getChild(r))}}function qw(i,t,r,o){const a=xe(t,r),c=rr(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=An(i.visibleWrites,a);return zr(f,o.getNode().getImmediateChild(r))}else return null}function Xw(i,t){return rr(i.visibleWrites,t)}function Jw(i,t,r,o,a,c,f){let p;const m=An(i.visibleWrites,t),_=rr(m,ue());if(_!=null)p=_;else if(r!=null)p=zr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const k=[],w=f.getCompare(),I=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let O=I.getNext();for(;O&&k.length<a;)w(O,o)!==0&&k.push(O),O=I.getNext();return k}else return[]}function Zw(){return{visibleWrites:Bt.empty(),allWrites:[],lastWriteId:-1}}function Do(i,t,r,o){return nm(i.writeTree,i.treePath,t,r,o)}function Qu(i,t){return Kw(i.writeTree,i.treePath,t)}function Kh(i,t,r,o){return Yw(i.writeTree,i.treePath,t,r,o)}function Ao(i,t){return Xw(i.writeTree,xe(i.treePath,t))}function eC(i,t,r,o,a,c){return Jw(i.writeTree,i.treePath,t,r,o,a,c)}function Gu(i,t,r){return qw(i.writeTree,i.treePath,t,r)}function rm(i,t){return im(xe(i.treePath,t),i.writeTree)}function im(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;A(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),A(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,Qi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,$i(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Lr(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,Qi(o,t.snapshotNode,a.oldSnap));else throw Ur("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const sm=new nC;class Ku{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Ln(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gu(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:tr(this.viewCache_),c=eC(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(i){return{filter:i}}function iC(i,t){A(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function sC(i,t,r,o,a){const c=new tC;let f,p;if(r.type===Ut.OVERWRITE){const _=r;_.source.fromUser?f=Eu(i,t,_.path,_.snap,o,a,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered()&&!re(_.path),f=Oo(i,t,_.path,_.snap,o,a,p,c))}else if(r.type===Ut.MERGE){const _=r;_.source.fromUser?f=lC(i,t,_.path,_.children,o,a,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered(),f=Su(i,t,_.path,_.children,o,a,p,c))}else if(r.type===Ut.ACK_USER_WRITE){const _=r;_.revert?f=cC(i,t,_.path,o,a,c):f=aC(i,t,_.path,_.affectedTree,o,a,c)}else if(r.type===Ut.LISTEN_COMPLETE)f=uC(i,t,r.path,o,c);else throw Ur("Unknown operation type: "+r.type);const m=c.getChanges();return oC(t,f,m),{viewCache:f,changes:m}}function oC(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=Po(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(Xp(Po(t)))}}function om(i,t,r,o,a,c){const f=t.eventCache;if(Ao(o,r)!=null)return t;{let p,m;if(re(r))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=tr(t),k=_ instanceof G?_:G.EMPTY_NODE,w=Qu(o,k);p=i.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const _=Do(o,tr(t));p=i.filter.updateFullNode(t.eventCache.getNode(),_,c)}else{const _=ee(r);if(_===".priority"){A(Mn(r)===1,"Can't have a priority with additional path components");const k=f.getNode();m=t.serverCache.getNode();const w=Kh(o,r,k,m);w!=null?p=i.filter.updatePriority(k,w):p=f.getNode()}else{const k=_e(r);let w;if(f.isCompleteForChild(_)){m=t.serverCache.getNode();const I=Kh(o,r,f.getNode(),m);I!=null?w=f.getNode().getImmediateChild(_).updateChild(k,I):w=f.getNode().getImmediateChild(_)}else w=Gu(o,_,t.serverCache);w!=null?p=i.filter.updateChild(f.getNode(),_,w,k,a,c):p=f.getNode()}}return zi(t,p,f.isFullyInitialized()||re(r),i.filter.filtersNodes())}}function Oo(i,t,r,o,a,c,f,p){const m=t.serverCache;let _;const k=f?i.filter:i.filter.getIndexedFilter();if(re(r))_=k.updateFullNode(m.getNode(),o,null);else if(k.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(r,o);_=k.updateFullNode(m.getNode(),O,null)}else{const O=ee(r);if(!m.isCompleteForPath(r)&&Mn(r)>1)return t;const F=_e(r),K=m.getNode().getImmediateChild(O).updateChild(F,o);O===".priority"?_=k.updatePriority(m.getNode(),K):_=k.updateChild(m.getNode(),O,K,F,sm,null)}const w=Zp(t,_,m.isFullyInitialized()||re(r),k.filtersNodes()),I=new Ku(a,w,c);return om(i,w,r,a,I,p)}function Eu(i,t,r,o,a,c,f){const p=t.eventCache;let m,_;const k=new Ku(a,t,c);if(re(r))_=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=zi(t,_,!0,i.filter.filtersNodes());else{const w=ee(r);if(w===".priority")_=i.filter.updatePriority(t.eventCache.getNode(),o),m=zi(t,_,p.isFullyInitialized(),p.isFiltered());else{const I=_e(r),O=p.getNode().getImmediateChild(w);let F;if(re(I))F=o;else{const H=k.getCompleteChild(w);H!=null?zu(I)===".priority"&&H.getChild(Vp(I)).isEmpty()?F=H:F=H.updateChild(I,o):F=G.EMPTY_NODE}if(O.equals(F))m=t;else{const H=i.filter.updateChild(p.getNode(),w,F,I,k,f);m=zi(t,H,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Yh(i,t){return i.eventCache.isCompleteForChild(t)}function lC(i,t,r,o,a,c,f){let p=t;return o.foreach((m,_)=>{const k=xe(r,m);Yh(t,ee(k))&&(p=Eu(i,p,k,_,a,c,f))}),o.foreach((m,_)=>{const k=xe(r,m);Yh(t,ee(k))||(p=Eu(i,p,k,_,a,c,f))}),p}function qh(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function Su(i,t,r,o,a,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;re(r)?_=o:_=new me(null).setTree(r,o);const k=t.serverCache.getNode();return _.children.inorderTraversal((w,I)=>{if(k.hasChild(w)){const O=t.serverCache.getNode().getImmediateChild(w),F=qh(i,O,I);m=Oo(i,m,new fe(w),F,a,c,f,p)}}),_.children.inorderTraversal((w,I)=>{const O=!t.serverCache.isCompleteForChild(w)&&I.value===null;if(!k.hasChild(w)&&!O){const F=t.serverCache.getNode().getImmediateChild(w),H=qh(i,F,I);m=Oo(i,m,new fe(w),H,a,c,f,p)}}),m}function aC(i,t,r,o,a,c,f){if(Ao(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(re(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Oo(i,t,r,m.getNode().getChild(r),a,c,p,f);if(re(r)){let _=new me(null);return m.getNode().forEachChild(Ar,(k,w)=>{_=_.set(new fe(k),w)}),Su(i,t,r,_,a,c,p,f)}else return t}else{let _=new me(null);return o.foreach((k,w)=>{const I=xe(r,k);m.isCompleteForPath(I)&&(_=_.set(k,m.getNode().getChild(I)))}),Su(i,t,r,_,a,c,p,f)}}function uC(i,t,r,o,a){const c=t.serverCache,f=Zp(t,c.getNode(),c.isFullyInitialized()||re(r),c.isFiltered());return om(i,f,r,o,sm,a)}function cC(i,t,r,o,a,c){let f;if(Ao(o,r)!=null)return t;{const p=new Ku(o,t,a),m=t.eventCache.getNode();let _;if(re(r)||ee(r)===".priority"){let k;if(t.serverCache.isFullyInitialized())k=Do(o,tr(t));else{const w=t.serverCache.getNode();A(w instanceof G,"serverChildren would be complete if leaf node"),k=Qu(o,w)}k=k,_=i.filter.updateFullNode(m,k,c)}else{const k=ee(r);let w=Gu(o,k,t.serverCache);w==null&&t.serverCache.isCompleteForChild(k)&&(w=m.getImmediateChild(k)),w!=null?_=i.filter.updateChild(m,k,w,_e(r),p,c):t.eventCache.getNode().hasChild(k)?_=i.filter.updateChild(m,k,G.EMPTY_NODE,_e(r),p,c):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Do(o,tr(t)),f.isLeafNode()&&(_=i.filter.updateFullNode(_,f,c)))}return f=t.serverCache.isFullyInitialized()||Ao(o,ue())!=null,zi(t,_,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new ju(o.getIndex()),c=Rw(o);this.processor_=rC(c);const f=r.serverCache,p=r.eventCache,m=a.updateFullNode(G.EMPTY_NODE,f.getNode(),null),_=c.updateFullNode(G.EMPTY_NODE,p.getNode(),null),k=new Ln(m,f.isFullyInitialized(),a.filtersNodes()),w=new Ln(_,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Bo(w,k),this.eventGenerator_=new Fw(this.query_)}get query(){return this.query_}}function fC(i){return i.viewCache_.serverCache.getNode()}function hC(i){return Po(i.viewCache_)}function pC(i,t){const r=tr(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!re(t)&&!r.getImmediateChild(ee(t)).isEmpty())?r.getChild(t):null}function Xh(i){return i.eventRegistrations_.length===0}function mC(i,t){i.eventRegistrations_.push(t)}function Jh(i,t,r){const o=[];if(r){A(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function Zh(i,t,r,o){t.type===Ut.MERGE&&t.source.queryId!==null&&(A(tr(i.viewCache_),"We should always have a full cache before handling merges"),A(Po(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=sC(i.processor_,a,t,r,o);return iC(i.processor_,c.viewCache),A(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,lm(i,c.changes,c.viewCache.eventCache.getNode(),null)}function gC(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Re,(c,f)=>{o.push(Lr(c,f))}),r.isFullyInitialized()&&o.push(Xp(r.getNode())),lm(i,o,r.getNode(),t)}function lm(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return zw(i.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;class am{constructor(){this.views=new Map}}function _C(i){A(!Mo,"__referenceConstructor has already been defined"),Mo=i}function yC(){return A(Mo,"Reference.ts has not been loaded"),Mo}function vC(i){return i.views.size===0}function Yu(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return A(c!=null,"SyncTree gave us an op for an invalid query."),Zh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(Zh(f,t,r,o));return c}}function um(i,t,r,o,a){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=Do(r,a?o:null),m=!1;p?m=!0:o instanceof G?(p=Qu(r,o),m=!1):(p=G.EMPTY_NODE,m=!1);const _=Bo(new Ln(p,m,!1),new Ln(o,a,!1));return new dC(t,_)}return f}function wC(i,t,r,o,a,c){const f=um(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),mC(f,r),gC(f,r)}function CC(i,t,r,o){const a=t._queryIdentifier,c=[];let f=[];const p=Fn(i);if(a==="default")for(const[m,_]of i.views.entries())f=f.concat(Jh(_,r,o)),Xh(_)&&(i.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=i.views.get(a);m&&(f=f.concat(Jh(m,r,o)),Xh(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!Fn(i)&&c.push(new(yC())(t._repo,t._path)),{removed:c,events:f}}function cm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function On(i,t){let r=null;for(const o of i.views.values())r=r||pC(o,t);return r}function dm(i,t){if(t._queryParams.loadsAllData())return Wo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function fm(i,t){return dm(i,t)!=null}function Fn(i){return Wo(i)!=null}function Wo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo;function EC(i){A(!Lo,"__referenceConstructor has already been defined"),Lo=i}function SC(){return A(Lo,"Reference.ts has not been loaded"),Lo}let kC=1;class ep{constructor(t){this.listenProvider_=t,this.syncPointTree_=new me(null),this.pendingWriteTree_=Zw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hm(i,t,r,o,a){return jw(i.pendingWriteTree_,t,r,o,a),a?Wr(i,new er(Hu(),t,r)):[]}function IC(i,t,r,o){Ww(i.pendingWriteTree_,t,r,o);const a=me.fromObject(r);return Wr(i,new Fr(Hu(),t,a))}function Rn(i,t,r=!1){const o=Hw(i.pendingWriteTree_,t);if(Vw(i.pendingWriteTree_,t)){let c=new me(null);return o.snap!=null?c=c.set(ue(),!0):Ze(o.children,f=>{c=c.set(new fe(f),!0)}),Wr(i,new Ro(o.path,c,r))}else return[]}function ns(i,t,r){return Wr(i,new er(Vu(),t,r))}function TC(i,t,r){const o=me.fromObject(r);return Wr(i,new Fr(Vu(),t,o))}function NC(i,t){return Wr(i,new Ki(Vu(),t))}function xC(i,t,r){const o=Xu(i,r);if(o){const a=Ju(o),c=a.path,f=a.queryId,p=lt(c,t),m=new Ki($u(f),p);return Zu(i,c,m)}else return[]}function Fo(i,t,r,o,a=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||fm(f,t))){const m=CC(f,t,r,o);vC(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const _=m.removed;if(p=m.events,!a){const k=_.findIndex(I=>I._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(c,(I,O)=>Fn(O));if(k&&!w){const I=i.syncPointTree_.subtree(c);if(!I.isEmpty()){const O=DC(I);for(let F=0;F<O.length;++F){const H=O[F],K=H.query,Me=_m(i,H);i.listenProvider_.startListening(Ui(K),Yi(i,K),Me.hashFn,Me.onComplete)}}}!w&&_.length>0&&!o&&(k?i.listenProvider_.stopListening(Ui(t),null):_.forEach(I=>{const O=i.queryToTagMap.get(Ho(I));i.listenProvider_.stopListening(Ui(I),O)}))}AC(i,_)}return p}function pm(i,t,r,o){const a=Xu(i,o);if(a!=null){const c=Ju(a),f=c.path,p=c.queryId,m=lt(f,t),_=new er($u(p),m,r);return Zu(i,f,_)}else return[]}function RC(i,t,r,o){const a=Xu(i,o);if(a){const c=Ju(a),f=c.path,p=c.queryId,m=lt(f,t),_=me.fromObject(r),k=new Fr($u(p),m,_);return Zu(i,f,k)}else return[]}function ku(i,t,r,o=!1){const a=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(a,(I,O)=>{const F=lt(I,a);c=c||On(O,F),f=f||Fn(O)});let p=i.syncPointTree_.get(a);p?(f=f||Fn(p),c=c||On(p,ue())):(p=new am,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=G.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((O,F)=>{const H=On(F,ue());H&&(c=c.updateImmediateChild(O,H))}));const _=fm(p,t);if(!_&&!t._queryParams.loadsAllData()){const I=Ho(t);A(!i.queryToTagMap.has(I),"View does not exist, but we have a tag");const O=OC();i.queryToTagMap.set(I,O),i.tagToQueryMap.set(O,I)}const k=jo(i.pendingWriteTree_,a);let w=wC(p,t,r,k,c,m);if(!_&&!f&&!o){const I=dm(p,t);w=w.concat(MC(i,t,I))}return w}function qu(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=lt(f,t),_=On(p,m);if(_)return _});return nm(a,t,c,r,!0)}function PC(i,t){const r=t._path;let o=null;i.syncPointTree_.foreachOnPath(r,(_,k)=>{const w=lt(_,r);o=o||On(k,w)});let a=i.syncPointTree_.get(r);a?o=o||On(a,ue()):(a=new am,i.syncPointTree_=i.syncPointTree_.set(r,a));const c=o!=null,f=c?new Ln(o,!0,!1):null,p=jo(i.pendingWriteTree_,t._path),m=um(a,t,p,c?f.getNode():G.EMPTY_NODE,c);return hC(m)}function Wr(i,t){return mm(t,i.syncPointTree_,null,jo(i.pendingWriteTree_,ue()))}function mm(i,t,r,o){if(re(i.path))return gm(i,t,r,o);{const a=t.get(ue());r==null&&a!=null&&(r=On(a,ue()));let c=[];const f=ee(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const _=r?r.getImmediateChild(f):null,k=rm(o,f);c=c.concat(mm(p,m,_,k))}return a&&(c=c.concat(Yu(a,i,o,r))),c}}function gm(i,t,r,o){const a=t.get(ue());r==null&&a!=null&&(r=On(a,ue()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,_=rm(o,f),k=i.operationForChild(f);k&&(c=c.concat(gm(k,p,m,_)))}),a&&(c=c.concat(Yu(a,i,o,r))),c}function _m(i,t){const r=t.query,o=Yi(i,r);return{hashFn:()=>(fC(t)||G.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?xC(i,r._path,o):NC(i,r._path);{const c=Nv(a,r);return Fo(i,r,null,c)}}}}function Yi(i,t){const r=Ho(t);return i.queryToTagMap.get(r)}function Ho(i){return i._path.toString()+"$"+i._queryIdentifier}function Xu(i,t){return i.tagToQueryMap.get(t)}function Ju(i){const t=i.indexOf("$");return A(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new fe(i.substr(0,t))}}function Zu(i,t,r){const o=i.syncPointTree_.get(t);A(o,"Missing sync point for query tag that we're tracking");const a=jo(i.pendingWriteTree_,t);return Yu(o,r,a,null)}function DC(i){return i.fold((t,r,o)=>{if(r&&Fn(r))return[Wo(r)];{let a=[];return r&&(a=cm(r)),Ze(o,(c,f)=>{a=a.concat(f)}),a}})}function Ui(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(SC())(i._repo,i._path):i}function AC(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=Ho(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function OC(){return kC++}function MC(i,t,r){const o=t._path,a=Yi(i,t),c=_m(i,r),f=i.listenProvider_.startListening(Ui(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)A(!Fn(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,k,w)=>{if(!re(_)&&k&&Fn(k))return[Wo(k).query];{let I=[];return k&&(I=I.concat(cm(k).map(O=>O.query))),Ze(w,(O,F)=>{I=I.concat(F)}),I}});for(let _=0;_<m.length;++_){const k=m[_];i.listenProvider_.stopListening(Ui(k),Yi(i,k))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new ec(r)}node(){return this.node_}}class tc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=xe(this.path_,t);return new tc(this.syncTree_,r)}node(){return qu(this.syncTree_,this.path_)}}const LC=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},tp=function(i,t,r){if(!i||typeof i!="object")return i;if(A(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return FC(i[".sv"],t,r);if(typeof i[".sv"]=="object")return zC(i[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},FC=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:A(!1,"Unexpected server value: "+i)}},zC=function(i,t,r){i.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&A(!1,"Unexpected increment value: "+o);const a=t.node();if(A(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},ym=function(i,t,r,o){return nc(t,new tc(r,i),o)},vm=function(i,t,r){return nc(i,new ec(t),r)};function nc(i,t,r){const o=i.getPriority().val(),a=tp(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=tp(f.getValue(),t,r);return p!==f.getValue()||a!==f.getPriority().val()?new Ve(p,Ue(a)):i}else{const f=i;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new Ve(a))),f.forEachChild(Re,(p,m)=>{const _=nc(m,t.getImmediateChild(p),r);_!==m&&(c=c.updateImmediateChild(p,_))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function ic(i,t){let r=t instanceof fe?t:new fe(t),o=i,a=ee(r);for(;a!==null;){const c=Or(o.node.children,a)||{children:{},childCount:0};o=new rc(a,o,c),r=_e(r),a=ee(r)}return o}function Hr(i){return i.node.value}function wm(i,t){i.node.value=t,Iu(i)}function Cm(i){return i.node.childCount>0}function bC(i){return Hr(i)===void 0&&!Cm(i)}function Vo(i,t){Ze(i.node.children,(r,o)=>{t(new rc(r,i,o))})}function Em(i,t,r,o){r&&t(i),Vo(i,a=>{Em(a,t,!0)})}function UC(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function rs(i){return new fe(i.parent===null?i.name:rs(i.parent)+"/"+i.name)}function Iu(i){i.parent!==null&&BC(i.parent,i.name,i)}function BC(i,t,r){const o=bC(r),a=Yt(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,Iu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,Iu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=/[\[\].#$\/\u0000-\u001F\u007F]/,WC=/[\[\].#$\u0000-\u001F\u007F]/,ru=10*1024*1024,sc=function(i){return typeof i=="string"&&i.length!==0&&!jC.test(i)},Sm=function(i){return typeof i=="string"&&i.length!==0&&!WC.test(i)},HC=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Sm(i)},VC=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Au(i)||i&&typeof i=="object"&&Yt(i,".sv")},$C=function(i,t,r,o){$o(zo(i,"value"),t,r)},$o=function(i,t,r){const o=r instanceof fe?new lw(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Xn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Xn(o)+" with contents = "+t.toString());if(Au(t))throw new Error(i+"contains "+t.toString()+" "+Xn(o));if(typeof t=="string"&&t.length>ru/3&&bo(t)>ru)throw new Error(i+"contains a string greater than "+ru+" utf8 bytes "+Xn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(Ze(t,(f,p)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!sc(f)))throw new Error(i+" contains an invalid key ("+f+") "+Xn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aw(o,f),$o(i,p,o),uw(o)}),a&&c)throw new Error(i+' contains ".value" child '+Xn(o)+" in addition to actual children.")}},QC=function(i,t){let r,o;for(r=0;r<t.length;r++){o=t[r];const c=Vi(o);for(let f=0;f<c.length;f++)if(!(c[f]===".priority"&&f===c.length-1)){if(!sc(c[f]))throw new Error(i+"contains an invalid key ("+c[f]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(ow);let a=null;for(r=0;r<t.length;r++){if(o=t[r],a!==null&&Pt(a,o))throw new Error(i+"contains a path "+a.toString()+" that is ancestor of another path "+o.toString());a=o}},GC=function(i,t,r,o){const a=zo(i,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];Ze(t,(f,p)=>{const m=new fe(f);if($o(a,p,xe(r,m)),zu(m)===".priority"&&!VC(p))throw new Error(a+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),QC(a,c)},km=function(i,t,r,o){if(!Sm(r))throw new Error(zo(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},KC=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),km(i,t,r)},YC=function(i,t){if(ee(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},qC=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!sc(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!HC(r))throw new Error(zo(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qo(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!bu(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function Im(i,t,r){Qo(i,r),Tm(i,o=>bu(o,t))}function Dt(i,t,r){Qo(i,r),Tm(i,o=>Pt(o,t)||Pt(t,o))}function Tm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(JC(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function JC(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Li&&Je("event: "+r.toString()),jr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="repo_interrupt",eE=25;class tE{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xo(),this.transactionQueueTree_=new rc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nE(i,t,r){if(i.stats_=Lu(i.repoInfo_),i.forceRestClient_||Dv())i.server_=new No(i.repoInfo_,(o,a,c,f)=>{np(i,o,a,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>rp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new on(i.repoInfo_,t,(o,a,c,f)=>{np(i,o,a,c,f)},o=>{rp(i,o)},o=>{iE(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=Fv(i.repoInfo_,()=>new Lw(i.stats_,i.server_)),i.infoData_=new Pw,i.infoSyncTree_=new ep({startListening:(o,a,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=ns(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),oc(i,"connected",!1),i.serverSyncTree_=new ep({startListening:(o,a,c,f)=>(i.server_.listen(o,c,a,(p,m)=>{const _=f(p,m);Dt(i.eventQueue_,o._path,_)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function rE(i){const r=i.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Go(i){return LC({timestamp:rE(i)})}function np(i,t,r,o,a){i.dataUpdateCount++;const c=new fe(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=Co(r,_=>Ue(_));f=RC(i.serverSyncTree_,c,m,a)}else{const m=Ue(r);f=pm(i.serverSyncTree_,c,m,a)}else if(o){const m=Co(r,_=>Ue(_));f=TC(i.serverSyncTree_,c,m)}else{const m=Ue(r);f=ns(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=br(i,c)),Dt(i.eventQueue_,p,f)}function rp(i,t){oc(i,"connected",t),t===!1&&aE(i)}function iE(i,t){Ze(t,(r,o)=>{oc(i,r,o)})}function oc(i,t,r){const o=new fe("/.info/"+t),a=Ue(r);i.infoData_.updateSnapshot(o,a);const c=ns(i.infoSyncTree_,o,a);Dt(i.eventQueue_,o,c)}function lc(i){return i.nextWriteId_++}function sE(i,t,r){const o=PC(i.serverSyncTree_,t);return o!=null?Promise.resolve(o):i.server_.get(t).then(a=>{const c=Ue(a).withIndex(t._queryParams.getIndex());ku(i.serverSyncTree_,t,r,!0);let f;if(t._queryParams.loadsAllData())f=ns(i.serverSyncTree_,t._path,c);else{const p=Yi(i.serverSyncTree_,t);f=pm(i.serverSyncTree_,t._path,c,p)}return Dt(i.eventQueue_,t._path,f),Fo(i.serverSyncTree_,t,r,null,!0),c},a=>(is(i,"get for query "+Be(t)+" failed: "+a),Promise.reject(new Error(a))))}function oE(i,t,r,o,a){is(i,"set",{path:t.toString(),value:r,priority:o});const c=Go(i),f=Ue(r,o),p=qu(i.serverSyncTree_,t),m=vm(f,p,c),_=lc(i),k=hm(i.serverSyncTree_,t,m,_,!0);Qo(i.eventQueue_,k),i.server_.put(t.toString(),f.val(!0),(I,O)=>{const F=I==="ok";F||at("set at "+t+" failed: "+I);const H=Rn(i.serverSyncTree_,_,!F);Dt(i.eventQueue_,t,H),Tu(i,a,I,O)});const w=uc(i,t);br(i,w),Dt(i.eventQueue_,w,[])}function lE(i,t,r,o){is(i,"update",{path:t.toString(),value:r});let a=!0;const c=Go(i),f={};if(Ze(r,(p,m)=>{a=!1,f[p]=ym(xe(t,p),Ue(m),i.serverSyncTree_,c)}),a)Je("update() called with empty data.  Don't do anything."),Tu(i,o,"ok",void 0);else{const p=lc(i),m=IC(i.serverSyncTree_,t,f,p);Qo(i.eventQueue_,m),i.server_.merge(t.toString(),r,(_,k)=>{const w=_==="ok";w||at("update at "+t+" failed: "+_);const I=Rn(i.serverSyncTree_,p,!w),O=I.length>0?br(i,t):t;Dt(i.eventQueue_,O,I),Tu(i,o,_,k)}),Ze(r,_=>{const k=uc(i,xe(t,_));br(i,k)}),Dt(i.eventQueue_,t,[])}}function aE(i){is(i,"onDisconnectEvents");const t=Go(i),r=xo();yu(i.onDisconnect_,ue(),(a,c)=>{const f=ym(a,c,i.serverSyncTree_,t);Jp(r,a,f)});let o=[];yu(r,ue(),(a,c)=>{o=o.concat(ns(i.serverSyncTree_,a,c));const f=uc(i,a);br(i,f)}),i.onDisconnect_=xo(),Dt(i.eventQueue_,ue(),o)}function uE(i,t,r){let o;ee(t._path)===".info"?o=ku(i.infoSyncTree_,t,r):o=ku(i.serverSyncTree_,t,r),Im(i.eventQueue_,t._path,o)}function cE(i,t,r){let o;ee(t._path)===".info"?o=Fo(i.infoSyncTree_,t,r):o=Fo(i.serverSyncTree_,t,r),Im(i.eventQueue_,t._path,o)}function dE(i){i.persistentConnection_&&i.persistentConnection_.interrupt(ZC)}function is(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Je(r,...t)}function Tu(i,t,r,o){t&&jr(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let c=a;o&&(c+=": "+o);const f=new Error(c);f.code=a,t(f)}})}function Nm(i,t,r){return qu(i.serverSyncTree_,t,r)||G.EMPTY_NODE}function ac(i,t=i.transactionQueueTree_){if(t||Ko(i,t),Hr(t)){const r=Rm(i,t);A(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&fE(i,rs(t),r)}else Cm(t)&&Vo(t,r=>{ac(i,r)})}function fE(i,t,r){const o=r.map(_=>_.currentWriteId),a=Nm(i,t,o);let c=a;const f=a.hash();for(let _=0;_<r.length;_++){const k=r[_];A(k.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const w=lt(t,k.path);c=c.updateChild(w,k.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,_=>{is(i,"transaction put response",{path:m.toString(),status:_});let k=[];if(_==="ok"){const w=[];for(let I=0;I<r.length;I++)r[I].status=2,k=k.concat(Rn(i.serverSyncTree_,r[I].currentWriteId)),r[I].onComplete&&w.push(()=>r[I].onComplete(null,!0,r[I].currentOutputSnapshotResolved)),r[I].unwatcher();Ko(i,ic(i.transactionQueueTree_,t)),ac(i,i.transactionQueueTree_),Dt(i.eventQueue_,t,k);for(let I=0;I<w.length;I++)jr(w[I])}else{if(_==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{at("transaction at "+m.toString()+" failed: "+_);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=_}br(i,t)}},f)}function br(i,t){const r=xm(i,t),o=rs(r),a=Rm(i,r);return hE(i,a,o),o}function hE(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],_=lt(r,m.path);let k=!1,w;if(A(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)k=!0,w=m.abortReason,a=a.concat(Rn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=eE)k=!0,w="maxretry",a=a.concat(Rn(i.serverSyncTree_,m.currentWriteId,!0));else{const I=Nm(i,m.path,f);m.currentInputSnapshot=I;const O=t[p].update(I.val());if(O!==void 0){$o("transaction failed: Data returned ",O,m.path);let F=Ue(O);typeof O=="object"&&O!=null&&Yt(O,".priority")||(F=F.updatePriority(I.getPriority()));const K=m.currentWriteId,Me=Go(i),Qe=vm(F,I,Me);m.currentOutputSnapshotRaw=F,m.currentOutputSnapshotResolved=Qe,m.currentWriteId=lc(i),f.splice(f.indexOf(K),1),a=a.concat(hm(i.serverSyncTree_,m.path,Qe,m.currentWriteId,m.applyLocally)),a=a.concat(Rn(i.serverSyncTree_,K,!0))}else k=!0,w="nodata",a=a.concat(Rn(i.serverSyncTree_,m.currentWriteId,!0))}Dt(i.eventQueue_,r,a),a=[],k&&(t[p].status=2,function(I){setTimeout(I,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(w==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(w),!1,null))))}Ko(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)jr(o[p]);ac(i,i.transactionQueueTree_)}function xm(i,t){let r,o=i.transactionQueueTree_;for(r=ee(t);r!==null&&Hr(o)===void 0;)o=ic(o,r),t=_e(t),r=ee(t);return o}function Rm(i,t){const r=[];return Pm(i,t,r),r.sort((o,a)=>o.order-a.order),r}function Pm(i,t,r){const o=Hr(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);Vo(t,a=>{Pm(i,a,r)})}function Ko(i,t){const r=Hr(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,wm(t,r.length>0?r:void 0)}Vo(t,o=>{Ko(i,o)})}function uc(i,t){const r=rs(xm(i,t)),o=ic(i.transactionQueueTree_,t);return UC(o,a=>{iu(i,a)}),iu(i,o),Em(o,a=>{iu(i,a)}),r}function iu(i,t){const r=Hr(t);if(r){const o=[];let a=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(A(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(A(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(Rn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?wm(t,void 0):r.length=c+1,Dt(i.eventQueue_,rs(t),a);for(let f=0;f<o.length;f++)jr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function mE(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):at(`Invalid query segment '${r}' in query '${i}'`)}return t}const ip=function(i,t){const r=gE(i),o=r.namespace;r.domain==="firebase.com"&&an(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Ev();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Lp(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new fe(r.pathString)}},gE=function(i){let t="",r="",o="",a="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let _=i.indexOf("//");_>=0&&(p=i.substring(0,_-1),i=i.substring(_+2));let k=i.indexOf("/");k===-1&&(k=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(k,w)),k<w&&(a=pE(i.substring(k,w)));const I=mE(i.substring(Math.min(i.length,w)));_=t.indexOf(":"),_>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const O=t.slice(0,_);if(O.toLowerCase()==="localhost")r="localhost";else if(O.split(".").length<=2)r=O;else{const F=t.indexOf(".");o=t.substring(0,F).toLowerCase(),r=t.substring(F+1),c=o}"ns"in I&&(c=I.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:a,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class yE{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return re(this._path)?null:zu(this._path)}get ref(){return new un(this._repo,this._path)}get _queryIdentifier(){const t=Vh(this._queryParams),r=Ou(t);return r==="{}"?"default":r}get _queryObject(){return Vh(this._queryParams)}isEqual(t){if(t=Br(t),!(t instanceof cc))return!1;const r=this._repo===t._repo,o=bu(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+sw(this._path)}}class un extends cc{constructor(t,r){super(t,r,new Wu,!1)}get parent(){const t=Vp(this._path);return t===null?null:new un(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class qi{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new fe(t),o=Nu(this.ref,t);return new qi(this._node.getChild(r),o,Re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new qi(a,Nu(this.ref,o),Re)))}hasChild(t){const r=new fe(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qt(i,t){return i=Br(i),i._checkNotDeleted("ref"),t!==void 0?Nu(i._root,t):i._root}function Nu(i,t){return i=Br(i),ee(i._path)===null?KC("child","path",t):km("child","path",t),new un(i._repo,xe(i._path,t))}function su(i,t){i=Br(i),YC("set",i._path),$C("set",t,i._path);const r=new Xi;return oE(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function ou(i,t){GC("update",t,i._path);const r=new Xi;return lE(i._repo,i._path,t,r.wrapCallback(()=>{})),r.promise}function vE(i){i=Br(i);const t=new Dm(()=>{}),r=new Yo(t);return sE(i._repo,i,r).then(o=>new qi(o,new un(i._repo,i._path),i._queryParams.getIndex()))}class Yo{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new _E("value",this,new qi(t.snapshotNode,new un(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new yE(this,t,r):null}matches(t){return t instanceof Yo?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function wE(i,t,r,o,a){const c=new Dm(r,void 0),f=new Yo(c);return uE(i._repo,i,f),()=>cE(i._repo,i,f)}function lu(i,t,r,o){return wE(i,"value",t)}_C(un);EC(un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="FIREBASE_DATABASE_EMULATOR_HOST",xu={};let EE=!1;function SE(i,t,r,o){i.repoInfo_=new Lp(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function kE(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=ip(c,a),p=f.repoInfo,m;typeof process<"u"&&Th&&(m=Th[CE]),m?(c=`http://${m}?ns=${p.namespace}`,f=ip(c,a),p=f.repoInfo):f.repoInfo.secure;const _=new Ov(i.name,i.options,t);qC("Invalid Firebase Database URL",f),re(f.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");const k=TE(p,i,_,new Av(i.name,r));return new NE(k,i)}function IE(i,t){const r=xu[t];(!r||r[i.key]!==i)&&an(`Database ${t}(${i.repoInfo_}) has already been deleted.`),dE(i),delete r[i.key]}function TE(i,t,r,o){let a=xu[t.name];a||(a={},xu[t.name]=a);let c=a[i.toURLString()];return c&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new tE(i,EE,r,o),a[i.toURLString()]=c,c}class NE{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new un(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&an("Cannot call "+t+" on a deleted database.")}}function xE(i=ov(),t){const r=nv(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=$_("database");o&&RE(r,...o)}return r}function RE(i,t,r,o={}){i=Br(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&an("Cannot call useEmulator() after instance has already been initialized.");const a=i._repoInternal;let c;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new vo(vo.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:Q_(o.mockUserToken,i.app.options.projectId);c=new vo(f)}SE(a,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(i){gv(sv),So(new ji("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return kE(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),Pr(Nh,xh,i),Pr(Nh,xh,"esm2017")}on.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};on.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};PE();var DE="firebase",AE="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(DE,AE,"app");const OE="AIzaSyAeTblY8O6XxWYrRfRl0Ar1TE-uOzPbF0M",ME="nightline-dce44.firebaseapp.com",LE=void 0,FE="nightline-dce44",zE="nightline-dce44.firebasestorage.app",bE="610185897381",UE="1:610185897381:web:753908ea29d825a6e9344c",BE="G-EFV275663B",jE={apiKey:OE,authDomain:ME,databaseURL:LE,projectId:FE,storageBucket:zE,messagingSenderId:bE,appId:UE,measurementId:BE},WE=yp(jE),Gt=xE(WE),sp=["The Owl San Diego","Mavericks Beach Club","Nova SD","PB Shore Club","Parq","The Duck Dive","Side Bar","Phantom Lounge and Nightclub","The Casbah","The Rail","Oxford Social Club","The Tipsy Crow","Onyx","F6ix","Bloom","Omert","Sevilla","Mr Tempo","TORO","FLUXX","Prohibition Lounge","Spin","Moonshine Flats","710 Beach Club","Lahaina Beach House","PB Avenue","Moonshine Beach","Thrusters Lounge","The Local","Open Bar","Tavern at the Beach","The Silver Fox Lounge","The Collective","Firehouse","Hideaway"],HE=i=>i>=7?"text-green-500":i<5?"text-red-500":"text-gray-200",VE=i=>i?Math.min(1,i/10):0,$E=()=>{const[i,t]=mt.useState({}),[r,o]=mt.useState(new Set),[a,c]=mt.useState(null),[f,p]=mt.useState(sp.reduce((W,q)=>(W[q]=[],W),{})),[m,_]=mt.useState(""),[k,w]=mt.useState(!1),[I,O]=mt.useState(""),[F,H]=mt.useState(""),[K,Me]=mt.useState(null);mt.useEffect(()=>{const W=Qt(Gt,"ratings");lu(W,q=>{const ie=q.val();ie&&t(ie)})},[]),mt.useEffect(()=>{const W=new Date,q=new Date;q.setHours(6,0,0,0),W>q&&q.setDate(q.getDate()+1);const ie=setTimeout(async()=>{const ke=(await vE(Qt(Gt,"ratings"))).val();if(ke){let Le=null,Fe=-1/0;if(Object.keys(ke).forEach(et=>{const{total:St,count:Ye}=ke[et];if(Ye>0){const ve=St/Ye;ve>Fe&&(Fe=ve,Le=et)}}),Le){const et=Qt(Gt,"topRating");su(et,{club:Le,average:Fe,timestamp:Date.now()})}}su(Qt(Gt,"comments"),null),su(Qt(Gt,"ratings"),null)},q-W);return()=>clearTimeout(ie)},[]),mt.useEffect(()=>{const W=Qt(Gt,"topRating");lu(W,q=>{const ie=q.val();Me(ie||null)})},[]),mt.useEffect(()=>{if(!a)return;const W=Qt(Gt,`comments/${a}`),q=lu(W,ie=>{const ye=ie.val();if(ye){const ke=Object.values(ye).sort((Le,Fe)=>Fe.timestamp-Le.timestamp);p(Le=>({...Le,[a]:ke}))}else p(ke=>({...ke,[a]:[]}))});return()=>q()},[a]);const Qe=W=>{const q=i[W];if(!q||q.count===0)return X.jsx("span",{className:"text-gray-400",children:"No ratings yet"});const ie=q.total/q.count,ye=HE(ie);return X.jsx("span",{className:ye,children:ie.toFixed(1)})},Ge=()=>{if(!m.trim()||!a)return;const W=Date.now(),q=Qt(Gt,`comments/${a}/${W}`);ou(q,{text:m,timestamp:W}),_("")},Ae=(W,q)=>{if(r.has(W)){alert("You have already rated this location.");return}const ie=Qt(Gt,`ratings/${W}`),ye=i[W]||{total:0,count:0};ou(ie,{total:ye.total+q,count:ye.count+1}),o(ke=>new Set(ke).add(W))},_t=()=>{if(!I.trim()||!F.trim())return;const W=Date.now(),q=Qt(Gt,`clubSubmissions/${W}`);ou(q,{email:I,message:F,timestamp:W}),O(""),H(""),w(!1)},Ke=[...sp].sort((W,q)=>{const ie=i[W],ye=i[q],ke=ie&&ie.count>0?ie.total/ie.count:0;return(ye&&ye.count>0?ye.total/ye.count:0)-ke});return X.jsxs("div",{className:"min-h-screen w-screen flex flex-col items-center bg-black p-4 sm:p-6 lg:p-8",children:[X.jsx("h1",{className:"text-4xl font-bold text-neon-purple mb-6 text-center",children:"CLUB HOPPER"}),X.jsx("h2",{className:"text-1xl font-bold text-neon-purple mb-6 text-center",children:"Give YOUR Rating of the Hottest Spots in Downtown SD & PB!"}),K&&X.jsxs("div",{className:"mb-6 p-4 bg-gray-900 rounded-lg shadow-lg text-center",children:[X.jsx("h2",{className:"text-md font-bold text-neon-purple mb-2 text-center",children:" Top Rated from the Previous Night "}),X.jsx("h3",{className:"text-white font-bold text-3xl mt-2 mb-1 text-center",children:K.club}),X.jsxs("p",{className:"text-yellow-400",children:["Average Rating: ",K.average.toFixed(1)]})]}),X.jsx("div",{className:"w-screen max-w-2xl bg-gray-900 shadow-lg rounded-lg p-4 sm:p-6 md:p-8",children:Ke.map(W=>{const q=i[W];let ie=null;q&&q.count>0&&(ie=q.total/q.count);const ye=ie?VE(ie):0;return X.jsxs("div",{className:"border-b border-neon-purple py-4",children:[X.jsx("button",{className:"float-right px-4 py-2 text-sm sm:text-base sm:px-6 sm:py-3 bg-neon-purple text-black rounded hover:bg-purple-800 disabled:opacity-50",onClick:()=>c(W),children:"View Comments"}),X.jsxs("h2",{className:"text-2xl font-semibold text-white mb-2",children:[W,ie&&X.jsx("span",{style:{marginLeft:"0.5rem",opacity:ye},"aria-label":"Fire Emoji",children:""})]}),X.jsxs("p",{className:"text-gray-400 mb-2",children:["Average Rating: ",Qe(W)]}),X.jsx("div",{className:"flex flex-wrap space-x-1",children:[1,2,3,4,5,6,7,8,9,10].map(ke=>X.jsx("button",{onClick:()=>Ae(W,ke),className:"px-2 py-0.5 bg-neon-purple text-black rounded hover:bg-purple-800 disabled:opacity-50",disabled:r.has(W),children:ke},ke))})]},W)})}),X.jsx("footer",{className:"mt-6 text-gray-400 text-sm text-center",children:"Ratings & Comments reset daily at 6:00 AM PST"}),X.jsx("button",{className:"mt-4 bg-neon-purple px-4 py-2 rounded hover:bg-purple-800 text-black",onClick:()=>w(!0),children:"Request a Bar/Club to be Added"}),a&&X.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-end z-50",children:X.jsxs("div",{className:"bg-gray-900 text-white w-80 h-full shadow-lg overflow-y-auto p-4 relative",children:[X.jsx("button",{className:"float-right top-4 right-4 text-gray-400 hover:text-gray-200",onClick:()=>c(null),children:"Close"}),X.jsx("h2",{className:"text-2xl font-bold mb-4",children:a}),X.jsxs("div",{className:"mt-4",children:[X.jsx("textarea",{className:"w-full bg-gray-800 text-white rounded p-2",rows:"3",value:m,onChange:W=>_(W.target.value),placeholder:"Add a comment..."}),X.jsx("button",{className:"mt-2 bg-neon-purple px-4 py-2 rounded hover:bg-purple-800",onClick:Ge,children:"Submit"})]}),X.jsx("div",{className:"flex flex-col space-y-4 mt-4",children:f[a].map((W,q)=>X.jsxs("div",{className:"border-b border-gray-700 pb-2",children:[X.jsx("p",{children:W.text}),X.jsx("p",{className:"text-sm text-gray-500",children:new Date(W.timestamp).toLocaleString()})]},q))})]})}),k&&X.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:X.jsxs("div",{className:"bg-gray-900 text-white w-80 rounded-lg shadow-lg p-4 relative",children:[X.jsx("button",{className:"float-right top-2 right-2 text-gray-400 hover:text-gray-200",onClick:()=>w(!1),children:"Close"}),X.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Request a New Club/Bar"}),X.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Your Email:"}),X.jsx("input",{type:"email",value:I,onChange:W=>O(W.target.value),className:"w-full mb-4 p-2 rounded bg-gray-800 text-white",placeholder:"email@example.com"}),X.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Club/Bar Name & Message:"}),X.jsx("textarea",{value:F,onChange:W=>H(W.target.value),rows:3,className:"w-full mb-4 p-2 rounded bg-gray-800 text-white",placeholder:"Tell us which club/bar you want added..."}),X.jsx("button",{onClick:_t,className:"bg-neon-purple px-4 py-2 rounded hover:bg-purple-800 text-black",children:"Submit"})]})})]})};L_.createRoot(document.getElementById("root")).render(X.jsx(mt.StrictMode,{children:X.jsx($E,{})}));
