(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();var Bu={exports:{}},xi={},Wu={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function S_(){if(nh)return q;nh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),w=Symbol.iterator;function I(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,F={};function H(E,R,Y){this.props=E,this.context=R,this.refs=F,this.updater=Y||N}H.prototype.isReactComponent={},H.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},H.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function ue(){}ue.prototype=H.prototype;function Re(E,R,Y){this.props=E,this.context=R,this.refs=F,this.updater=Y||N}var We=Re.prototype=new ue;We.constructor=Re,A(We,H.prototype),We.isPureReactComponent=!0;var Ae=Array.isArray,St=Object.prototype.hasOwnProperty,Ye={current:null},Ze={key:!0,ref:!0,__self:!0,__source:!0};function mt(E,R,Y){var Z,ne={},re=null,de=null;if(R!=null)for(Z in R.ref!==void 0&&(de=R.ref),R.key!==void 0&&(re=""+R.key),R)St.call(R,Z)&&!Ze.hasOwnProperty(Z)&&(ne[Z]=R[Z]);var oe=arguments.length-2;if(oe===1)ne.children=Y;else if(1<oe){for(var ye=Array(oe),ct=0;ct<oe;ct++)ye[ct]=arguments[ct+2];ne.children=ye}if(E&&E.defaultProps)for(Z in oe=E.defaultProps,oe)ne[Z]===void 0&&(ne[Z]=oe[Z]);return{$$typeof:i,type:E,key:re,ref:de,props:ne,_owner:Ye.current}}function sn(E,R){return{$$typeof:i,type:E.type,key:R,ref:E.ref,props:E.props,_owner:E._owner}}function Vt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function An(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return R[Y]})}var Lt=/\/+/g;function at(E,R){return typeof E=="object"&&E!==null&&E.key!=null?An(""+E.key):R.toString(36)}function kt(E,R,Y,Z,ne){var re=typeof E;(re==="undefined"||re==="boolean")&&(E=null);var de=!1;if(E===null)de=!0;else switch(re){case"string":case"number":de=!0;break;case"object":switch(E.$$typeof){case i:case t:de=!0}}if(de)return de=E,ne=ne(de),E=Z===""?"."+at(de,0):Z,Ae(ne)?(Y="",E!=null&&(Y=E.replace(Lt,"$&/")+"/"),kt(ne,R,Y,"",function(ct){return ct})):ne!=null&&(Vt(ne)&&(ne=sn(ne,Y+(!ne.key||de&&de.key===ne.key?"":(""+ne.key).replace(Lt,"$&/")+"/")+E)),R.push(ne)),1;if(de=0,Z=Z===""?".":Z+":",Ae(E))for(var oe=0;oe<E.length;oe++){re=E[oe];var ye=Z+at(re,oe);de+=kt(re,R,Y,ye,ne)}else if(ye=I(E),typeof ye=="function")for(E=ye.call(E),oe=0;!(re=E.next()).done;)re=re.value,ye=Z+at(re,oe++),de+=kt(re,R,Y,ye,ne);else if(re==="object")throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return de}function Ft(E,R,Y){if(E==null)return E;var Z=[],ne=0;return kt(E,Z,"","",function(re){return R.call(Y,re,ne++)}),Z}function et(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var Ce={current:null},L={transition:null},Q={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:L,ReactCurrentOwner:Ye};function B(){throw Error("act(...) is not supported in production builds of React.")}return q.Children={map:Ft,forEach:function(E,R,Y){Ft(E,function(){R.apply(this,arguments)},Y)},count:function(E){var R=0;return Ft(E,function(){R++}),R},toArray:function(E){return Ft(E,function(R){return R})||[]},only:function(E){if(!Vt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},q.Component=H,q.Fragment=r,q.Profiler=u,q.PureComponent=Re,q.StrictMode=o,q.Suspense=m,q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,q.act=B,q.cloneElement=function(E,R,Y){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var Z=A({},E.props),ne=E.key,re=E.ref,de=E._owner;if(R!=null){if(R.ref!==void 0&&(re=R.ref,de=Ye.current),R.key!==void 0&&(ne=""+R.key),E.type&&E.type.defaultProps)var oe=E.type.defaultProps;for(ye in R)St.call(R,ye)&&!Ze.hasOwnProperty(ye)&&(Z[ye]=R[ye]===void 0&&oe!==void 0?oe[ye]:R[ye])}var ye=arguments.length-2;if(ye===1)Z.children=Y;else if(1<ye){oe=Array(ye);for(var ct=0;ct<ye;ct++)oe[ct]=arguments[ct+2];Z.children=oe}return{$$typeof:i,type:E.type,key:ne,ref:re,props:Z,_owner:de}},q.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},q.createElement=mt,q.createFactory=function(E){var R=mt.bind(null,E);return R.type=E,R},q.createRef=function(){return{current:null}},q.forwardRef=function(E){return{$$typeof:p,render:E}},q.isValidElement=Vt,q.lazy=function(E){return{$$typeof:k,_payload:{_status:-1,_result:E},_init:et}},q.memo=function(E,R){return{$$typeof:_,type:E,compare:R===void 0?null:R}},q.startTransition=function(E){var R=L.transition;L.transition={};try{E()}finally{L.transition=R}},q.unstable_act=B,q.useCallback=function(E,R){return Ce.current.useCallback(E,R)},q.useContext=function(E){return Ce.current.useContext(E)},q.useDebugValue=function(){},q.useDeferredValue=function(E){return Ce.current.useDeferredValue(E)},q.useEffect=function(E,R){return Ce.current.useEffect(E,R)},q.useId=function(){return Ce.current.useId()},q.useImperativeHandle=function(E,R,Y){return Ce.current.useImperativeHandle(E,R,Y)},q.useInsertionEffect=function(E,R){return Ce.current.useInsertionEffect(E,R)},q.useLayoutEffect=function(E,R){return Ce.current.useLayoutEffect(E,R)},q.useMemo=function(E,R){return Ce.current.useMemo(E,R)},q.useReducer=function(E,R,Y){return Ce.current.useReducer(E,R,Y)},q.useRef=function(E){return Ce.current.useRef(E)},q.useState=function(E){return Ce.current.useState(E)},q.useSyncExternalStore=function(E,R,Y){return Ce.current.useSyncExternalStore(E,R,Y)},q.useTransition=function(){return Ce.current.useTransition()},q.version="18.3.1",q}var rh;function Sa(){return rh||(rh=1,Wu.exports=S_()),Wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function k_(){if(ih)return xi;ih=1;var i=Sa(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,_){var k,w={},I=null,N=null;_!==void 0&&(I=""+_),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(N=m.ref);for(k in m)o.call(m,k)&&!c.hasOwnProperty(k)&&(w[k]=m[k]);if(p&&p.defaultProps)for(k in m=p.defaultProps,m)w[k]===void 0&&(w[k]=m[k]);return{$$typeof:t,type:p,key:I,ref:N,props:w,_owner:u.current}}return xi.Fragment=r,xi.jsx=f,xi.jsxs=f,xi}var sh;function I_(){return sh||(sh=1,Bu.exports=k_()),Bu.exports}var ce=I_(),Zt=Sa(),fo={},ju={exports:{}},ot={},bu={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function T_(){return oh||(oh=1,function(i){function t(L,Q){var B=L.length;L.push(Q);e:for(;0<B;){var E=B-1>>>1,R=L[E];if(0<u(R,Q))L[E]=Q,L[B]=R,B=E;else break e}}function r(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var Q=L[0],B=L.pop();if(B!==Q){L[0]=B;e:for(var E=0,R=L.length,Y=R>>>1;E<Y;){var Z=2*(E+1)-1,ne=L[Z],re=Z+1,de=L[re];if(0>u(ne,B))re<R&&0>u(de,ne)?(L[E]=de,L[re]=B,E=re):(L[E]=ne,L[Z]=B,E=Z);else if(re<R&&0>u(de,B))L[E]=de,L[re]=B,E=re;else break e}}return Q}function u(L,Q){var B=L.sortIndex-Q.sortIndex;return B!==0?B:L.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],_=[],k=1,w=null,I=3,N=!1,A=!1,F=!1,H=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function We(L){for(var Q=r(_);Q!==null;){if(Q.callback===null)o(_);else if(Q.startTime<=L)o(_),Q.sortIndex=Q.expirationTime,t(m,Q);else break;Q=r(_)}}function Ae(L){if(F=!1,We(L),!A)if(r(m)!==null)A=!0,et(St);else{var Q=r(_);Q!==null&&Ce(Ae,Q.startTime-L)}}function St(L,Q){A=!1,F&&(F=!1,ue(mt),mt=-1),N=!0;var B=I;try{for(We(Q),w=r(m);w!==null&&(!(w.expirationTime>Q)||L&&!An());){var E=w.callback;if(typeof E=="function"){w.callback=null,I=w.priorityLevel;var R=E(w.expirationTime<=Q);Q=i.unstable_now(),typeof R=="function"?w.callback=R:w===r(m)&&o(m),We(Q)}else o(m);w=r(m)}if(w!==null)var Y=!0;else{var Z=r(_);Z!==null&&Ce(Ae,Z.startTime-Q),Y=!1}return Y}finally{w=null,I=B,N=!1}}var Ye=!1,Ze=null,mt=-1,sn=5,Vt=-1;function An(){return!(i.unstable_now()-Vt<sn)}function Lt(){if(Ze!==null){var L=i.unstable_now();Vt=L;var Q=!0;try{Q=Ze(!0,L)}finally{Q?at():(Ye=!1,Ze=null)}}else Ye=!1}var at;if(typeof Re=="function")at=function(){Re(Lt)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Ft=kt.port2;kt.port1.onmessage=Lt,at=function(){Ft.postMessage(null)}}else at=function(){H(Lt,0)};function et(L){Ze=L,Ye||(Ye=!0,at())}function Ce(L,Q){mt=H(function(){L(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){A||N||(A=!0,et(St))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):sn=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(L){switch(I){case 1:case 2:case 3:var Q=3;break;default:Q=I}var B=I;I=Q;try{return L()}finally{I=B}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=I;I=L;try{return Q()}finally{I=B}},i.unstable_scheduleCallback=function(L,Q,B){var E=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?E+B:E):B=E,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=B+R,L={id:k++,callback:Q,priorityLevel:L,startTime:B,expirationTime:R,sortIndex:-1},B>E?(L.sortIndex=B,t(_,L),r(m)===null&&L===r(_)&&(F?(ue(mt),mt=-1):F=!0,Ce(Ae,B-E))):(L.sortIndex=R,t(m,L),A||N||(A=!0,et(St))),L},i.unstable_shouldYield=An,i.unstable_wrapCallback=function(L){var Q=I;return function(){var B=I;I=Q;try{return L.apply(this,arguments)}finally{I=B}}}}(Hu)),Hu}var lh;function N_(){return lh||(lh=1,bu.exports=T_()),bu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function x_(){if(uh)return ot;uh=1;var i=Sa(),t=N_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},w={};function I(e){return m.call(w,e)?!0:m.call(k,e)?!1:_.test(e)?w[e]=!0:(k[e]=!0,!1)}function N(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,n,s,l){if(n===null||typeof n>"u"||N(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function F(e,n,s,l,a,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){H[e]=new F(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];H[n]=new F(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){H[e]=new F(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){H[e]=new F(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){H[e]=new F(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){H[e]=new F(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){H[e]=new F(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){H[e]=new F(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){H[e]=new F(e,5,!1,e.toLowerCase(),null,!1,!1)});var ue=/[\-:]([a-z])/g;function Re(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ue,Re);H[n]=new F(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ue,Re);H[n]=new F(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ue,Re);H[n]=new F(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){H[e]=new F(e,1,!1,e.toLowerCase(),null,!1,!1)}),H.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){H[e]=new F(e,1,!1,e.toLowerCase(),null,!0,!0)});function We(e,n,s,l){var a=H.hasOwnProperty(n)?H[n]:null;(a!==null?a.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(A(n,s,a,l)&&(s=null),l||a===null?I(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,l=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var Ae=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,St=Symbol.for("react.element"),Ye=Symbol.for("react.portal"),Ze=Symbol.for("react.fragment"),mt=Symbol.for("react.strict_mode"),sn=Symbol.for("react.profiler"),Vt=Symbol.for("react.provider"),An=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),L=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,E;function R(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var Y=!1;function Z(e,n){if(!e||Y)return"";Y=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var l=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){l=T}e.call(n.prototype)}else{try{throw Error()}catch(T){l=T}e()}}catch(T){if(T&&l&&typeof T.stack=="string"){for(var a=T.stack.split(`
`),d=l.stack.split(`
`),h=a.length-1,g=d.length-1;1<=h&&0<=g&&a[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(a[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||a[h]!==d[g]){var y=`
`+a[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=g);break}}}finally{Y=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function ne(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ze:return"Fragment";case Ye:return"Portal";case sn:return"Profiler";case mt:return"StrictMode";case at:return"Suspense";case kt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case An:return(e.displayName||"Context")+".Consumer";case Vt:return(e._context.displayName||"Context")+".Provider";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ft:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case et:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}function de(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(n);case 8:return n===mt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ye(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ct(e){var n=ye(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ts(e){e._valueTracker||(e._valueTracker=ct(e))}function lc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ye(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qo(e,n){var s=n.checked;return B({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function uc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=oe(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ac(e,n){n=n.checked,n!=null&&We(e,"checked",n,!1)}function Go(e,n){ac(e,n);var s=oe(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ko(e,n.type,s):n.hasOwnProperty("defaultValue")&&Ko(e,n.type,oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function cc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ko(e,n,s){(n!=="number"||ns(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Hr=Array.isArray;function tr(e,n,s,l){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&l&&(e[s].defaultSelected=!0)}else{for(s=""+oe(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function Yo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return B({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Hr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:oe(s)}}function fc(e,n){var s=oe(n.value),l=oe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function hc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function pc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?pc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,mc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Vr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xm=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(e){xm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),$r[n]=$r[e]})});function gc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||$r.hasOwnProperty(e)&&$r[e]?(""+n).trim():n+"px"}function _c(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,a=gc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,a):e[s]=a}}var Rm=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xo(e,n){if(n){if(Rm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Jo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function el(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tl=null,nr=null,rr=null;function yc(e){if(e=hi(e)){if(typeof tl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ts(n),tl(e.stateNode,e.type,n))}}function vc(e){nr?rr?rr.push(e):rr=[e]:nr=e}function wc(){if(nr){var e=nr,n=rr;if(rr=nr=null,yc(e),n)for(e=0;e<n.length;e++)yc(n[e])}}function Ec(e,n){return e(n)}function Cc(){}var nl=!1;function Sc(e,n,s){if(nl)return e(n,s);nl=!0;try{return Ec(e,n,s)}finally{nl=!1,(nr!==null||rr!==null)&&(Cc(),wc())}}function Qr(e,n){var s=e.stateNode;if(s===null)return null;var l=Ts(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var rl=!1;if(p)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){rl=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{rl=!1}function Pm(e,n,s,l,a,d,h,g,y){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(P){this.onError(P)}}var Kr=!1,is=null,ss=!1,il=null,Dm={onError:function(e){Kr=!0,is=e}};function Am(e,n,s,l,a,d,h,g,y){Kr=!1,is=null,Pm.apply(Dm,arguments)}function Om(e,n,s,l,a,d,h,g,y){if(Am.apply(this,arguments),Kr){if(Kr){var T=is;Kr=!1,is=null}else throw Error(r(198));ss||(ss=!0,il=T)}}function On(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function kc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ic(e){if(On(e)!==e)throw Error(r(188))}function Mm(e){var n=e.alternate;if(!n){if(n=On(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var a=s.return;if(a===null)break;var d=a.alternate;if(d===null){if(l=a.return,l!==null){s=l;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===s)return Ic(a),e;if(d===l)return Ic(a),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=a,l=d;else{for(var h=!1,g=a.child;g;){if(g===s){h=!0,s=a,l=d;break}if(g===l){h=!0,l=a,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,l=a;break}if(g===l){h=!0,l=d,s=a;break}g=g.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Tc(e){return e=Mm(e),e!==null?Nc(e):null}function Nc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Nc(e);if(n!==null)return n;e=e.sibling}return null}var xc=t.unstable_scheduleCallback,Rc=t.unstable_cancelCallback,Lm=t.unstable_shouldYield,Fm=t.unstable_requestPaint,Te=t.unstable_now,zm=t.unstable_getCurrentPriorityLevel,sl=t.unstable_ImmediatePriority,Pc=t.unstable_UserBlockingPriority,os=t.unstable_NormalPriority,Um=t.unstable_LowPriority,Dc=t.unstable_IdlePriority,ls=null,zt=null;function Bm(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ls,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:bm,Wm=Math.log,jm=Math.LN2;function bm(e){return e>>>=0,e===0?32:31-(Wm(e)/jm|0)|0}var us=64,as=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,a=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var g=h&~a;g!==0?l=Yr(g):(d&=h,d!==0&&(l=Yr(d)))}else h=s&~a,h!==0?l=Yr(h):d!==0&&(l=Yr(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&a)&&(a=l&-l,d=n&-n,a>=d||a===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-It(n),a=1<<s,l|=e[s],n&=~a;return l}function Hm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-It(d),g=1<<h,y=a[h];y===-1?(!(g&s)||g&l)&&(a[h]=Hm(g,n)):y<=n&&(e.expiredLanes|=g),d&=~g}}function ol(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ac(){var e=us;return us<<=1,!(us&4194240)&&(us=64),e}function ll(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function qr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-It(n),e[n]=s}function $m(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-It(s),d=1<<a;n[a]=0,l[a]=-1,e[a]=-1,s&=~d}}function ul(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-It(s),a=1<<l;a&n|e[l]&n&&(e[l]|=n),s&=~a}}var le=0;function Oc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mc,al,Lc,Fc,zc,cl=!1,ds=[],on=null,ln=null,un=null,Xr=new Map,Jr=new Map,an=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uc(e,n){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Xr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(n.pointerId)}}function Zr(e,n,s,l,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[a]},n!==null&&(n=hi(n),n!==null&&al(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function Gm(e,n,s,l,a){switch(n){case"focusin":return on=Zr(on,e,n,s,l,a),!0;case"dragenter":return ln=Zr(ln,e,n,s,l,a),!0;case"mouseover":return un=Zr(un,e,n,s,l,a),!0;case"pointerover":var d=a.pointerId;return Xr.set(d,Zr(Xr.get(d)||null,e,n,s,l,a)),!0;case"gotpointercapture":return d=a.pointerId,Jr.set(d,Zr(Jr.get(d)||null,e,n,s,l,a)),!0}return!1}function Bc(e){var n=Mn(e.target);if(n!==null){var s=On(n);if(s!==null){if(n=s.tag,n===13){if(n=kc(s),n!==null){e.blockedOn=n,zc(e.priority,function(){Lc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=fl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Zo=l,s.target.dispatchEvent(l),Zo=null}else return n=hi(s),n!==null&&al(n),e.blockedOn=s,!1;n.shift()}return!0}function Wc(e,n,s){fs(e)&&s.delete(n)}function Km(){cl=!1,on!==null&&fs(on)&&(on=null),ln!==null&&fs(ln)&&(ln=null),un!==null&&fs(un)&&(un=null),Xr.forEach(Wc),Jr.forEach(Wc)}function ei(e,n){e.blockedOn===n&&(e.blockedOn=null,cl||(cl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Km)))}function ti(e){function n(a){return ei(a,e)}if(0<ds.length){ei(ds[0],e);for(var s=1;s<ds.length;s++){var l=ds[s];l.blockedOn===e&&(l.blockedOn=null)}}for(on!==null&&ei(on,e),ln!==null&&ei(ln,e),un!==null&&ei(un,e),Xr.forEach(n),Jr.forEach(n),s=0;s<an.length;s++)l=an[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<an.length&&(s=an[0],s.blockedOn===null);)Bc(s),s.blockedOn===null&&an.shift()}var ir=Ae.ReactCurrentBatchConfig,hs=!0;function Ym(e,n,s,l){var a=le,d=ir.transition;ir.transition=null;try{le=1,dl(e,n,s,l)}finally{le=a,ir.transition=d}}function qm(e,n,s,l){var a=le,d=ir.transition;ir.transition=null;try{le=4,dl(e,n,s,l)}finally{le=a,ir.transition=d}}function dl(e,n,s,l){if(hs){var a=fl(e,n,s,l);if(a===null)Rl(e,n,l,ps,s),Uc(e,l);else if(Gm(a,e,n,s,l))l.stopPropagation();else if(Uc(e,l),n&4&&-1<Qm.indexOf(e)){for(;a!==null;){var d=hi(a);if(d!==null&&Mc(d),d=fl(e,n,s,l),d===null&&Rl(e,n,l,ps,s),d===a)break;a=d}a!==null&&l.stopPropagation()}else Rl(e,n,l,null,s)}}var ps=null;function fl(e,n,s,l){if(ps=null,e=el(l),e=Mn(e),e!==null)if(n=On(e),n===null)e=null;else if(s=n.tag,s===13){if(e=kc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ps=e,null}function jc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zm()){case sl:return 1;case Pc:return 4;case os:case Um:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var cn=null,hl=null,ms=null;function bc(){if(ms)return ms;var e,n=hl,s=n.length,l,a="value"in cn?cn.value:cn.textContent,d=a.length;for(e=0;e<s&&n[e]===a[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===a[d-l];l++);return ms=a.slice(e,1<l?1-l:void 0)}function gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Hc(){return!1}function dt(e){function n(s,l,a,d,h){this._reactName=s,this._targetInst=a,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?_s:Hc,this.isPropagationStopped=Hc,this}return B(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),n}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=dt(sr),ni=B({},sr,{view:0,detail:0}),Xm=dt(ni),ml,gl,ri,ys=B({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(ml=e.screenX-ri.screenX,gl=e.screenY-ri.screenY):gl=ml=0,ri=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),Vc=dt(ys),Jm=B({},ys,{dataTransfer:0}),Zm=dt(Jm),eg=B({},ni,{relatedTarget:0}),_l=dt(eg),tg=B({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),ng=dt(tg),rg=B({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ig=dt(rg),sg=B({},sr,{data:0}),$c=dt(sg),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ug[e])?!!n[e]:!1}function yl(){return ag}var cg=B({},ni,{key:function(e){if(e.key){var n=og[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dg=dt(cg),fg=B({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=dt(fg),hg=B({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),pg=dt(hg),mg=B({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gg=dt(mg),_g=B({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=dt(_g),vg=[9,13,27,32],vl=p&&"CompositionEvent"in window,ii=null;p&&"documentMode"in document&&(ii=document.documentMode);var wg=p&&"TextEvent"in window&&!ii,Gc=p&&(!vl||ii&&8<ii&&11>=ii),Kc=" ",Yc=!1;function qc(e,n){switch(e){case"keyup":return vg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Eg(e,n){switch(e){case"compositionend":return Xc(n);case"keypress":return n.which!==32?null:(Yc=!0,Kc);case"textInput":return e=n.data,e===Kc&&Yc?null:e;default:return null}}function Cg(e,n){if(or)return e==="compositionend"||!vl&&qc(e,n)?(e=bc(),ms=hl=cn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gc&&n.locale!=="ko"?null:n.data;default:return null}}var Sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Sg[e.type]:n==="textarea"}function Zc(e,n,s,l){vc(l),n=Ss(n,"onChange"),0<n.length&&(s=new pl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var si=null,oi=null;function kg(e){_d(e,0)}function vs(e){var n=dr(e);if(lc(n))return e}function Ig(e,n){if(e==="change")return n}var ed=!1;if(p){var wl;if(p){var El="oninput"in document;if(!El){var td=document.createElement("div");td.setAttribute("oninput","return;"),El=typeof td.oninput=="function"}wl=El}else wl=!1;ed=wl&&(!document.documentMode||9<document.documentMode)}function nd(){si&&(si.detachEvent("onpropertychange",rd),oi=si=null)}function rd(e){if(e.propertyName==="value"&&vs(oi)){var n=[];Zc(n,oi,e,el(e)),Sc(kg,n)}}function Tg(e,n,s){e==="focusin"?(nd(),si=n,oi=s,si.attachEvent("onpropertychange",rd)):e==="focusout"&&nd()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(oi)}function xg(e,n){if(e==="click")return vs(n)}function Rg(e,n){if(e==="input"||e==="change")return vs(n)}function Pg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tt=typeof Object.is=="function"?Object.is:Pg;function li(e,n){if(Tt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var a=s[l];if(!m.call(n,a)||!Tt(e[a],n[a]))return!1}return!0}function id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sd(e,n){var s=id(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=id(s)}}function od(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?od(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ld(){for(var e=window,n=ns();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ns(e.document)}return n}function Cl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Dg(e){var n=ld(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&od(s.ownerDocument.documentElement,s)){if(l!==null&&Cl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,d=Math.min(l.start,a);l=l.end===void 0?d:Math.min(l.end,a),!e.extend&&d>l&&(a=l,l=d,d=a),a=sd(s,d);var h=sd(s,l);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ag=p&&"documentMode"in document&&11>=document.documentMode,lr=null,Sl=null,ui=null,kl=!1;function ud(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kl||lr==null||lr!==ns(l)||(l=lr,"selectionStart"in l&&Cl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ui&&li(ui,l)||(ui=l,l=Ss(Sl,"onSelect"),0<l.length&&(n=new pl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=lr)))}function ws(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ur={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Il={},ad={};p&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Es(e){if(Il[e])return Il[e];if(!ur[e])return e;var n=ur[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ad)return Il[e]=n[s];return e}var cd=Es("animationend"),dd=Es("animationiteration"),fd=Es("animationstart"),hd=Es("transitionend"),pd=new Map,md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,n){pd.set(e,n),c(n,[e])}for(var Tl=0;Tl<md.length;Tl++){var Nl=md[Tl],Og=Nl.toLowerCase(),Mg=Nl[0].toUpperCase()+Nl.slice(1);dn(Og,"on"+Mg)}dn(cd,"onAnimationEnd"),dn(dd,"onAnimationIteration"),dn(fd,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(hd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function gd(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Om(l,n,void 0,e),e.currentTarget=null}function _d(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],a=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var g=l[h],y=g.instance,T=g.currentTarget;if(g=g.listener,y!==d&&a.isPropagationStopped())break e;gd(a,g,T),d=y}else for(h=0;h<l.length;h++){if(g=l[h],y=g.instance,T=g.currentTarget,g=g.listener,y!==d&&a.isPropagationStopped())break e;gd(a,g,T),d=y}}}if(ss)throw e=il,ss=!1,il=null,e}function ge(e,n){var s=n[Ll];s===void 0&&(s=n[Ll]=new Set);var l=e+"__bubble";s.has(l)||(yd(n,e,2,!1),s.add(l))}function xl(e,n,s){var l=0;n&&(l|=4),yd(s,e,l,n)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[Cs]){e[Cs]=!0,o.forEach(function(s){s!=="selectionchange"&&(Lg.has(s)||xl(s,!1,e),xl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cs]||(n[Cs]=!0,xl("selectionchange",!1,n))}}function yd(e,n,s,l){switch(jc(n)){case 1:var a=Ym;break;case 4:a=qm;break;default:a=dl}s=a.bind(null,n,s,e),a=void 0,!rl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function Rl(e,n,s,l,a){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===a||y.nodeType===8&&y.parentNode===a))return;h=h.return}for(;g!==null;){if(h=Mn(g),h===null)return;if(y=h.tag,y===5||y===6){l=d=h;continue e}g=g.parentNode}}l=l.return}Sc(function(){var T=d,P=el(s),D=[];e:{var x=pd.get(e);if(x!==void 0){var z=pl,W=e;switch(e){case"keypress":if(gs(s)===0)break e;case"keydown":case"keyup":z=dg;break;case"focusin":W="focus",z=_l;break;case"focusout":W="blur",z=_l;break;case"beforeblur":case"afterblur":z=_l;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=pg;break;case cd:case dd:case fd:z=ng;break;case hd:z=gg;break;case"scroll":z=Xm;break;case"wheel":z=yg;break;case"copy":case"cut":case"paste":z=ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Qc}var j=(n&4)!==0,Ne=!j&&e==="scroll",C=j?x!==null?x+"Capture":null:x;j=[];for(var v=T,S;v!==null;){S=v;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,C!==null&&(O=Qr(v,C),O!=null&&j.push(di(v,O,S)))),Ne)break;v=v.return}0<j.length&&(x=new z(x,W,null,s,P),D.push({event:x,listeners:j}))}}if(!(n&7)){e:{if(x=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",x&&s!==Zo&&(W=s.relatedTarget||s.fromElement)&&(Mn(W)||W[$t]))break e;if((z||x)&&(x=P.window===P?P:(x=P.ownerDocument)?x.defaultView||x.parentWindow:window,z?(W=s.relatedTarget||s.toElement,z=T,W=W?Mn(W):null,W!==null&&(Ne=On(W),W!==Ne||W.tag!==5&&W.tag!==6)&&(W=null)):(z=null,W=T),z!==W)){if(j=Vc,O="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(j=Qc,O="onPointerLeave",C="onPointerEnter",v="pointer"),Ne=z==null?x:dr(z),S=W==null?x:dr(W),x=new j(O,v+"leave",z,s,P),x.target=Ne,x.relatedTarget=S,O=null,Mn(P)===T&&(j=new j(C,v+"enter",W,s,P),j.target=S,j.relatedTarget=Ne,O=j),Ne=O,z&&W)t:{for(j=z,C=W,v=0,S=j;S;S=ar(S))v++;for(S=0,O=C;O;O=ar(O))S++;for(;0<v-S;)j=ar(j),v--;for(;0<S-v;)C=ar(C),S--;for(;v--;){if(j===C||C!==null&&j===C.alternate)break t;j=ar(j),C=ar(C)}j=null}else j=null;z!==null&&vd(D,x,z,j,!1),W!==null&&Ne!==null&&vd(D,Ne,W,j,!0)}}e:{if(x=T?dr(T):window,z=x.nodeName&&x.nodeName.toLowerCase(),z==="select"||z==="input"&&x.type==="file")var b=Ig;else if(Jc(x))if(ed)b=Rg;else{b=Ng;var V=Tg}else(z=x.nodeName)&&z.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(b=xg);if(b&&(b=b(e,T))){Zc(D,b,s,P);break e}V&&V(e,x,T),e==="focusout"&&(V=x._wrapperState)&&V.controlled&&x.type==="number"&&Ko(x,"number",x.value)}switch(V=T?dr(T):window,e){case"focusin":(Jc(V)||V.contentEditable==="true")&&(lr=V,Sl=T,ui=null);break;case"focusout":ui=Sl=lr=null;break;case"mousedown":kl=!0;break;case"contextmenu":case"mouseup":case"dragend":kl=!1,ud(D,s,P);break;case"selectionchange":if(Ag)break;case"keydown":case"keyup":ud(D,s,P)}var $;if(vl)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else or?qc(e,s)&&(K="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(K="onCompositionStart");K&&(Gc&&s.locale!=="ko"&&(or||K!=="onCompositionStart"?K==="onCompositionEnd"&&or&&($=bc()):(cn=P,hl="value"in cn?cn.value:cn.textContent,or=!0)),V=Ss(T,K),0<V.length&&(K=new $c(K,e,null,s,P),D.push({event:K,listeners:V}),$?K.data=$:($=Xc(s),$!==null&&(K.data=$)))),($=wg?Eg(e,s):Cg(e,s))&&(T=Ss(T,"onBeforeInput"),0<T.length&&(P=new $c("onBeforeInput","beforeinput",null,s,P),D.push({event:P,listeners:T}),P.data=$))}_d(D,n)})}function di(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ss(e,n){for(var s=n+"Capture",l=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=Qr(e,s),d!=null&&l.unshift(di(e,d,a)),d=Qr(e,n),d!=null&&l.push(di(e,d,a))),e=e.return}return l}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vd(e,n,s,l,a){for(var d=n._reactName,h=[];s!==null&&s!==l;){var g=s,y=g.alternate,T=g.stateNode;if(y!==null&&y===l)break;g.tag===5&&T!==null&&(g=T,a?(y=Qr(s,d),y!=null&&h.unshift(di(s,y,g))):a||(y=Qr(s,d),y!=null&&h.push(di(s,y,g)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Fg=/\r\n?/g,zg=/\u0000|\uFFFD/g;function wd(e){return(typeof e=="string"?e:""+e).replace(Fg,`
`).replace(zg,"")}function ks(e,n,s){if(n=wd(n),wd(e)!==n&&s)throw Error(r(425))}function Is(){}var Pl=null,Dl=null;function Al(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,Ed=typeof Promise=="function"?Promise:void 0,Bg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ed<"u"?function(e){return Ed.resolve(null).then(e).catch(Wg)}:Ol;function Wg(e){setTimeout(function(){throw e})}function Ml(e,n){var s=n,l=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(l===0){e.removeChild(a),ti(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=a}while(s);ti(n)}function fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Cd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+cr,fi="__reactProps$"+cr,$t="__reactContainer$"+cr,Ll="__reactEvents$"+cr,jg="__reactListeners$"+cr,bg="__reactHandles$"+cr;function Mn(e){var n=e[Ut];if(n)return n;for(var s=e.parentNode;s;){if(n=s[$t]||s[Ut]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Cd(e);e!==null;){if(s=e[Ut])return s;e=Cd(e)}return n}e=s,s=e.parentNode}return null}function hi(e){return e=e[Ut]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ts(e){return e[fi]||null}var Fl=[],fr=-1;function hn(e){return{current:e}}function _e(e){0>fr||(e.current=Fl[fr],Fl[fr]=null,fr--)}function fe(e,n){fr++,Fl[fr]=e.current,e.current=n}var pn={},$e=hn(pn),tt=hn(!1),Ln=pn;function hr(e,n){var s=e.type.contextTypes;if(!s)return pn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in s)a[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function nt(e){return e=e.childContextTypes,e!=null}function Ns(){_e(tt),_e($e)}function Sd(e,n,s){if($e.current!==pn)throw Error(r(168));fe($e,n),fe(tt,s)}function kd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var a in l)if(!(a in n))throw Error(r(108,de(e)||"Unknown",a));return B({},s,l)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,Ln=$e.current,fe($e,e),fe(tt,tt.current),!0}function Id(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=kd(e,n,Ln),l.__reactInternalMemoizedMergedChildContext=e,_e(tt),_e($e),fe($e,e)):_e(tt),fe(tt,s)}var Qt=null,Rs=!1,zl=!1;function Td(e){Qt===null?Qt=[e]:Qt.push(e)}function Hg(e){Rs=!0,Td(e)}function mn(){if(!zl&&Qt!==null){zl=!0;var e=0,n=le;try{var s=Qt;for(le=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Qt=null,Rs=!1}catch(a){throw Qt!==null&&(Qt=Qt.slice(e+1)),xc(sl,mn),a}finally{le=n,zl=!1}}return null}var pr=[],mr=0,Ps=null,Ds=0,gt=[],_t=0,Fn=null,Gt=1,Kt="";function zn(e,n){pr[mr++]=Ds,pr[mr++]=Ps,Ps=e,Ds=n}function Nd(e,n,s){gt[_t++]=Gt,gt[_t++]=Kt,gt[_t++]=Fn,Fn=e;var l=Gt;e=Kt;var a=32-It(l)-1;l&=~(1<<a),s+=1;var d=32-It(n)+a;if(30<d){var h=a-a%5;d=(l&(1<<h)-1).toString(32),l>>=h,a-=h,Gt=1<<32-It(n)+a|s<<a|l,Kt=d+e}else Gt=1<<d|s<<a|l,Kt=e}function Ul(e){e.return!==null&&(zn(e,1),Nd(e,1,0))}function Bl(e){for(;e===Ps;)Ps=pr[--mr],pr[mr]=null,Ds=pr[--mr],pr[mr]=null;for(;e===Fn;)Fn=gt[--_t],gt[_t]=null,Kt=gt[--_t],gt[_t]=null,Gt=gt[--_t],gt[_t]=null}var ft=null,ht=null,ve=!1,Nt=null;function xd(e,n){var s=Et(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Rd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,ft=e,ht=fn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,ft=e,ht=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Fn!==null?{id:Gt,overflow:Kt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Et(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,ft=e,ht=null,!0):!1;default:return!1}}function Wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(ve){var n=ht;if(n){var s=n;if(!Rd(e,n)){if(Wl(e))throw Error(r(418));n=fn(s.nextSibling);var l=ft;n&&Rd(e,n)?xd(l,s):(e.flags=e.flags&-4097|2,ve=!1,ft=e)}}else{if(Wl(e))throw Error(r(418));e.flags=e.flags&-4097|2,ve=!1,ft=e}}}function Pd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function As(e){if(e!==ft)return!1;if(!ve)return Pd(e),ve=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Al(e.type,e.memoizedProps)),n&&(n=ht)){if(Wl(e))throw Dd(),Error(r(418));for(;n;)xd(e,n),n=fn(n.nextSibling)}if(Pd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){ht=fn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}ht=null}}else ht=ft?fn(e.stateNode.nextSibling):null;return!0}function Dd(){for(var e=ht;e;)e=fn(e.nextSibling)}function gr(){ht=ft=null,ve=!1}function bl(e){Nt===null?Nt=[e]:Nt.push(e)}var Vg=Ae.ReactCurrentBatchConfig;function pi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var a=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var g=a.refs;h===null?delete g[d]:g[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Os(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ad(e){var n=e._init;return n(e._payload)}function Od(e){function n(C,v){if(e){var S=C.deletions;S===null?(C.deletions=[v],C.flags|=16):S.push(v)}}function s(C,v){if(!e)return null;for(;v!==null;)n(C,v),v=v.sibling;return null}function l(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function a(C,v){return C=Sn(C,v),C.index=0,C.sibling=null,C}function d(C,v,S){return C.index=S,e?(S=C.alternate,S!==null?(S=S.index,S<v?(C.flags|=2,v):S):(C.flags|=2,v)):(C.flags|=1048576,v)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function g(C,v,S,O){return v===null||v.tag!==6?(v=Ou(S,C.mode,O),v.return=C,v):(v=a(v,S),v.return=C,v)}function y(C,v,S,O){var b=S.type;return b===Ze?P(C,v,S.props.children,O,S.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===et&&Ad(b)===v.type)?(O=a(v,S.props),O.ref=pi(C,v,S),O.return=C,O):(O=ro(S.type,S.key,S.props,null,C.mode,O),O.ref=pi(C,v,S),O.return=C,O)}function T(C,v,S,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Mu(S,C.mode,O),v.return=C,v):(v=a(v,S.children||[]),v.return=C,v)}function P(C,v,S,O,b){return v===null||v.tag!==7?(v=$n(S,C.mode,O,b),v.return=C,v):(v=a(v,S),v.return=C,v)}function D(C,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ou(""+v,C.mode,S),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case St:return S=ro(v.type,v.key,v.props,null,C.mode,S),S.ref=pi(C,null,v),S.return=C,S;case Ye:return v=Mu(v,C.mode,S),v.return=C,v;case et:var O=v._init;return D(C,O(v._payload),S)}if(Hr(v)||Q(v))return v=$n(v,C.mode,S,null),v.return=C,v;Os(C,v)}return null}function x(C,v,S,O){var b=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:g(C,v,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case St:return S.key===b?y(C,v,S,O):null;case Ye:return S.key===b?T(C,v,S,O):null;case et:return b=S._init,x(C,v,b(S._payload),O)}if(Hr(S)||Q(S))return b!==null?null:P(C,v,S,O,null);Os(C,S)}return null}function z(C,v,S,O,b){if(typeof O=="string"&&O!==""||typeof O=="number")return C=C.get(S)||null,g(v,C,""+O,b);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case St:return C=C.get(O.key===null?S:O.key)||null,y(v,C,O,b);case Ye:return C=C.get(O.key===null?S:O.key)||null,T(v,C,O,b);case et:var V=O._init;return z(C,v,S,V(O._payload),b)}if(Hr(O)||Q(O))return C=C.get(S)||null,P(v,C,O,b,null);Os(v,O)}return null}function W(C,v,S,O){for(var b=null,V=null,$=v,K=v=0,Le=null;$!==null&&K<S.length;K++){$.index>K?(Le=$,$=null):Le=$.sibling;var ie=x(C,$,S[K],O);if(ie===null){$===null&&($=Le);break}e&&$&&ie.alternate===null&&n(C,$),v=d(ie,v,K),V===null?b=ie:V.sibling=ie,V=ie,$=Le}if(K===S.length)return s(C,$),ve&&zn(C,K),b;if($===null){for(;K<S.length;K++)$=D(C,S[K],O),$!==null&&(v=d($,v,K),V===null?b=$:V.sibling=$,V=$);return ve&&zn(C,K),b}for($=l(C,$);K<S.length;K++)Le=z($,C,K,S[K],O),Le!==null&&(e&&Le.alternate!==null&&$.delete(Le.key===null?K:Le.key),v=d(Le,v,K),V===null?b=Le:V.sibling=Le,V=Le);return e&&$.forEach(function(kn){return n(C,kn)}),ve&&zn(C,K),b}function j(C,v,S,O){var b=Q(S);if(typeof b!="function")throw Error(r(150));if(S=b.call(S),S==null)throw Error(r(151));for(var V=b=null,$=v,K=v=0,Le=null,ie=S.next();$!==null&&!ie.done;K++,ie=S.next()){$.index>K?(Le=$,$=null):Le=$.sibling;var kn=x(C,$,ie.value,O);if(kn===null){$===null&&($=Le);break}e&&$&&kn.alternate===null&&n(C,$),v=d(kn,v,K),V===null?b=kn:V.sibling=kn,V=kn,$=Le}if(ie.done)return s(C,$),ve&&zn(C,K),b;if($===null){for(;!ie.done;K++,ie=S.next())ie=D(C,ie.value,O),ie!==null&&(v=d(ie,v,K),V===null?b=ie:V.sibling=ie,V=ie);return ve&&zn(C,K),b}for($=l(C,$);!ie.done;K++,ie=S.next())ie=z($,C,K,ie.value,O),ie!==null&&(e&&ie.alternate!==null&&$.delete(ie.key===null?K:ie.key),v=d(ie,v,K),V===null?b=ie:V.sibling=ie,V=ie);return e&&$.forEach(function(C_){return n(C,C_)}),ve&&zn(C,K),b}function Ne(C,v,S,O){if(typeof S=="object"&&S!==null&&S.type===Ze&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case St:e:{for(var b=S.key,V=v;V!==null;){if(V.key===b){if(b=S.type,b===Ze){if(V.tag===7){s(C,V.sibling),v=a(V,S.props.children),v.return=C,C=v;break e}}else if(V.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===et&&Ad(b)===V.type){s(C,V.sibling),v=a(V,S.props),v.ref=pi(C,V,S),v.return=C,C=v;break e}s(C,V);break}else n(C,V);V=V.sibling}S.type===Ze?(v=$n(S.props.children,C.mode,O,S.key),v.return=C,C=v):(O=ro(S.type,S.key,S.props,null,C.mode,O),O.ref=pi(C,v,S),O.return=C,C=O)}return h(C);case Ye:e:{for(V=S.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){s(C,v.sibling),v=a(v,S.children||[]),v.return=C,C=v;break e}else{s(C,v);break}else n(C,v);v=v.sibling}v=Mu(S,C.mode,O),v.return=C,C=v}return h(C);case et:return V=S._init,Ne(C,v,V(S._payload),O)}if(Hr(S))return W(C,v,S,O);if(Q(S))return j(C,v,S,O);Os(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(s(C,v.sibling),v=a(v,S),v.return=C,C=v):(s(C,v),v=Ou(S,C.mode,O),v.return=C,C=v),h(C)):s(C,v)}return Ne}var _r=Od(!0),Md=Od(!1),Ms=hn(null),Ls=null,yr=null,Hl=null;function Vl(){Hl=yr=Ls=null}function $l(e){var n=Ms.current;_e(Ms),e._currentValue=n}function Ql(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function vr(e,n){Ls=e,Hl=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(rt=!0),e.firstContext=null)}function yt(e){var n=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:n,next:null},yr===null){if(Ls===null)throw Error(r(308));yr=e,Ls.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return n}var Un=null;function Gl(e){Un===null?Un=[e]:Un.push(e)}function Ld(e,n,s,l){var a=n.interleaved;return a===null?(s.next=s,Gl(n)):(s.next=a.next,a.next=s),n.interleaved=s,Yt(e,l)}function Yt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var gn=!1;function Kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function _n(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var a=l.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),l.pending=n,Yt(e,s)}return a=l.interleaved,a===null?(n.next=n,Gl(l)):(n.next=a.next,a.next=n),l.interleaved=n,Yt(e,s)}function Fs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ul(e,s)}}function zd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var a=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?a=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?a=d=n:d=d.next=n}else a=d=n;s={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function zs(e,n,s,l){var a=e.updateQueue;gn=!1;var d=a.firstBaseUpdate,h=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var y=g,T=y.next;y.next=null,h===null?d=T:h.next=T,h=y;var P=e.alternate;P!==null&&(P=P.updateQueue,g=P.lastBaseUpdate,g!==h&&(g===null?P.firstBaseUpdate=T:g.next=T,P.lastBaseUpdate=y))}if(d!==null){var D=a.baseState;h=0,P=T=y=null,g=d;do{var x=g.lane,z=g.eventTime;if((l&x)===x){P!==null&&(P=P.next={eventTime:z,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var W=e,j=g;switch(x=n,z=s,j.tag){case 1:if(W=j.payload,typeof W=="function"){D=W.call(z,D,x);break e}D=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=j.payload,x=typeof W=="function"?W.call(z,D,x):W,x==null)break e;D=B({},D,x);break e;case 2:gn=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[g]:x.push(g))}else z={eventTime:z,lane:x,tag:g.tag,payload:g.payload,callback:g.callback,next:null},P===null?(T=P=z,y=D):P=P.next=z,h|=x;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;x=g,g=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(P===null&&(y=D),a.baseState=y,a.firstBaseUpdate=T,a.lastBaseUpdate=P,n=a.shared.interleaved,n!==null){a=n;do h|=a.lane,a=a.next;while(a!==n)}else d===null&&(a.shared.lanes=0);jn|=h,e.lanes=h,e.memoizedState=D}}function Ud(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(a!==null){if(l.callback=null,l=s,typeof a!="function")throw Error(r(191,a));a.call(l)}}}var mi={},Bt=hn(mi),gi=hn(mi),_i=hn(mi);function Bn(e){if(e===mi)throw Error(r(174));return e}function Yl(e,n){switch(fe(_i,n),fe(gi,e),fe(Bt,mi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:qo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=qo(n,e)}_e(Bt),fe(Bt,n)}function wr(){_e(Bt),_e(gi),_e(_i)}function Bd(e){Bn(_i.current);var n=Bn(Bt.current),s=qo(n,e.type);n!==s&&(fe(gi,e),fe(Bt,s))}function ql(e){gi.current===e&&(_e(Bt),_e(gi))}var we=hn(0);function Us(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xl=[];function Jl(){for(var e=0;e<Xl.length;e++)Xl[e]._workInProgressVersionPrimary=null;Xl.length=0}var Bs=Ae.ReactCurrentDispatcher,Zl=Ae.ReactCurrentBatchConfig,Wn=0,Ee=null,Pe=null,Oe=null,Ws=!1,yi=!1,vi=0,$g=0;function Qe(){throw Error(r(321))}function eu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tt(e[s],n[s]))return!1;return!0}function tu(e,n,s,l,a,d){if(Wn=d,Ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Bs.current=e===null||e.memoizedState===null?Yg:qg,e=s(l,a),yi){d=0;do{if(yi=!1,vi=0,25<=d)throw Error(r(301));d+=1,Oe=Pe=null,n.updateQueue=null,Bs.current=Xg,e=s(l,a)}while(yi)}if(Bs.current=Hs,n=Pe!==null&&Pe.next!==null,Wn=0,Oe=Pe=Ee=null,Ws=!1,n)throw Error(r(300));return e}function nu(){var e=vi!==0;return vi=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ee.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function vt(){if(Pe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var n=Oe===null?Ee.memoizedState:Oe.next;if(n!==null)Oe=n,Pe=e;else{if(e===null)throw Error(r(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Oe===null?Ee.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function wi(e,n){return typeof n=="function"?n(e):n}function ru(e){var n=vt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Pe,a=l.baseQueue,d=s.pending;if(d!==null){if(a!==null){var h=a.next;a.next=d.next,d.next=h}l.baseQueue=a=d,s.pending=null}if(a!==null){d=a.next,l=l.baseState;var g=h=null,y=null,T=d;do{var P=T.lane;if((Wn&P)===P)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),l=T.hasEagerState?T.eagerState:e(l,T.action);else{var D={lane:P,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(g=y=D,h=l):y=y.next=D,Ee.lanes|=P,jn|=P}T=T.next}while(T!==null&&T!==d);y===null?h=l:y.next=g,Tt(l,n.memoizedState)||(rt=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){a=e;do d=a.lane,Ee.lanes|=d,jn|=d,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function iu(e){var n=vt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,a=s.pending,d=n.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do d=e(d,h.action),h=h.next;while(h!==a);Tt(d,n.memoizedState)||(rt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Wd(){}function jd(e,n){var s=Ee,l=vt(),a=n(),d=!Tt(l.memoizedState,a);if(d&&(l.memoizedState=a,rt=!0),l=l.queue,su(Vd.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||Oe!==null&&Oe.memoizedState.tag&1){if(s.flags|=2048,Ei(9,Hd.bind(null,s,l,a,n),void 0,null),Me===null)throw Error(r(349));Wn&30||bd(s,n,a)}return a}function bd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ee.updateQueue,n===null?(n={lastEffect:null,stores:null},Ee.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Hd(e,n,s,l){n.value=s,n.getSnapshot=l,$d(n)&&Qd(e)}function Vd(e,n,s){return s(function(){$d(n)&&Qd(e)})}function $d(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tt(e,s)}catch{return!0}}function Qd(e){var n=Yt(e,1);n!==null&&Dt(n,e,1,-1)}function Gd(e){var n=Wt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},n.queue=e,e=e.dispatch=Kg.bind(null,Ee,e),[n.memoizedState,e]}function Ei(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Ee.updateQueue,n===null?(n={lastEffect:null,stores:null},Ee.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Kd(){return vt().memoizedState}function js(e,n,s,l){var a=Wt();Ee.flags|=e,a.memoizedState=Ei(1|n,s,void 0,l===void 0?null:l)}function bs(e,n,s,l){var a=vt();l=l===void 0?null:l;var d=void 0;if(Pe!==null){var h=Pe.memoizedState;if(d=h.destroy,l!==null&&eu(l,h.deps)){a.memoizedState=Ei(n,s,d,l);return}}Ee.flags|=e,a.memoizedState=Ei(1|n,s,d,l)}function Yd(e,n){return js(8390656,8,e,n)}function su(e,n){return bs(2048,8,e,n)}function qd(e,n){return bs(4,2,e,n)}function Xd(e,n){return bs(4,4,e,n)}function Jd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Zd(e,n,s){return s=s!=null?s.concat([e]):null,bs(4,4,Jd.bind(null,n,e),s)}function ou(){}function ef(e,n){var s=vt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&eu(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function tf(e,n){var s=vt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&eu(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function nf(e,n,s){return Wn&21?(Tt(s,n)||(s=Ac(),Ee.lanes|=s,jn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=s)}function Qg(e,n){var s=le;le=s!==0&&4>s?s:4,e(!0);var l=Zl.transition;Zl.transition={};try{e(!1),n()}finally{le=s,Zl.transition=l}}function rf(){return vt().memoizedState}function Gg(e,n,s){var l=En(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},sf(e))of(n,s);else if(s=Ld(e,n,s,l),s!==null){var a=Xe();Dt(s,e,l,a),lf(s,n,l)}}function Kg(e,n,s){var l=En(e),a={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(sf(e))of(n,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,g=d(h,s);if(a.hasEagerState=!0,a.eagerState=g,Tt(g,h)){var y=n.interleaved;y===null?(a.next=a,Gl(n)):(a.next=y.next,y.next=a),n.interleaved=a;return}}catch{}finally{}s=Ld(e,n,a,l),s!==null&&(a=Xe(),Dt(s,e,l,a),lf(s,n,l))}}function sf(e){var n=e.alternate;return e===Ee||n!==null&&n===Ee}function of(e,n){yi=Ws=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function lf(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ul(e,s)}}var Hs={readContext:yt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Yg={readContext:yt,useCallback:function(e,n){return Wt().memoizedState=[e,n===void 0?null:n],e},useContext:yt,useEffect:Yd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,js(4194308,4,Jd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return js(4194308,4,e,n)},useInsertionEffect:function(e,n){return js(4,2,e,n)},useMemo:function(e,n){var s=Wt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Wt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Gg.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var n=Wt();return e={current:e},n.memoizedState=e},useState:Gd,useDebugValue:ou,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Gd(!1),n=e[0];return e=Qg.bind(null,e[1]),Wt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Ee,a=Wt();if(ve){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Me===null)throw Error(r(349));Wn&30||bd(l,n,s)}a.memoizedState=s;var d={value:s,getSnapshot:n};return a.queue=d,Yd(Vd.bind(null,l,d,e),[e]),l.flags|=2048,Ei(9,Hd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Wt(),n=Me.identifierPrefix;if(ve){var s=Kt,l=Gt;s=(l&~(1<<32-It(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=vi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=$g++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},qg={readContext:yt,useCallback:ef,useContext:yt,useEffect:su,useImperativeHandle:Zd,useInsertionEffect:qd,useLayoutEffect:Xd,useMemo:tf,useReducer:ru,useRef:Kd,useState:function(){return ru(wi)},useDebugValue:ou,useDeferredValue:function(e){var n=vt();return nf(n,Pe.memoizedState,e)},useTransition:function(){var e=ru(wi)[0],n=vt().memoizedState;return[e,n]},useMutableSource:Wd,useSyncExternalStore:jd,useId:rf,unstable_isNewReconciler:!1},Xg={readContext:yt,useCallback:ef,useContext:yt,useEffect:su,useImperativeHandle:Zd,useInsertionEffect:qd,useLayoutEffect:Xd,useMemo:tf,useReducer:iu,useRef:Kd,useState:function(){return iu(wi)},useDebugValue:ou,useDeferredValue:function(e){var n=vt();return Pe===null?n.memoizedState=e:nf(n,Pe.memoizedState,e)},useTransition:function(){var e=iu(wi)[0],n=vt().memoizedState;return[e,n]},useMutableSource:Wd,useSyncExternalStore:jd,useId:rf,unstable_isNewReconciler:!1};function xt(e,n){if(e&&e.defaultProps){n=B({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function lu(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:B({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vs={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Xe(),a=En(e),d=qt(l,a);d.payload=n,s!=null&&(d.callback=s),n=_n(e,d,a),n!==null&&(Dt(n,e,a,l),Fs(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Xe(),a=En(e),d=qt(l,a);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=_n(e,d,a),n!==null&&(Dt(n,e,a,l),Fs(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Xe(),l=En(e),a=qt(s,l);a.tag=2,n!=null&&(a.callback=n),n=_n(e,a,l),n!==null&&(Dt(n,e,l,s),Fs(n,e,l))}};function uf(e,n,s,l,a,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!li(s,l)||!li(a,d):!0}function af(e,n,s){var l=!1,a=pn,d=n.contextType;return typeof d=="object"&&d!==null?d=yt(d):(a=nt(n)?Ln:$e.current,l=n.contextTypes,d=(l=l!=null)?hr(e,a):pn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),n}function cf(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Vs.enqueueReplaceState(n,n.state,null)}function uu(e,n,s,l){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Kl(e);var d=n.contextType;typeof d=="object"&&d!==null?a.context=yt(d):(d=nt(n)?Ln:$e.current,a.context=hr(e,d)),a.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(lu(e,n,d,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Vs.enqueueReplaceState(a,a.state,null),zs(e,s,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,n){try{var s="",l=n;do s+=ne(l),l=l.return;while(l);var a=s}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:a,digest:null}}function au(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function cu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Jg=typeof WeakMap=="function"?WeakMap:Map;function df(e,n,s){s=qt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Xs||(Xs=!0,Iu=l),cu(e,n)},s}function ff(e,n,s){s=qt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=n.value;s.payload=function(){return l(a)},s.callback=function(){cu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){cu(e,n),typeof l!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function hf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Jg;var a=new Set;l.set(n,a)}else a=l.get(n),a===void 0&&(a=new Set,l.set(n,a));a.has(s)||(a.add(s),e=f_.bind(null,e,n,s),n.then(e,e))}function pf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function mf(e,n,s,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=qt(-1,1),n.tag=2,_n(s,n,1))),s.lanes|=1),e)}var Zg=Ae.ReactCurrentOwner,rt=!1;function qe(e,n,s,l){n.child=e===null?Md(n,null,s,l):_r(n,e.child,s,l)}function gf(e,n,s,l,a){s=s.render;var d=n.ref;return vr(n,a),l=tu(e,n,s,l,d,a),s=nu(),e!==null&&!rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Xt(e,n,a)):(ve&&s&&Ul(n),n.flags|=1,qe(e,n,l,a),n.child)}function _f(e,n,s,l,a){if(e===null){var d=s.type;return typeof d=="function"&&!Au(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,yf(e,n,d,l,a)):(e=ro(s.type,null,l,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&a)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:li,s(h,l)&&e.ref===n.ref)return Xt(e,n,a)}return n.flags|=1,e=Sn(d,l),e.ref=n.ref,e.return=n,n.child=e}function yf(e,n,s,l,a){if(e!==null){var d=e.memoizedProps;if(li(d,l)&&e.ref===n.ref)if(rt=!1,n.pendingProps=l=d,(e.lanes&a)!==0)e.flags&131072&&(rt=!0);else return n.lanes=e.lanes,Xt(e,n,a)}return du(e,n,s,l,a)}function vf(e,n,s){var l=n.pendingProps,a=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Sr,pt),pt|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,fe(Sr,pt),pt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,fe(Sr,pt),pt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,fe(Sr,pt),pt|=l;return qe(e,n,a,s),n.child}function wf(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function du(e,n,s,l,a){var d=nt(s)?Ln:$e.current;return d=hr(n,d),vr(n,a),s=tu(e,n,s,l,d,a),l=nu(),e!==null&&!rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Xt(e,n,a)):(ve&&l&&Ul(n),n.flags|=1,qe(e,n,s,a),n.child)}function Ef(e,n,s,l,a){if(nt(s)){var d=!0;xs(n)}else d=!1;if(vr(n,a),n.stateNode===null)Qs(e,n),af(n,s,l),uu(n,s,l,a),l=!0;else if(e===null){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,T=s.contextType;typeof T=="object"&&T!==null?T=yt(T):(T=nt(s)?Ln:$e.current,T=hr(n,T));var P=s.getDerivedStateFromProps,D=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function";D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==l||y!==T)&&cf(n,h,l,T),gn=!1;var x=n.memoizedState;h.state=x,zs(n,l,h,a),y=n.memoizedState,g!==l||x!==y||tt.current||gn?(typeof P=="function"&&(lu(n,s,P,l),y=n.memoizedState),(g=gn||uf(n,s,g,l,x,y,T))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=T,l=g):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Fd(e,n),g=n.memoizedProps,T=n.type===n.elementType?g:xt(n.type,g),h.props=T,D=n.pendingProps,x=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=yt(y):(y=nt(s)?Ln:$e.current,y=hr(n,y));var z=s.getDerivedStateFromProps;(P=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==D||x!==y)&&cf(n,h,l,y),gn=!1,x=n.memoizedState,h.state=x,zs(n,l,h,a);var W=n.memoizedState;g!==D||x!==W||tt.current||gn?(typeof z=="function"&&(lu(n,s,z,l),W=n.memoizedState),(T=gn||uf(n,s,T,l,x,W,y)||!1)?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,W,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,W,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=W),h.props=l,h.state=W,h.context=y,l=T):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),l=!1)}return fu(e,n,s,l,d,a)}function fu(e,n,s,l,a,d){wf(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return a&&Id(n,s,!1),Xt(e,n,d);l=n.stateNode,Zg.current=n;var g=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=_r(n,e.child,null,d),n.child=_r(n,null,g,d)):qe(e,n,g,d),n.memoizedState=l.state,a&&Id(n,s,!0),n.child}function Cf(e){var n=e.stateNode;n.pendingContext?Sd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Sd(e,n.context,!1),Yl(e,n.containerInfo)}function Sf(e,n,s,l,a){return gr(),bl(a),n.flags|=256,qe(e,n,s,l),n.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function kf(e,n,s){var l=n.pendingProps,a=we.current,d=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fe(we,a&1),e===null)return jl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=io(h,l,0,null),e=$n(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=pu(s),n.memoizedState=hu,e):mu(n,h));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return e_(e,n,h,l,g,a,s);if(d){d=l.fallback,h=n.mode,a=e.child,g=a.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==a?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=Sn(a,y),l.subtreeFlags=a.subtreeFlags&14680064),g!==null?d=Sn(g,d):(d=$n(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?pu(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=hu,l}return d=e.child,e=d.sibling,l=Sn(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function mu(e,n){return n=io({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function $s(e,n,s,l){return l!==null&&bl(l),_r(n,e.child,null,s),e=mu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function e_(e,n,s,l,a,d,h){if(s)return n.flags&256?(n.flags&=-257,l=au(Error(r(422))),$s(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,a=n.mode,l=io({mode:"visible",children:l.children},a,0,null),d=$n(d,a,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&_r(n,e.child,null,h),n.child.memoizedState=pu(h),n.memoizedState=hu,d);if(!(n.mode&1))return $s(e,n,h,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(r(419)),l=au(d,l,void 0),$s(e,n,h,l)}if(g=(h&e.childLanes)!==0,rt||g){if(l=Me,l!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|h)?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,Yt(e,a),Dt(l,e,a,-1))}return Du(),l=au(Error(r(421))),$s(e,n,h,l)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=h_.bind(null,e),a._reactRetry=n,null):(e=d.treeContext,ht=fn(a.nextSibling),ft=n,ve=!0,Nt=null,e!==null&&(gt[_t++]=Gt,gt[_t++]=Kt,gt[_t++]=Fn,Gt=e.id,Kt=e.overflow,Fn=n),n=mu(n,l.children),n.flags|=4096,n)}function If(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ql(e.return,n,s)}function gu(e,n,s,l,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:a}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=a)}function Tf(e,n,s){var l=n.pendingProps,a=l.revealOrder,d=l.tail;if(qe(e,n,l.children,s),l=we.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&If(e,s,n);else if(e.tag===19)If(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(fe(we,l),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&Us(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),gu(n,!1,a,s,d);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&Us(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}gu(n,!0,s,null,d);break;case"together":gu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Qs(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Xt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),jn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Sn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Sn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function t_(e,n,s){switch(n.tag){case 3:Cf(n),gr();break;case 5:Bd(n);break;case 1:nt(n.type)&&xs(n);break;case 4:Yl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,a=n.memoizedProps.value;fe(Ms,l._currentValue),l._currentValue=a;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(fe(we,we.current&1),n.flags|=128,null):s&n.child.childLanes?kf(e,n,s):(fe(we,we.current&1),e=Xt(e,n,s),e!==null?e.sibling:null);fe(we,we.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Tf(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fe(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,vf(e,n,s)}return Xt(e,n,s)}var Nf,_u,xf,Rf;Nf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},_u=function(){},xf=function(e,n,s,l){var a=e.memoizedProps;if(a!==l){e=n.stateNode,Bn(Bt.current);var d=null;switch(s){case"input":a=Qo(e,a),l=Qo(e,l),d=[];break;case"select":a=B({},a,{value:void 0}),l=B({},l,{value:void 0}),d=[];break;case"textarea":a=Yo(e,a),l=Yo(e,l),d=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Is)}Xo(s,l);var h;s=null;for(T in a)if(!l.hasOwnProperty(T)&&a.hasOwnProperty(T)&&a[T]!=null)if(T==="style"){var g=a[T];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(u.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in l){var y=l[T];if(g=a!=null?a[T]:void 0,l.hasOwnProperty(T)&&y!==g&&(y!=null||g!=null))if(T==="style")if(g){for(h in g)!g.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&g[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(d||(d=[]),d.push(T,s)),s=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(d=d||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(u.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&ge("scroll",e),d||g===y||(d=[])):(d=d||[]).push(T,y))}s&&(d=d||[]).push("style",s);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},Rf=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ci(e,n){if(!ve)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function n_(e,n,s){var l=n.pendingProps;switch(Bl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return nt(n.type)&&Ns(),Ge(n),null;case 3:return l=n.stateNode,wr(),_e(tt),_e($e),Jl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(As(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nt!==null&&(xu(Nt),Nt=null))),_u(e,n),Ge(n),null;case 5:ql(n);var a=Bn(_i.current);if(s=n.type,e!==null&&n.stateNode!=null)xf(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ge(n),null}if(e=Bn(Bt.current),As(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Ut]=n,l[fi]=d,e=(n.mode&1)!==0,s){case"dialog":ge("cancel",l),ge("close",l);break;case"iframe":case"object":case"embed":ge("load",l);break;case"video":case"audio":for(a=0;a<ai.length;a++)ge(ai[a],l);break;case"source":ge("error",l);break;case"img":case"image":case"link":ge("error",l),ge("load",l);break;case"details":ge("toggle",l);break;case"input":uc(l,d),ge("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},ge("invalid",l);break;case"textarea":dc(l,d),ge("invalid",l)}Xo(s,d),a=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&ks(l.textContent,g,e),a=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&ks(l.textContent,g,e),a=["children",""+g]):u.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&ge("scroll",l)}switch(s){case"input":ts(l),cc(l,d,!0);break;case"textarea":ts(l),hc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Is)}l=a,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Ut]=n,e[fi]=l,Nf(e,n,!1,!1),n.stateNode=e;e:{switch(h=Jo(s,l),s){case"dialog":ge("cancel",e),ge("close",e),a=l;break;case"iframe":case"object":case"embed":ge("load",e),a=l;break;case"video":case"audio":for(a=0;a<ai.length;a++)ge(ai[a],e);a=l;break;case"source":ge("error",e),a=l;break;case"img":case"image":case"link":ge("error",e),ge("load",e),a=l;break;case"details":ge("toggle",e),a=l;break;case"input":uc(e,l),a=Qo(e,l),ge("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=B({},l,{value:void 0}),ge("invalid",e);break;case"textarea":dc(e,l),a=Yo(e,l),ge("invalid",e);break;default:a=l}Xo(s,a),g=a;for(d in g)if(g.hasOwnProperty(d)){var y=g[d];d==="style"?_c(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&mc(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Vr(e,y):typeof y=="number"&&Vr(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?y!=null&&d==="onScroll"&&ge("scroll",e):y!=null&&We(e,d,y,h))}switch(s){case"input":ts(e),cc(e,l,!1);break;case"textarea":ts(e),hc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+oe(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?tr(e,!!l.multiple,d,!1):l.defaultValue!=null&&tr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Is)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ge(n),null;case 6:if(e&&n.stateNode!=null)Rf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Bn(_i.current),Bn(Bt.current),As(n)){if(l=n.stateNode,s=n.memoizedProps,l[Ut]=n,(d=l.nodeValue!==s)&&(e=ft,e!==null))switch(e.tag){case 3:ks(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Ut]=n,n.stateNode=l}return Ge(n),null;case 13:if(_e(we),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&ht!==null&&n.mode&1&&!(n.flags&128))Dd(),gr(),n.flags|=98560,d=!1;else if(d=As(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ut]=n}else gr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else Nt!==null&&(xu(Nt),Nt=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||we.current&1?De===0&&(De=3):Du())),n.updateQueue!==null&&(n.flags|=4),Ge(n),null);case 4:return wr(),_u(e,n),e===null&&ci(n.stateNode.containerInfo),Ge(n),null;case 10:return $l(n.type._context),Ge(n),null;case 17:return nt(n.type)&&Ns(),Ge(n),null;case 19:if(_e(we),d=n.memoizedState,d===null)return Ge(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)Ci(d,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=Us(e),h!==null){for(n.flags|=128,Ci(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return fe(we,we.current&1|2),n.child}e=e.sibling}d.tail!==null&&Te()>kr&&(n.flags|=128,l=!0,Ci(d,!1),n.lanes=4194304)}else{if(!l)if(e=Us(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ci(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!ve)return Ge(n),null}else 2*Te()-d.renderingStartTime>kr&&s!==1073741824&&(n.flags|=128,l=!0,Ci(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Te(),n.sibling=null,s=we.current,fe(we,l?s&1|2:s&1),n):(Ge(n),null);case 22:case 23:return Pu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?pt&1073741824&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function r_(e,n){switch(Bl(n),n.tag){case 1:return nt(n.type)&&Ns(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wr(),_e(tt),_e($e),Jl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ql(n),null;case 13:if(_e(we),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return _e(we),null;case 4:return wr(),null;case 10:return $l(n.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var Gs=!1,Ke=!1,i_=typeof WeakSet=="function"?WeakSet:Set,U=null;function Cr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Se(e,n,l)}else s.current=null}function yu(e,n,s){try{s()}catch(l){Se(e,n,l)}}var Pf=!1;function s_(e,n){if(Pl=hs,e=ld(),Cl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var a=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,y=-1,T=0,P=0,D=e,x=null;t:for(;;){for(var z;D!==s||a!==0&&D.nodeType!==3||(g=h+a),D!==d||l!==0&&D.nodeType!==3||(y=h+l),D.nodeType===3&&(h+=D.nodeValue.length),(z=D.firstChild)!==null;)x=D,D=z;for(;;){if(D===e)break t;if(x===s&&++T===a&&(g=h),x===d&&++P===l&&(y=h),(z=D.nextSibling)!==null)break;D=x,x=D.parentNode}D=z}s=g===-1||y===-1?null:{start:g,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dl={focusedElem:e,selectionRange:s},hs=!1,U=n;U!==null;)if(n=U,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,U=e;else for(;U!==null;){n=U;try{var W=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(W!==null){var j=W.memoizedProps,Ne=W.memoizedState,C=n.stateNode,v=C.getSnapshotBeforeUpdate(n.elementType===n.type?j:xt(n.type,j),Ne);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(O){Se(n,n.return,O)}if(e=n.sibling,e!==null){e.return=n.return,U=e;break}U=n.return}return W=Pf,Pf=!1,W}function Si(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&yu(n,s,d)}a=a.next}while(a!==l)}}function Ks(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function vu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Df(e){var n=e.alternate;n!==null&&(e.alternate=null,Df(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ut],delete n[fi],delete n[Ll],delete n[jg],delete n[bg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Af(e){return e.tag===5||e.tag===3||e.tag===4}function Of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Is));else if(l!==4&&(e=e.child,e!==null))for(wu(e,n,s),e=e.sibling;e!==null;)wu(e,n,s),e=e.sibling}function Eu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Eu(e,n,s),e=e.sibling;e!==null;)Eu(e,n,s),e=e.sibling}var je=null,Rt=!1;function yn(e,n,s){for(s=s.child;s!==null;)Mf(e,n,s),s=s.sibling}function Mf(e,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ls,s)}catch{}switch(s.tag){case 5:Ke||Cr(s,n);case 6:var l=je,a=Rt;je=null,yn(e,n,s),je=l,Rt=a,je!==null&&(Rt?(e=je,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):je.removeChild(s.stateNode));break;case 18:je!==null&&(Rt?(e=je,s=s.stateNode,e.nodeType===8?Ml(e.parentNode,s):e.nodeType===1&&Ml(e,s),ti(e)):Ml(je,s.stateNode));break;case 4:l=je,a=Rt,je=s.stateNode.containerInfo,Rt=!0,yn(e,n,s),je=l,Rt=a;break;case 0:case 11:case 14:case 15:if(!Ke&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var d=a,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&yu(s,n,h),a=a.next}while(a!==l)}yn(e,n,s);break;case 1:if(!Ke&&(Cr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(g){Se(s,n,g)}yn(e,n,s);break;case 21:yn(e,n,s);break;case 22:s.mode&1?(Ke=(l=Ke)||s.memoizedState!==null,yn(e,n,s),Ke=l):yn(e,n,s);break;default:yn(e,n,s)}}function Lf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new i_),n.forEach(function(l){var a=p_.bind(null,e,l);s.has(l)||(s.add(l),l.then(a,a))})}}function Pt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];try{var d=e,h=n,g=h;e:for(;g!==null;){switch(g.tag){case 5:je=g.stateNode,Rt=!1;break e;case 3:je=g.stateNode.containerInfo,Rt=!0;break e;case 4:je=g.stateNode.containerInfo,Rt=!0;break e}g=g.return}if(je===null)throw Error(r(160));Mf(d,h,a),je=null,Rt=!1;var y=a.alternate;y!==null&&(y.return=null),a.return=null}catch(T){Se(a,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ff(n,e),n=n.sibling}function Ff(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(n,e),jt(e),l&4){try{Si(3,e,e.return),Ks(3,e)}catch(j){Se(e,e.return,j)}try{Si(5,e,e.return)}catch(j){Se(e,e.return,j)}}break;case 1:Pt(n,e),jt(e),l&512&&s!==null&&Cr(s,s.return);break;case 5:if(Pt(n,e),jt(e),l&512&&s!==null&&Cr(s,s.return),e.flags&32){var a=e.stateNode;try{Vr(a,"")}catch(j){Se(e,e.return,j)}}if(l&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&ac(a,d),Jo(g,h);var T=Jo(g,d);for(h=0;h<y.length;h+=2){var P=y[h],D=y[h+1];P==="style"?_c(a,D):P==="dangerouslySetInnerHTML"?mc(a,D):P==="children"?Vr(a,D):We(a,P,D,T)}switch(g){case"input":Go(a,d);break;case"textarea":fc(a,d);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var z=d.value;z!=null?tr(a,!!d.multiple,z,!1):x!==!!d.multiple&&(d.defaultValue!=null?tr(a,!!d.multiple,d.defaultValue,!0):tr(a,!!d.multiple,d.multiple?[]:"",!1))}a[fi]=d}catch(j){Se(e,e.return,j)}}break;case 6:if(Pt(n,e),jt(e),l&4){if(e.stateNode===null)throw Error(r(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(j){Se(e,e.return,j)}}break;case 3:if(Pt(n,e),jt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ti(n.containerInfo)}catch(j){Se(e,e.return,j)}break;case 4:Pt(n,e),jt(e);break;case 13:Pt(n,e),jt(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(ku=Te())),l&4&&Lf(e);break;case 22:if(P=s!==null&&s.memoizedState!==null,e.mode&1?(Ke=(T=Ke)||P,Pt(n,e),Ke=T):Pt(n,e),jt(e),l&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!P&&e.mode&1)for(U=e,P=e.child;P!==null;){for(D=U=P;U!==null;){switch(x=U,z=x.child,x.tag){case 0:case 11:case 14:case 15:Si(4,x,x.return);break;case 1:Cr(x,x.return);var W=x.stateNode;if(typeof W.componentWillUnmount=="function"){l=x,s=x.return;try{n=l,W.props=n.memoizedProps,W.state=n.memoizedState,W.componentWillUnmount()}catch(j){Se(l,s,j)}}break;case 5:Cr(x,x.return);break;case 22:if(x.memoizedState!==null){Bf(D);continue}}z!==null?(z.return=x,U=z):Bf(D)}P=P.sibling}e:for(P=null,D=e;;){if(D.tag===5){if(P===null){P=D;try{a=D.stateNode,T?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=D.stateNode,y=D.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=gc("display",h))}catch(j){Se(e,e.return,j)}}}else if(D.tag===6){if(P===null)try{D.stateNode.nodeValue=T?"":D.memoizedProps}catch(j){Se(e,e.return,j)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;P===D&&(P=null),D=D.return}P===D&&(P=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Pt(n,e),jt(e),l&4&&Lf(e);break;case 21:break;default:Pt(n,e),jt(e)}}function jt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Af(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(Vr(a,""),l.flags&=-33);var d=Of(e);Eu(e,d,a);break;case 3:case 4:var h=l.stateNode.containerInfo,g=Of(e);wu(e,g,h);break;default:throw Error(r(161))}}catch(y){Se(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function o_(e,n,s){U=e,zf(e)}function zf(e,n,s){for(var l=(e.mode&1)!==0;U!==null;){var a=U,d=a.child;if(a.tag===22&&l){var h=a.memoizedState!==null||Gs;if(!h){var g=a.alternate,y=g!==null&&g.memoizedState!==null||Ke;g=Gs;var T=Ke;if(Gs=h,(Ke=y)&&!T)for(U=a;U!==null;)h=U,y=h.child,h.tag===22&&h.memoizedState!==null?Wf(a):y!==null?(y.return=h,U=y):Wf(a);for(;d!==null;)U=d,zf(d),d=d.sibling;U=a,Gs=g,Ke=T}Uf(e)}else a.subtreeFlags&8772&&d!==null?(d.return=a,U=d):Uf(e)}}function Uf(e){for(;U!==null;){var n=U;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Ke||Ks(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Ke)if(s===null)l.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:xt(n.type,s.memoizedProps);l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Ud(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Ud(n,h,s)}break;case 5:var g=n.stateNode;if(s===null&&n.flags&4){s=g;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var P=T.memoizedState;if(P!==null){var D=P.dehydrated;D!==null&&ti(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ke||n.flags&512&&vu(n)}catch(x){Se(n,n.return,x)}}if(n===e){U=null;break}if(s=n.sibling,s!==null){s.return=n.return,U=s;break}U=n.return}}function Bf(e){for(;U!==null;){var n=U;if(n===e){U=null;break}var s=n.sibling;if(s!==null){s.return=n.return,U=s;break}U=n.return}}function Wf(e){for(;U!==null;){var n=U;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Ks(4,n)}catch(y){Se(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var a=n.return;try{l.componentDidMount()}catch(y){Se(n,a,y)}}var d=n.return;try{vu(n)}catch(y){Se(n,d,y)}break;case 5:var h=n.return;try{vu(n)}catch(y){Se(n,h,y)}}}catch(y){Se(n,n.return,y)}if(n===e){U=null;break}var g=n.sibling;if(g!==null){g.return=n.return,U=g;break}U=n.return}}var l_=Math.ceil,Ys=Ae.ReactCurrentDispatcher,Cu=Ae.ReactCurrentOwner,wt=Ae.ReactCurrentBatchConfig,te=0,Me=null,xe=null,be=0,pt=0,Sr=hn(0),De=0,ki=null,jn=0,qs=0,Su=0,Ii=null,it=null,ku=0,kr=1/0,Jt=null,Xs=!1,Iu=null,vn=null,Js=!1,wn=null,Zs=0,Ti=0,Tu=null,eo=-1,to=0;function Xe(){return te&6?Te():eo!==-1?eo:eo=Te()}function En(e){return e.mode&1?te&2&&be!==0?be&-be:Vg.transition!==null?(to===0&&(to=Ac()),to):(e=le,e!==0||(e=window.event,e=e===void 0?16:jc(e.type)),e):1}function Dt(e,n,s,l){if(50<Ti)throw Ti=0,Tu=null,Error(r(185));qr(e,s,l),(!(te&2)||e!==Me)&&(e===Me&&(!(te&2)&&(qs|=s),De===4&&Cn(e,be)),st(e,l),s===1&&te===0&&!(n.mode&1)&&(kr=Te()+500,Rs&&mn()))}function st(e,n){var s=e.callbackNode;Vm(e,n);var l=cs(e,e===Me?be:0);if(l===0)s!==null&&Rc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Rc(s),n===1)e.tag===0?Hg(bf.bind(null,e)):Td(bf.bind(null,e)),Bg(function(){!(te&6)&&mn()}),s=null;else{switch(Oc(l)){case 1:s=sl;break;case 4:s=Pc;break;case 16:s=os;break;case 536870912:s=Dc;break;default:s=os}s=qf(s,jf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function jf(e,n){if(eo=-1,to=0,te&6)throw Error(r(327));var s=e.callbackNode;if(Ir()&&e.callbackNode!==s)return null;var l=cs(e,e===Me?be:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=no(e,l);else{n=l;var a=te;te|=2;var d=Vf();(Me!==e||be!==n)&&(Jt=null,kr=Te()+500,Hn(e,n));do try{c_();break}catch(g){Hf(e,g)}while(!0);Vl(),Ys.current=d,te=a,xe!==null?n=0:(Me=null,be=0,n=De)}if(n!==0){if(n===2&&(a=ol(e),a!==0&&(l=a,n=Nu(e,a))),n===1)throw s=ki,Hn(e,0),Cn(e,l),st(e,Te()),s;if(n===6)Cn(e,l);else{if(a=e.current.alternate,!(l&30)&&!u_(a)&&(n=no(e,l),n===2&&(d=ol(e),d!==0&&(l=d,n=Nu(e,d))),n===1))throw s=ki,Hn(e,0),Cn(e,l),st(e,Te()),s;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Vn(e,it,Jt);break;case 3:if(Cn(e,l),(l&130023424)===l&&(n=ku+500-Te(),10<n)){if(cs(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){Xe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ol(Vn.bind(null,e,it,Jt),n);break}Vn(e,it,Jt);break;case 4:if(Cn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,a=-1;0<l;){var h=31-It(l);d=1<<h,h=n[h],h>a&&(a=h),l&=~d}if(l=a,l=Te()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*l_(l/1960))-l,10<l){e.timeoutHandle=Ol(Vn.bind(null,e,it,Jt),l);break}Vn(e,it,Jt);break;case 5:Vn(e,it,Jt);break;default:throw Error(r(329))}}}return st(e,Te()),e.callbackNode===s?jf.bind(null,e):null}function Nu(e,n){var s=Ii;return e.current.memoizedState.isDehydrated&&(Hn(e,n).flags|=256),e=no(e,n),e!==2&&(n=it,it=s,n!==null&&xu(n)),e}function xu(e){it===null?it=e:it.push.apply(it,e)}function u_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var a=s[l],d=a.getSnapshot;a=a.value;try{if(!Tt(d(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cn(e,n){for(n&=~Su,n&=~qs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-It(n),l=1<<s;e[s]=-1,n&=~l}}function bf(e){if(te&6)throw Error(r(327));Ir();var n=cs(e,0);if(!(n&1))return st(e,Te()),null;var s=no(e,n);if(e.tag!==0&&s===2){var l=ol(e);l!==0&&(n=l,s=Nu(e,l))}if(s===1)throw s=ki,Hn(e,0),Cn(e,n),st(e,Te()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Vn(e,it,Jt),st(e,Te()),null}function Ru(e,n){var s=te;te|=1;try{return e(n)}finally{te=s,te===0&&(kr=Te()+500,Rs&&mn())}}function bn(e){wn!==null&&wn.tag===0&&!(te&6)&&Ir();var n=te;te|=1;var s=wt.transition,l=le;try{if(wt.transition=null,le=1,e)return e()}finally{le=l,wt.transition=s,te=n,!(te&6)&&mn()}}function Pu(){pt=Sr.current,_e(Sr)}function Hn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ug(s)),xe!==null)for(s=xe.return;s!==null;){var l=s;switch(Bl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ns();break;case 3:wr(),_e(tt),_e($e),Jl();break;case 5:ql(l);break;case 4:wr();break;case 13:_e(we);break;case 19:_e(we);break;case 10:$l(l.type._context);break;case 22:case 23:Pu()}s=s.return}if(Me=e,xe=e=Sn(e.current,null),be=pt=n,De=0,ki=null,Su=qs=jn=0,it=Ii=null,Un!==null){for(n=0;n<Un.length;n++)if(s=Un[n],l=s.interleaved,l!==null){s.interleaved=null;var a=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=a,l.next=h}s.pending=l}Un=null}return e}function Hf(e,n){do{var s=xe;try{if(Vl(),Bs.current=Hs,Ws){for(var l=Ee.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Ws=!1}if(Wn=0,Oe=Pe=Ee=null,yi=!1,vi=0,Cu.current=null,s===null||s.return===null){De=1,ki=n,xe=null;break}e:{var d=e,h=s.return,g=s,y=n;if(n=be,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,P=g,D=P.tag;if(!(P.mode&1)&&(D===0||D===11||D===15)){var x=P.alternate;x?(P.updateQueue=x.updateQueue,P.memoizedState=x.memoizedState,P.lanes=x.lanes):(P.updateQueue=null,P.memoizedState=null)}var z=pf(h);if(z!==null){z.flags&=-257,mf(z,h,g,d,n),z.mode&1&&hf(d,T,n),n=z,y=T;var W=n.updateQueue;if(W===null){var j=new Set;j.add(y),n.updateQueue=j}else W.add(y);break e}else{if(!(n&1)){hf(d,T,n),Du();break e}y=Error(r(426))}}else if(ve&&g.mode&1){var Ne=pf(h);if(Ne!==null){!(Ne.flags&65536)&&(Ne.flags|=256),mf(Ne,h,g,d,n),bl(Er(y,g));break e}}d=y=Er(y,g),De!==4&&(De=2),Ii===null?Ii=[d]:Ii.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=df(d,y,n);zd(d,C);break e;case 1:g=y;var v=d.type,S=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(vn===null||!vn.has(S)))){d.flags|=65536,n&=-n,d.lanes|=n;var O=ff(d,g,n);zd(d,O);break e}}d=d.return}while(d!==null)}Qf(s)}catch(b){n=b,xe===s&&s!==null&&(xe=s=s.return);continue}break}while(!0)}function Vf(){var e=Ys.current;return Ys.current=Hs,e===null?Hs:e}function Du(){(De===0||De===3||De===2)&&(De=4),Me===null||!(jn&268435455)&&!(qs&268435455)||Cn(Me,be)}function no(e,n){var s=te;te|=2;var l=Vf();(Me!==e||be!==n)&&(Jt=null,Hn(e,n));do try{a_();break}catch(a){Hf(e,a)}while(!0);if(Vl(),te=s,Ys.current=l,xe!==null)throw Error(r(261));return Me=null,be=0,De}function a_(){for(;xe!==null;)$f(xe)}function c_(){for(;xe!==null&&!Lm();)$f(xe)}function $f(e){var n=Yf(e.alternate,e,pt);e.memoizedProps=e.pendingProps,n===null?Qf(e):xe=n,Cu.current=null}function Qf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=r_(s,n),s!==null){s.flags&=32767,xe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,xe=null;return}}else if(s=n_(s,n,pt),s!==null){xe=s;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=e}while(n!==null);De===0&&(De=5)}function Vn(e,n,s){var l=le,a=wt.transition;try{wt.transition=null,le=1,d_(e,n,s,l)}finally{wt.transition=a,le=l}return null}function d_(e,n,s,l){do Ir();while(wn!==null);if(te&6)throw Error(r(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if($m(e,d),e===Me&&(xe=Me=null,be=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Js||(Js=!0,qf(os,function(){return Ir(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=wt.transition,wt.transition=null;var h=le;le=1;var g=te;te|=4,Cu.current=null,s_(e,s),Ff(s,e),Dg(Dl),hs=!!Pl,Dl=Pl=null,e.current=s,o_(s),Fm(),te=g,le=h,wt.transition=d}else e.current=s;if(Js&&(Js=!1,wn=e,Zs=a),d=e.pendingLanes,d===0&&(vn=null),Bm(s.stateNode),st(e,Te()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],l(a.value,{componentStack:a.stack,digest:a.digest});if(Xs)throw Xs=!1,e=Iu,Iu=null,e;return Zs&1&&e.tag!==0&&Ir(),d=e.pendingLanes,d&1?e===Tu?Ti++:(Ti=0,Tu=e):Ti=0,mn(),null}function Ir(){if(wn!==null){var e=Oc(Zs),n=wt.transition,s=le;try{if(wt.transition=null,le=16>e?16:e,wn===null)var l=!1;else{if(e=wn,wn=null,Zs=0,te&6)throw Error(r(331));var a=te;for(te|=4,U=e.current;U!==null;){var d=U,h=d.child;if(U.flags&16){var g=d.deletions;if(g!==null){for(var y=0;y<g.length;y++){var T=g[y];for(U=T;U!==null;){var P=U;switch(P.tag){case 0:case 11:case 15:Si(8,P,d)}var D=P.child;if(D!==null)D.return=P,U=D;else for(;U!==null;){P=U;var x=P.sibling,z=P.return;if(Df(P),P===T){U=null;break}if(x!==null){x.return=z,U=x;break}U=z}}}var W=d.alternate;if(W!==null){var j=W.child;if(j!==null){W.child=null;do{var Ne=j.sibling;j.sibling=null,j=Ne}while(j!==null)}}U=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,U=h;else e:for(;U!==null;){if(d=U,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Si(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,U=C;break e}U=d.return}}var v=e.current;for(U=v;U!==null;){h=U;var S=h.child;if(h.subtreeFlags&2064&&S!==null)S.return=h,U=S;else e:for(h=v;U!==null;){if(g=U,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Ks(9,g)}}catch(b){Se(g,g.return,b)}if(g===h){U=null;break e}var O=g.sibling;if(O!==null){O.return=g.return,U=O;break e}U=g.return}}if(te=a,mn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ls,e)}catch{}l=!0}return l}finally{le=s,wt.transition=n}}return!1}function Gf(e,n,s){n=Er(s,n),n=df(e,n,1),e=_n(e,n,1),n=Xe(),e!==null&&(qr(e,1,n),st(e,n))}function Se(e,n,s){if(e.tag===3)Gf(e,e,s);else for(;n!==null;){if(n.tag===3){Gf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vn===null||!vn.has(l))){e=Er(s,e),e=ff(n,e,1),n=_n(n,e,1),e=Xe(),n!==null&&(qr(n,1,e),st(n,e));break}}n=n.return}}function f_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=Xe(),e.pingedLanes|=e.suspendedLanes&s,Me===e&&(be&s)===s&&(De===4||De===3&&(be&130023424)===be&&500>Te()-ku?Hn(e,0):Su|=s),st(e,n)}function Kf(e,n){n===0&&(e.mode&1?(n=as,as<<=1,!(as&130023424)&&(as=4194304)):n=1);var s=Xe();e=Yt(e,n),e!==null&&(qr(e,n,s),st(e,s))}function h_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Kf(e,s)}function p_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Kf(e,s)}var Yf;Yf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||tt.current)rt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return rt=!1,t_(e,n,s);rt=!!(e.flags&131072)}else rt=!1,ve&&n.flags&1048576&&Nd(n,Ds,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Qs(e,n),e=n.pendingProps;var a=hr(n,$e.current);vr(n,s),a=tu(null,n,l,e,a,s);var d=nu();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,nt(l)?(d=!0,xs(n)):d=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Kl(n),a.updater=Vs,n.stateNode=a,a._reactInternals=n,uu(n,l,e,s),n=fu(null,n,l,!0,d,s)):(n.tag=0,ve&&d&&Ul(n),qe(null,n,a,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Qs(e,n),e=n.pendingProps,a=l._init,l=a(l._payload),n.type=l,a=n.tag=g_(l),e=xt(l,e),a){case 0:n=du(null,n,l,e,s);break e;case 1:n=Ef(null,n,l,e,s);break e;case 11:n=gf(null,n,l,e,s);break e;case 14:n=_f(null,n,l,xt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:xt(l,a),du(e,n,l,a,s);case 1:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:xt(l,a),Ef(e,n,l,a,s);case 3:e:{if(Cf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,a=d.element,Fd(e,n),zs(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){a=Er(Error(r(423)),n),n=Sf(e,n,l,s,a);break e}else if(l!==a){a=Er(Error(r(424)),n),n=Sf(e,n,l,s,a);break e}else for(ht=fn(n.stateNode.containerInfo.firstChild),ft=n,ve=!0,Nt=null,s=Md(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(gr(),l===a){n=Xt(e,n,s);break e}qe(e,n,l,s)}n=n.child}return n;case 5:return Bd(n),e===null&&jl(n),l=n.type,a=n.pendingProps,d=e!==null?e.memoizedProps:null,h=a.children,Al(l,a)?h=null:d!==null&&Al(l,d)&&(n.flags|=32),wf(e,n),qe(e,n,h,s),n.child;case 6:return e===null&&jl(n),null;case 13:return kf(e,n,s);case 4:return Yl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=_r(n,null,l,s):qe(e,n,l,s),n.child;case 11:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:xt(l,a),gf(e,n,l,a,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,d=n.memoizedProps,h=a.value,fe(Ms,l._currentValue),l._currentValue=h,d!==null)if(Tt(d.value,h)){if(d.children===a.children&&!tt.current){n=Xt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var y=g.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=qt(-1,s&-s),y.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var P=T.pending;P===null?y.next=y:(y.next=P.next,P.next=y),T.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),Ql(d.return,s,n),g.lanes|=s;break}y=y.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),Ql(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}qe(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,vr(n,s),a=yt(a),l=l(a),n.flags|=1,qe(e,n,l,s),n.child;case 14:return l=n.type,a=xt(l,n.pendingProps),a=xt(l.type,a),_f(e,n,l,a,s);case 15:return yf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:xt(l,a),Qs(e,n),n.tag=1,nt(l)?(e=!0,xs(n)):e=!1,vr(n,s),af(n,l,a),uu(n,l,a,s),fu(null,n,l,!0,e,s);case 19:return Tf(e,n,s);case 22:return vf(e,n,s)}throw Error(r(156,n.tag))};function qf(e,n){return xc(e,n)}function m_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,s,l){return new m_(e,n,s,l)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g_(e){if(typeof e=="function")return Au(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lt)return 11;if(e===Ft)return 14}return 2}function Sn(e,n){var s=e.alternate;return s===null?(s=Et(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ro(e,n,s,l,a,d){var h=2;if(l=e,typeof e=="function")Au(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Ze:return $n(s.children,a,d,n);case mt:h=8,a|=8;break;case sn:return e=Et(12,s,n,a|2),e.elementType=sn,e.lanes=d,e;case at:return e=Et(13,s,n,a),e.elementType=at,e.lanes=d,e;case kt:return e=Et(19,s,n,a),e.elementType=kt,e.lanes=d,e;case Ce:return io(s,a,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vt:h=10;break e;case An:h=9;break e;case Lt:h=11;break e;case Ft:h=14;break e;case et:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Et(h,s,n,a),n.elementType=e,n.type=l,n.lanes=d,n}function $n(e,n,s,l){return e=Et(7,e,l,n),e.lanes=s,e}function io(e,n,s,l){return e=Et(22,e,l,n),e.elementType=Ce,e.lanes=s,e.stateNode={isHidden:!1},e}function Ou(e,n,s){return e=Et(6,e,null,n),e.lanes=s,e}function Mu(e,n,s){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function __(e,n,s,l,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lu(e,n,s,l,a,d,h,g,y){return e=new __(e,n,s,g,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Et(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(d),e}function y_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ye,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Xf(e){if(!e)return pn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(nt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(nt(s))return kd(e,s,n)}return n}function Jf(e,n,s,l,a,d,h,g,y){return e=Lu(s,l,!0,e,a,d,h,g,y),e.context=Xf(null),s=e.current,l=Xe(),a=En(s),d=qt(l,a),d.callback=n??null,_n(s,d,a),e.current.lanes=a,qr(e,a,l),st(e,l),e}function so(e,n,s,l){var a=n.current,d=Xe(),h=En(a);return s=Xf(s),n.context===null?n.context=s:n.pendingContext=s,n=qt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=_n(a,n,h),e!==null&&(Dt(e,a,h,d),Fs(e,a,h)),h}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Fu(e,n){Zf(e,n),(e=e.alternate)&&Zf(e,n)}var eh=typeof reportError=="function"?reportError:function(e){console.error(e)};function zu(e){this._internalRoot=e}lo.prototype.render=zu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));so(e,n,null,null)},lo.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;bn(function(){so(null,e,null,null)}),n[$t]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<an.length&&n!==0&&n<an[s].priority;s++);an.splice(s,0,e),s===0&&Bc(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function th(){}function v_(e,n,s,l,a){if(a){if(typeof l=="function"){var d=l;l=function(){var T=oo(h);d.call(T)}}var h=Jf(n,l,e,0,null,!1,!1,"",th);return e._reactRootContainer=h,e[$t]=h.current,ci(e.nodeType===8?e.parentNode:e),bn(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var g=l;l=function(){var T=oo(y);g.call(T)}}var y=Lu(e,0,!1,null,null,!1,!1,"",th);return e._reactRootContainer=y,e[$t]=y.current,ci(e.nodeType===8?e.parentNode:e),bn(function(){so(n,y,s,l)}),y}function ao(e,n,s,l,a){var d=s._reactRootContainer;if(d){var h=d;if(typeof a=="function"){var g=a;a=function(){var y=oo(h);g.call(y)}}so(n,h,e,a)}else h=v_(s,n,e,a,l);return oo(h)}Mc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Yr(n.pendingLanes);s!==0&&(ul(n,s|1),st(n,Te()),!(te&6)&&(kr=Te()+500,mn()))}break;case 13:bn(function(){var l=Yt(e,1);if(l!==null){var a=Xe();Dt(l,e,1,a)}}),Fu(e,1)}},al=function(e){if(e.tag===13){var n=Yt(e,134217728);if(n!==null){var s=Xe();Dt(n,e,134217728,s)}Fu(e,134217728)}},Lc=function(e){if(e.tag===13){var n=En(e),s=Yt(e,n);if(s!==null){var l=Xe();Dt(s,e,n,l)}Fu(e,n)}},Fc=function(){return le},zc=function(e,n){var s=le;try{return le=e,n()}finally{le=s}},tl=function(e,n,s){switch(n){case"input":if(Go(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var a=Ts(l);if(!a)throw Error(r(90));lc(l),Go(l,a)}}}break;case"textarea":fc(e,s);break;case"select":n=s.value,n!=null&&tr(e,!!s.multiple,n,!1)}},Ec=Ru,Cc=bn;var w_={usingClientEntryPoint:!1,Events:[hi,dr,Ts,vc,wc,Ru]},Ni={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E_={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{ls=co.inject(E_),zt=co}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w_,ot.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(n))throw Error(r(200));return y_(e,n,null,s)},ot.createRoot=function(e,n){if(!Uu(e))throw Error(r(299));var s=!1,l="",a=eh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=Lu(e,1,!1,null,null,s,!1,l,a),e[$t]=n.current,ci(e.nodeType===8?e.parentNode:e),new zu(n)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Tc(n),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return bn(e)},ot.hydrate=function(e,n,s){if(!uo(n))throw Error(r(200));return ao(null,e,n,!0,s)},ot.hydrateRoot=function(e,n,s){if(!Uu(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,a=!1,d="",h=eh;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Jf(n,null,e,1,s??null,a,!1,d,h),e[$t]=n.current,ci(e),l)for(e=0;e<l.length;e++)s=l[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new lo(n)},ot.render=function(e,n,s){if(!uo(n))throw Error(r(200));return ao(null,e,n,!1,s)},ot.unmountComponentAtNode=function(e){if(!uo(e))throw Error(r(40));return e._reactRootContainer?(bn(function(){ao(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},ot.unstable_batchedUpdates=Ru,ot.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!uo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ao(e,n,s,!1,l)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var ah;function R_(){if(ah)return ju.exports;ah=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ju.exports=x_(),ju.exports}var ch;function P_(){if(ch)return fo;ch=1;var i=R_();return fo.createRoot=i.createRoot,fo.hydrateRoot=i.hydrateRoot,fo}var D_=P_(),dh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(i,t){if(!i)throw Br(t)},Br=function(i){return new Error("Firebase Database ("+op.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},A_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const u=i[r++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=i[r++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=i[r++],f=i[r++],p=i[r++],m=((u&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|f&63)}}return t.join("")},ka={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<i.length;u+=3){const c=i[u],f=u+1<i.length,p=f?i[u+1]:0,m=u+2<i.length,_=m?i[u+2]:0,k=c>>2,w=(c&3)<<4|p>>4;let I=(p&15)<<2|_>>6,N=_&63;m||(N=64,f||(I=64)),o.push(r[k],r[w],r[I],r[N])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(lp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):A_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<i.length;){const c=r[i.charAt(u++)],p=u<i.length?r[i.charAt(u)]:0;++u;const _=u<i.length?r[i.charAt(u)]:64;++u;const w=u<i.length?r[i.charAt(u)]:64;if(++u,c==null||p==null||_==null||w==null)throw new O_;const I=c<<2|p>>4;if(o.push(I),_!==64){const N=p<<4&240|_>>2;if(o.push(N),w!==64){const A=_<<6&192|w;o.push(A)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class O_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const up=function(i){const t=lp(i);return ka.encodeByteArray(t,!0)},go=function(i){return up(i).replace(/\./g,"")},ta=function(i){try{return ka.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(i){return ap(void 0,i)}function ap(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!L_(r)||(i[r]=ap(i[r],t[r]));return i}function L_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=()=>F_().__FIREBASE_DEFAULTS__,U_=()=>{if(typeof process>"u"||typeof dh>"u")return;const i=dh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},B_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&ta(i[1]);return t&&JSON.parse(t)},cp=()=>{try{return z_()||U_()||B_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},W_=i=>{var t,r;return(r=(t=cp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},j_=i=>{const t=W_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},dp=()=>{var i;return(i=cp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",u=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[go(JSON.stringify(r)),go(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H_())}function V_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $_(){return op.NODE_ADMIN===!0}function Q_(){try{return typeof indexedDB=="object"}catch{return!1}}function G_(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="FirebaseError";class Yi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=K_,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hp.prototype.create)}}class hp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},u=`${this.service}/${t}`,c=this.errors[t],f=c?Y_(c,o):"Error",p=`${this.serviceName}: ${f} (${u}).`;return new Yi(u,p,o)}}function Y_(i,t){return i.replace(q_,(r,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const q_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(i){return JSON.parse(i)}function Be(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=function(i){let t={},r={},o={},u="";try{const c=i.split(".");t=Bi(ta(c[0])||""),r=Bi(ta(c[1])||""),u=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:u}},X_=function(i){const t=pp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},J_=function(i){const t=pp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Or(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function fh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function _o(i,t,r){const o={};for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&(o[u]=t.call(r,i[u],u,i));return o}function na(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const u of r){if(!o.includes(u))return!1;const c=i[u],f=t[u];if(hh(c)&&hh(f)){if(!na(c,f))return!1}else if(c!==f)return!1}for(const u of o)if(!r.includes(u))return!1;return!0}function hh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const I=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(I<<1|I>>>31)&4294967295}let u=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,k;for(let w=0;w<80;w++){w<40?w<20?(_=p^c&(f^p),k=1518500249):(_=c^f^p,k=1859775393):w<60?(_=c&f|p&(c|f),k=2400959708):(_=c^f^p,k=3395469782);const I=(u<<5|u>>>27)+_+m+k+o[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=u,u=I}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let u=0;const c=this.buf_;let f=this.inbuf_;for(;u<r;){if(f===0)for(;u<=o;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<r;)if(c[f]=t.charCodeAt(u),++f,++u,f===this.blockSize){this.compress_(c),f=0;break}}else for(;u<r;)if(c[f]=t[u],++f,++u,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let u=0;u<5;u++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[u]>>c&255,++o;return t}}function Oo(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);if(u>=55296&&u<=56319){const c=u-55296;o++,M(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;u=65536+(c<<10)+f}u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):u<65536?(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},Mo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(i){return i&&i._delegate?i._delegate:i}class Wi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Ki;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iy(t))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=Qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qn){return this.instances.has(t)}getOptions(t=Qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(u)}return u}onInit(t,r){var o;const u=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const f=this.instances.get(u);return f&&t(f,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const u of o)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ry(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Qn){return this.component?this.component.multipleInstances?t:Qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ry(i){return i===Qn?void 0:i}function iy(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ny(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(pe||(pe={}));const oy={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},ly=pe.INFO,uy={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},ay=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),u=uy[t];if(u)console[u](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mp{constructor(t){this.name=t,this._logLevel=ly,this._logHandler=ay,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const cy=(i,t)=>t.some(r=>i instanceof r);let ph,mh;function dy(){return ph||(ph=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fy(){return mh||(mh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gp=new WeakMap,ra=new WeakMap,_p=new WeakMap,Vu=new WeakMap,Ia=new WeakMap;function hy(i){const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Tn(i.result)),u()},f=()=>{o(i.error),u()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&gp.set(r,i)}).catch(()=>{}),Ia.set(t,i),t}function py(i){if(ra.has(i))return;const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),u()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),u()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});ra.set(i,t)}let ia={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return ra.get(i);if(t==="objectStoreNames")return i.objectStoreNames||_p.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Tn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function my(i){ia=i(ia)}function gy(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call($u(this),t,...r);return _p.set(o,t.sort?t.sort():[t]),Tn(o)}:fy().includes(i)?function(...t){return i.apply($u(this),t),Tn(gp.get(this))}:function(...t){return Tn(i.apply($u(this),t))}}function _y(i){return typeof i=="function"?gy(i):(i instanceof IDBTransaction&&py(i),cy(i,dy())?new Proxy(i,ia):i)}function Tn(i){if(i instanceof IDBRequest)return hy(i);if(Vu.has(i))return Vu.get(i);const t=_y(i);return t!==i&&(Vu.set(i,t),Ia.set(t,i)),t}const $u=i=>Ia.get(i);function yy(i,t,{blocked:r,upgrade:o,blocking:u,terminated:c}={}){const f=indexedDB.open(i,t),p=Tn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(Tn(f.result),m.oldVersion,m.newVersion,Tn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),u&&m.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const vy=["get","getKey","getAll","getAllKeys","count"],wy=["put","add","delete","clear"],Qu=new Map;function gh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Qu.get(t))return Qu.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=wy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(u||vy.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,u?"readwrite":"readonly");let _=m.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[r](...p),u&&m.done]))[0]};return Qu.set(t,c),c}my(i=>({...i,get:(t,r,o)=>gh(t,r)||i.get(t,r,o),has:(t,r)=>!!gh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Cy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Cy(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sa="@firebase/app",_h="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new mp("@firebase/app"),Sy="@firebase/app-compat",ky="@firebase/analytics-compat",Iy="@firebase/analytics",Ty="@firebase/app-check-compat",Ny="@firebase/app-check",xy="@firebase/auth",Ry="@firebase/auth-compat",Py="@firebase/database",Dy="@firebase/data-connect",Ay="@firebase/database-compat",Oy="@firebase/functions",My="@firebase/functions-compat",Ly="@firebase/installations",Fy="@firebase/installations-compat",zy="@firebase/messaging",Uy="@firebase/messaging-compat",By="@firebase/performance",Wy="@firebase/performance-compat",jy="@firebase/remote-config",by="@firebase/remote-config-compat",Hy="@firebase/storage",Vy="@firebase/storage-compat",$y="@firebase/firestore",Qy="@firebase/vertexai",Gy="@firebase/firestore-compat",Ky="firebase",Yy="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]",qy={[sa]:"fire-core",[Sy]:"fire-core-compat",[Iy]:"fire-analytics",[ky]:"fire-analytics-compat",[Ny]:"fire-app-check",[Ty]:"fire-app-check-compat",[xy]:"fire-auth",[Ry]:"fire-auth-compat",[Py]:"fire-rtdb",[Dy]:"fire-data-connect",[Ay]:"fire-rtdb-compat",[Oy]:"fire-fn",[My]:"fire-fn-compat",[Ly]:"fire-iid",[Fy]:"fire-iid-compat",[zy]:"fire-fcm",[Uy]:"fire-fcm-compat",[By]:"fire-perf",[Wy]:"fire-perf-compat",[jy]:"fire-rc",[by]:"fire-rc-compat",[Hy]:"fire-gcs",[Vy]:"fire-gcs-compat",[$y]:"fire-fst",[Gy]:"fire-fst-compat",[Qy]:"fire-vertex","fire-js":"fire-js",[Ky]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,Xy=new Map,la=new Map;function yh(i,t){try{i.container.addComponent(t)}catch(r){nn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function vo(i){const t=i.name;if(la.has(t))return nn.debug(`There were multiple attempts to register component ${t}.`),!1;la.set(t,i);for(const r of yo.values())yh(r,i);for(const r of Xy.values())yh(r,i);return!0}function Jy(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new hp("app","Firebase",Zy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=Yy;function yp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:oa,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw Nn.create("bad-app-name",{appName:String(u)});if(r||(r=dp()),!r)throw Nn.create("no-options");const c=yo.get(u);if(c){if(na(r,c.options)&&na(o,c.config))return c;throw Nn.create("duplicate-app",{appName:u})}const f=new sy(u);for(const m of la.values())f.addComponent(m);const p=new ev(r,o,f);return yo.set(u,p),p}function nv(i=oa){const t=yo.get(i);if(!t&&i===oa&&dp())return yp();if(!t)throw Nn.create("no-app",{appName:i});return t}function Rr(i,t,r){var o;let u=(o=qy[i])!==null&&o!==void 0?o:i;r&&(u+=`-${r}`);const c=u.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${u}" with version "${t}":`];c&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nn.warn(p.join(" "));return}vo(new Wi(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="firebase-heartbeat-database",iv=1,ji="firebase-heartbeat-store";let Gu=null;function vp(){return Gu||(Gu=yy(rv,iv,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ji)}catch(r){console.warn(r)}}}}).catch(i=>{throw Nn.create("idb-open",{originalErrorMessage:i.message})})),Gu}async function sv(i){try{const r=(await vp()).transaction(ji),o=await r.objectStore(ji).get(wp(i));return await r.done,o}catch(t){if(t instanceof Yi)nn.warn(t.message);else{const r=Nn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});nn.warn(r.message)}}}async function vh(i,t){try{const o=(await vp()).transaction(ji,"readwrite");await o.objectStore(ji).put(t,wp(i)),await o.done}catch(r){if(r instanceof Yi)nn.warn(r.message);else{const o=Nn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});nn.warn(o.message)}}}function wp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=1024,lv=30*24*60*60*1e3;class uv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new cv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=wh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=lv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){nn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=wh(),{heartbeatsToSend:o,unsentEntries:u}=av(this._heartbeatsCache.heartbeats),c=go(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return nn.warn(r),""}}}function wh(){return new Date().toISOString().substring(0,10)}function av(i,t=ov){const r=[];let o=i.slice();for(const u of i){const c=r.find(f=>f.agent===u.agent);if(c){if(c.dates.push(u.date),Eh(r)>t){c.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),Eh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class cv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q_()?G_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await sv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return vh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return vh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function Eh(i){return go(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(i){vo(new Wi("platform-logger",t=>new Ey(t),"PRIVATE")),vo(new Wi("heartbeat",t=>new uv(t),"PRIVATE")),Rr(sa,_h,i),Rr(sa,_h,"esm2017"),Rr("fire-js","")}dv("");var Ch={};const Sh="@firebase/database",kh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep="";function fv(i){Ep=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Be(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Bi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Ht(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hv(t)}}catch{}return new pv},Kn=Cp("localStorage"),mv=Cp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new mp("@firebase/database"),gv=function(){let i=1;return function(){return i++}}(),Sp=function(i){const t=ty(i),r=new ey;r.update(t);const o=r.digest();return ka.encodeByteArray(o)},Xi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Xi.apply(null,o):typeof o=="object"?t+=Be(o):t+=o,t+=" "}return t};let Mi=null,Ih=!0;const _v=function(i,t){M(!0,"Can't turn on custom loggers persistently."),Pr.logLevel=pe.VERBOSE,Mi=Pr.log.bind(Pr)},He=function(...i){if(Ih===!0&&(Ih=!1,Mi===null&&mv.get("logging_enabled")===!0&&_v()),Mi){const t=Xi.apply(null,i);Mi(t)}},Ji=function(i){return function(...t){He(i,...t)}},ua=function(...i){const t="FIREBASE INTERNAL ERROR: "+Xi(...i);Pr.error(t)},rn=function(...i){const t=`FIREBASE FATAL ERROR: ${Xi(...i)}`;throw Pr.error(t),new Error(t)},Je=function(...i){const t="FIREBASE WARNING: "+Xi(...i);Pr.warn(t)},yv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ta=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},vv=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Mr="[MIN_NAME]",Yn="[MAX_NAME]",Zn=function(i,t){if(i===t)return 0;if(i===Mr||t===Yn)return-1;if(t===Mr||i===Yn)return 1;{const r=Th(i),o=Th(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},wv=function(i,t){return i===t?0:i<t?-1:1},Ri=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Be(t))},Na=function(i){if(typeof i!="object"||i===null)return Be(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Be(t[o]),r+=":",r+=Na(i[t[o]]);return r+="}",r},kp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let u=0;u<r;u+=t)u+t>r?o.push(i.substring(u,r)):o.push(i.substring(u,u+t));return o};function Ve(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Ip=function(i){M(!Ta(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let u,c,f,p,m;i===0?(c=0,f=0,u=1/i===-1/0?1:0):(u=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const _=[];for(m=r;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(u?1:0),_.reverse();const k=_.join("");let w="";for(m=0;m<64;m+=8){let I=parseInt(k.substr(m,8),2).toString(16);I.length===1&&(I="0"+I),w=w+I}return w.toLowerCase()},Ev=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Cv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Sv(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const kv=new RegExp("^-?(0*)\\d{1,10}$"),Iv=-2147483648,Tv=2147483647,Th=function(i){if(kv.test(i)){const t=Number(i);if(t>=Iv&&t<=Tv)return t}return null},Wr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw Je("Exception was thrown by user callback.",r),t},Math.floor(0))}},Nv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Li=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){Je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(He("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Je(t)}}class mo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}mo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="5",Tp="v",Np="s",xp="r",Rp="f",Pp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Dp="ls",Ap="p",aa="ac",Op="websocket",Mp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,r,o,u,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Kn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Pv(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Fp(i,t,r){M(typeof t=="string","typeof type must == string"),M(typeof r=="object","typeof params must == object");let o;if(t===Op)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Mp)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Pv(i)&&(r.ns=i.namespace);const u=[];return Ve(r,(c,f)=>{u.push(c+"="+f)}),o+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.counters_={}}incrementCounter(t,r=1){Ht(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return M_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={},Yu={};function Ra(i){const t=i.toString();return Ku[t]||(Ku[t]=new Dv),Ku[t]}function Av(i,t){const r=i.toString();return Yu[r]||(Yu[r]=t()),Yu[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Wr(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="start",Mv="close",Lv="pLPCommand",Fv="pRTLPCB",zp="id",Up="pw",Bp="ser",zv="cb",Uv="seg",Bv="ts",Wv="d",jv="dframe",Wp=1870,jp=30,bv=Wp-jp,Hv=25e3,Vv=3e4;class xr{constructor(t,r,o,u,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ji(t),this.stats_=Ra(r),this.urlFn=m=>(this.appCheckToken&&(m[aa]=this.appCheckToken),Fp(r,Mp,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Ov(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Vv)),vv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pa((...c)=>{const[f,p,m,_,k]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Nh)this.id=p,this.password=m;else if(f===Mv)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[Nh]="t",o[Bp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[zv]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Tp]=xa,this.transportSessionId&&(o[Np]=this.transportSessionId),this.lastSessionId&&(o[Dp]=this.lastSessionId),this.applicationId&&(o[Ap]=this.applicationId),this.appCheckToken&&(o[aa]=this.appCheckToken),typeof location<"u"&&location.hostname&&Pp.test(location.hostname)&&(o[xp]=Rp);const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xr.forceAllow_=!0}static forceDisallow(){xr.forceDisallow_=!0}static isAvailable(){return xr.forceAllow_?!0:!xr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ev()&&!Cv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=up(r),u=kp(o,bv);for(let c=0;c<u.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[jv]="t",o[zp]=t,o[Up]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Be(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Pa{constructor(t,r,o,u){this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gv(),window[Lv+this.uniqueCallbackIdentifier]=t,window[Fv+this.uniqueCallbackIdentifier]=r,this.myIFrame=Pa.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){He("frame writing exception"),p.stack&&He(p.stack),He(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||He("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[zp]=this.myID,t[Up]=this.myPW,t[Bp]=this.currentSerial;let r=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jp+o.length<=Wp;){const f=this.pendingSegs.shift();o=o+"&"+Uv+u+"="+f.seg+"&"+Bv+u+"="+f.ts+"&"+Wv+u+"="+f.d,u++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},u=setTimeout(o,Math.floor(Hv)),c=()=>{clearTimeout(u),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||u==="loaded"||u==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{He("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=16384,Qv=45e3;let wo=null;typeof MozWebSocket<"u"?wo=MozWebSocket:typeof WebSocket<"u"&&(wo=WebSocket);class bt{constructor(t,r,o,u,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ji(this.connId),this.stats_=Ra(r),this.connURL=bt.connectionURL_(r,f,p,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,u,c){const f={};return f[Tp]=xa,typeof location<"u"&&location.hostname&&Pp.test(location.hostname)&&(f[xp]=Rp),r&&(f[Np]=r),o&&(f[Dp]=o),u&&(f[aa]=u),c&&(f[Ap]=c),Fp(t,Op,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kn.set("previous_websocket_failure",!0);try{let o;$_(),this.mySock=new wo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){bt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&wo!==null&&!bt.forceDisallow_}static previouslyFailed(){return Kn.isInMemoryStorage||Kn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Bi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Be(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=kp(r,$v);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Qv))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bt.responsesRequiredToBeHealthy=2;bt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{static get ALL_TRANSPORTS(){return[xr,bt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=bt.isAvailable();let o=r&&!bt.previouslyFailed();if(t.webSocketOnly&&(r||Je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[bt];else{const u=this.transports_=[];for(const c of bi.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);bi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=6e4,Kv=5e3,Yv=10*1024,qv=100*1024,qu="t",xh="d",Xv="s",Rh="r",Jv="e",Ph="o",Dh="a",Ah="n",Oh="p",Zv="h";class ew{constructor(t,r,o,u,c,f,p,m,_,k){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ji("c:"+this.id+":"),this.transportManager_=new bi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=Li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qv?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Yv?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(qu in t){const r=t[qu];r===Dh?this.upgradeIfSecondaryHealthy_():r===Rh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Ph&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ri("t",t),o=Ri("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Oh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Dh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ah,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ri("t",t),o=Ri("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ri(qu,t);if(xh in t){const o=t[xh];if(r===Zv){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(r===Ah){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Xv?this.onConnectionShutdown_(o):r===Rh?this.onReset_(o):r===Jv?ua("Server Error: "+o):r===Ph?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ua("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),xa!==o&&Je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Gv))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Kv))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Oh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{put(t,r,o,u){}merge(t,r,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const u=this.getInitialEvent(t);u&&r.apply(o,u)}off(t,r,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let c=0;c<u.length;c++)if(u[c].callback===r&&(!o||o===u[c].context)){u.splice(c,1);return}}validateEventType_(t){M(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Hp{static getInstance(){return new Eo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=32,Lh=768;class ae{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function se(){return new ae("")}function X(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Rn(i){return i.pieces_.length-i.pieceNum_}function me(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ae(i.pieces_,t)}function Da(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function tw(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Hi(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Vp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ae(t,0)}function ke(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ae)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&r.push(o[u])}return new ae(r,0)}function ee(i){return i.pieceNum_>=i.pieces_.length}function lt(i,t){const r=X(i),o=X(t);if(r===null)return t;if(r===o)return lt(me(i),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function nw(i,t){const r=Hi(i,0),o=Hi(t,0);for(let u=0;u<r.length&&u<o.length;u++){const c=Zn(r[u],o[u]);if(c!==0)return c}return r.length===o.length?0:r.length<o.length?-1:1}function Aa(i,t){if(Rn(i)!==Rn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Ct(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Rn(i)>Rn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class rw{constructor(t,r){this.errorPrefix_=r,this.parts_=Hi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Mo(this.parts_[o]);$p(this)}}function iw(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Mo(t),$p(i)}function sw(i){const t=i.parts_.pop();i.byteLength_-=Mo(t),i.parts_.length>0&&(i.byteLength_-=1)}function $p(i){if(i.byteLength_>Lh)throw new Error(i.errorPrefix_+"has a key path longer than "+Lh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Mh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mh+") or object contains a cycle "+Gn(i))}function Gn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Hp{static getInstance(){return new Oa}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=1e3,ow=60*5*1e3,Fh=30*1e3,lw=1.3,uw=3e4,aw="server_kill",zh=3;class tn extends bp{constructor(t,r,o,u,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=tn.nextPersistentConnectionId_++,this.log_=Ji("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pi,this.maxReconnectDelay_=ow,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Oa.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Eo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const u=++this.requestNumber_,c={r:u,a:t,b:r};this.log_(Be(c)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const r=new Ki,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,u){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,_=p.s;tn.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(o,u),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Ht(t,"w")){const o=Or(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||J_(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Fh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=X_(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const c=u.s,f=u.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,r)}sendUnlisten_(t,r,o,u){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";u&&(c.q=o,c.t=u),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,u){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{u&&setTimeout(()=>{u(f.s,f.d)},Math.floor(0))})}put(t,r,o,u){this.putInternal("p",t,r,o,u)}merge(t,r,o,u){this.putInternal("m",t,r,o,u)}putInternal(t,r,o,u,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Be(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):ua("Unrecognized action received from server: "+Be(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uw&&(this.reconnectDelay_=Pi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+tn.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},_=function(w){M(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:_};const k=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,I]=await Promise.all([this.authTokenProvider_.getToken(k),this.appCheckTokenProvider_.getToken(k)]);f?He("getToken() completed but was canceled"):(He("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=I&&I.token,p=new ew(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,N=>{Je(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(aw)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&Je(w),m())}}}interrupt(t){He("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){He("Resuming connection for reason: "+t),delete this.interruptReasons_[t],fh(this.interruptReasons_)&&(this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>Na(c)).join("$"):o="default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const o=new ae(t).toString();let u;if(this.listens.has(o)){const c=this.listens.get(o);u=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,r){He("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zh&&(this.reconnectDelay_=Fh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){He("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Ep.replace(/\./g,"-")]=1,fp()?t["framework.cordova"]=1:V_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Eo.getInstance().currentlyOnline();return fh(this.interruptReasons_)&&t}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new J(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new J(Mr,t),u=new J(Mr,r);return this.compare(o,u)!==0}minPost(){return J.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho;class Qp extends Lo{static get __EMPTY_NODE(){return ho}static set __EMPTY_NODE(t){ho=t}compare(t,r){return Zn(t.name,r.name)}isDefinedOn(t){throw Br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return J.MIN}maxPost(){return new J(Yn,ho)}makePost(t,r){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new J(t,ho)}toString(){return".key"}}const Dr=new Qp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,r,o,u,c=null){this.isReverse_=u,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,u&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ze{constructor(t,r,o,u,c){this.key=t,this.value=r,this.color=o??ze.RED,this.left=u??ut.EMPTY_NODE,this.right=c??ut.EMPTY_NODE}copy(t,r,o,u,c){return new ze(t??this.key,r??this.value,o??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const c=o(t,u.key);return c<0?u=u.copy(null,null,null,u.left.insert(t,r,o),null):c===0?u=u.copy(null,r,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return ut.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,u;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ut.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class cw{copy(t,r,o,u,c){return this}insert(t,r,o){return new ze(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ut{constructor(t,r=ut.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ut(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(t){return new ut(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,u=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(u=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new po(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new po(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new po(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new po(this.root_,null,this.comparator_,!0,t)}}ut.EMPTY_NODE=new cw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(i,t){return Zn(i.name,t.name)}function Ma(i,t){return Zn(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca;function fw(i){ca=i}const Gp=function(i){return typeof i=="number"?"number:"+Ip(i):"string:"+i},Kp=function(i){if(i.isLeafNode()){const t=i.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ht(t,".sv"),"Priority must be a string or number.")}else M(i===ca||i.isEmpty(),"priority of unexpected type.");M(i===ca||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh;class Fe{static set __childrenNodeConstructor(t){Uh=t}static get __childrenNodeConstructor(){return Uh}constructor(t,r=Fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Kp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Fe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ee(t)?this:X(t)===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=X(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||Rn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Gp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Ip(this.value_):t+=this.value_,this.lazyHash_=Sp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Fe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Fe.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,u=Fe.VALUE_TYPE_ORDER.indexOf(r),c=Fe.VALUE_TYPE_ORDER.indexOf(o);return M(u>=0,"Unknown leaf type: "+r),M(c>=0,"Unknown leaf type: "+o),u===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp,qp;function hw(i){Yp=i}function pw(i){qp=i}class mw extends Lo{compare(t,r){const o=t.node.getPriority(),u=r.node.getPriority(),c=o.compareTo(u);return c===0?Zn(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return J.MIN}maxPost(){return new J(Yn,new Fe("[PRIORITY-POST]",qp))}makePost(t,r){const o=Yp(t);return new J(r,new Fe("[PRIORITY-POST]",o))}toString(){return".priority"}}const Ie=new mw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=Math.log(2);class _w{constructor(t){const r=c=>parseInt(Math.log(c)/gw,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const u=o(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Co=function(i,t,r,o){i.sort(t);const u=function(m,_){const k=_-m;let w,I;if(k===0)return null;if(k===1)return w=i[m],I=r?r(w):w,new ze(I,w.node,ze.BLACK,null,null);{const N=parseInt(k/2,10)+m,A=u(m,N),F=u(N+1,_);return w=i[N],I=r?r(w):w,new ze(I,w.node,ze.BLACK,A,F)}},c=function(m){let _=null,k=null,w=i.length;const I=function(A,F){const H=w-A,ue=w;w-=A;const Re=u(H+1,ue),We=i[H],Ae=r?r(We):We;N(new ze(Ae,We.node,F,null,Re))},N=function(A){_?(_.left=A,_=A):(k=A,_=A)};for(let A=0;A<m.count;++A){const F=m.nextBitIsOne(),H=Math.pow(2,m.count-(A+1));F?I(H,ze.BLACK):(I(H,ze.BLACK),I(H,ze.RED))}return k},f=new _w(i.length),p=c(f);return new ut(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu;const Di={};class en{static get Default(){return M(Ie,"ChildrenNode.ts has not been loaded"),Xu=Xu||new en({".priority":Di},{".priority":Ie}),Xu}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Or(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ut?r:null}hasIndex(t){return Ht(this.indexSet_,t.toString())}addIndex(t,r){M(t!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const c=r.getIterator(J.Wrap);let f=c.getNext();for(;f;)u=u||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;u?p=Co(o,t.getCompare()):p=Di;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const k=Object.assign({},this.indexes_);return k[m]=p,new en(k,_)}addToIndexes(t,r){const o=_o(this.indexes_,(u,c)=>{const f=Or(this.indexSet_,c);if(M(f,"Missing index implementation for "+c),u===Di)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(J.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&p.push(_),_=m.getNext();return p.push(t),Co(p,f.getCompare())}else return Di;else{const p=r.get(t.name);let m=u;return p&&(m=m.remove(new J(t.name,p))),m.insert(t,t.node)}});return new en(o,this.indexSet_)}removeFromIndexes(t,r){const o=_o(this.indexes_,u=>{if(u===Di)return u;{const c=r.get(t.name);return c?u.remove(new J(t.name,c)):u}});return new en(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai;class G{static get EMPTY_NODE(){return Ai||(Ai=new G(new ut(Ma),null,en.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Kp(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ai}updatePriority(t){return this.children_.isEmpty()?this:new G(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Ai:r}}getChild(t){const r=X(t);return r===null?this:this.getImmediateChild(r).getChild(me(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(M(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new J(t,r);let u,c;r.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=u.isEmpty()?Ai:this.priorityNode_;return new G(u,f,c)}}updateChild(t,r){const o=X(t);if(o===null)return r;{M(X(t)!==".priority"||Rn(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(me(t),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,u=0,c=!0;if(this.forEachChild(Ie,(f,p)=>{r[f]=p.val(t),o++,c&&G.INTEGER_REGEXP_.test(f)?u=Math.max(u,Number(f)):c=!1}),!t&&c&&u<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Gp(this.getPriority().val())+":"),this.forEachChild(Ie,(r,o)=>{const u=o.hash();u!==""&&(t+=":"+r+":"+u)}),this.lazyHash_=t===""?"":Sp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const u=this.resolveIndex_(o);if(u){const c=u.getPredecessorKey(new J(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new J(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new J(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,J.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,J.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zi?-1:0}withIndex(t){if(t===Dr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new G(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Dr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Ie),u=r.getIterator(Ie);let c=o.getNext(),f=u.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=u.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Dr?null:this.indexMap_.get(t.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yw extends G{constructor(){super(new ut(Ma),G.EMPTY_NODE,en.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return G.EMPTY_NODE}isEmpty(){return!1}}const Zi=new yw;Object.defineProperties(J,{MIN:{value:new J(Mr,G.EMPTY_NODE)},MAX:{value:new J(Yn,Zi)}});Qp.__EMPTY_NODE=G.EMPTY_NODE;Fe.__childrenNodeConstructor=G;fw(Zi);pw(Zi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=!0;function Ue(i,t=null){if(i===null)return G.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Fe(r,Ue(t))}if(!(i instanceof Array)&&vw){const r=[];let o=!1;if(Ve(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=Ue(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new J(f,m)))}}),r.length===0)return G.EMPTY_NODE;const c=Co(r,dw,f=>f.name,Ma);if(o){const f=Co(r,Ie.getCompare());return new G(c,Ue(t),new en({".priority":f},{".priority":Ie}))}else return new G(c,Ue(t),en.Default)}else{let r=G.EMPTY_NODE;return Ve(i,(o,u)=>{if(Ht(i,o)&&o.substring(0,1)!=="."){const c=Ue(u);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Ue(t))}}hw(Ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Lo{constructor(t){super(),this.indexPath_=t,M(!ee(t)&&X(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),u=this.extractChild(r.node),c=o.compareTo(u);return c===0?Zn(t.name,r.name):c}makePost(t,r){const o=Ue(t),u=G.EMPTY_NODE.updateChild(this.indexPath_,o);return new J(r,u)}maxPost(){const t=G.EMPTY_NODE.updateChild(this.indexPath_,Zi);return new J(Yn,t)}toString(){return Hi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends Lo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Zn(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(t,r){const o=Ue(t);return new J(r,o)}toString(){return".value"}}const Cw=new Ew;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i){return{type:"value",snapshotNode:i}}function Lr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Vi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function $i(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function Sw(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.index_=t}updateChild(t,r,o,u,c,f){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(u).equals(o.getChild(u))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Vi(r,p)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Lr(r,o)):f.trackChildChange($i(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Ie,(u,c)=>{r.hasChild(u)||o.trackChildChange(Vi(u,c))}),r.isLeafNode()||r.forEachChild(Ie,(u,c)=>{if(t.hasChild(u)){const f=t.getImmediateChild(u);f.equals(c)||o.trackChildChange($i(u,c,f))}else o.trackChildChange(Lr(u,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?G.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.indexedFilter_=new La(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Qi.getStartPost_(t),this.endPost_=Qi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,u,c,f){return this.matches(new J(r,o))||(o=G.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,u,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=G.EMPTY_NODE);let u=r.withIndex(this.index_);u=u.updatePriority(G.EMPTY_NODE);const c=this;return r.forEachChild(Ie,(f,p)=>{c.matches(new J(f,p))||(u=u.updateImmediateChild(f,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,u,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Qi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,u,c,f){return this.rangedFilter_.matches(new J(r,o))||(o=G.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,u,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let u;if(r.isLeafNode()||r.isEmpty())u=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){u=G.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))u=u.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{u=r.withIndex(this.index_),u=u.updatePriority(G.EMPTY_NODE);let c;this.reverse_?c=u.getReverseIterator(this.index_):c=u.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:u=u.updateImmediateChild(p.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,u,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,u,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(I,N)=>w(N,I)}else f=this.index_.getCompare();const p=t;M(p.numChildren()===this.limit_,"");const m=new J(r,o),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),k=this.rangedFilter_.matches(m);if(p.hasChild(r)){const w=p.getImmediateChild(r);let I=u.getChildAfterChild(this.index_,_,this.reverse_);for(;I!=null&&(I.name===r||p.hasChild(I.name));)I=u.getChildAfterChild(this.index_,I,this.reverse_);const N=I==null?1:f(I,m);if(k&&!o.isEmpty()&&N>=0)return c!=null&&c.trackChildChange($i(r,o,w)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(Vi(r,w));const F=p.updateImmediateChild(r,G.EMPTY_NODE);return I!=null&&this.rangedFilter_.matches(I)?(c!=null&&c.trackChildChange(Lr(I.name,I.node)),F.updateImmediateChild(I.name,I.node)):F}}else return o.isEmpty()?t:k&&f(_,m)>=0?(c!=null&&(c.trackChildChange(Vi(_.name,_.node)),c.trackChildChange(Lr(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(_.name,G.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mr}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const t=new Fa;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Iw(i){return i.loadsAllData()?new La(i.getIndex()):i.hasLimit()?new kw(i):new Qi(i)}function Bh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Ie?r="$priority":i.index_===Cw?r="$value":i.index_===Dr?r="$key":(M(i.index_ instanceof ww,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Be(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Be(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Be(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Be(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Be(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Wh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Ie&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends bp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Ji("p:rest:"),this.listens_={}}listen(t,r,o,u){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=So.getListenId_(t,o),p={};this.listens_[f]=p;const m=Bh(t._queryParams);this.restRequest_(c+".json",m,(_,k)=>{let w=k;if(_===404&&(w=null,_=null),_===null&&this.onDataUpdate_(c,w,!1,o),Or(this.listens_,f)===p){let I;_?_===401?I="permission_denied":I="rest_error:"+_:I="ok",u(I,null)}})}unlisten(t,r){const o=So.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Bh(t._queryParams),o=t._path.toString(),u=new Ki;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,c])=>{u&&u.accessToken&&(r.auth=u.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Z_(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Bi(p.responseText)}catch{Je("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&Je("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(){return{value:null,children:new Map}}function Jp(i,t,r){if(ee(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=X(t);i.children.has(o)||i.children.set(o,ko());const u=i.children.get(o);t=me(t),Jp(u,t,r)}}function da(i,t,r){i.value!==null?r(t,i.value):Nw(i,(o,u)=>{const c=new ae(t.toString()+"/"+o);da(u,c,r)})}function Nw(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Ve(this.last_,(o,u)=>{r[o]=r[o]-u}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=10*1e3,Rw=30*1e3,Pw=5*60*1e3;class Dw{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new xw(t);const o=jh+(Rw-jh)*Math.random();Li(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;Ve(t,(u,c)=>{c>0&&Ht(this.statsToReport_,u)&&(r[u]=c,o=!0)}),o&&this.server_.reportStats(r),Li(this.reportStats_.bind(this),Math.floor(Math.random()*2*Pw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(At||(At={}));function za(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ua(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ba(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=At.ACK_USER_WRITE,this.source=za()}operationForChild(t){if(ee(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ae(t));return new Io(se(),r,this.revert)}}else return M(X(this.path)===t,"operationForChild called for unrelated child."),new Io(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,r){this.source=t,this.path=r,this.type=At.LISTEN_COMPLETE}operationForChild(t){return ee(this.path)?new Gi(this.source,se()):new Gi(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=At.OVERWRITE}operationForChild(t){return ee(this.path)?new qn(this.source,se(),this.snap.getImmediateChild(t)):new qn(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=At.MERGE}operationForChild(t){if(ee(this.path)){const r=this.children.subtree(new ae(t));return r.isEmpty()?null:r.value?new qn(this.source,se(),r.value):new Fr(this.source,se(),r)}else return M(X(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fr(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ee(t))return this.isFullyInitialized()&&!this.filtered_;const r=X(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Ow(i,t,r,o){const u=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(Sw(f.childName,f.snapshotNode))}),Oi(i,u,"child_removed",t,o,r),Oi(i,u,"child_added",t,o,r),Oi(i,u,"child_moved",c,o,r),Oi(i,u,"child_changed",t,o,r),Oi(i,u,"value",t,o,r),u}function Oi(i,t,r,o,u,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>Lw(i,p,m)),f.forEach(p=>{const m=Mw(i,p,c);u.forEach(_=>{_.respondsTo(p.type)&&t.push(_.createEvent(m,i.query_))})})}function Mw(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function Lw(i,t,r){if(t.childName==null||r.childName==null)throw Br("Should only compare child_ events.");const o=new J(t.childName,t.snapshotNode),u=new J(r.childName,r.snapshotNode);return i.index_.compare(o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(i,t){return{eventCache:i,serverCache:t}}function Fi(i,t,r,o){return Fo(new Xn(t,r,o),i.serverCache)}function Zp(i,t,r,o){return Fo(i.eventCache,new Xn(t,r,o))}function fa(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Jn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;const Fw=()=>(Ju||(Ju=new ut(wv)),Ju);class he{static fromObject(t){let r=new he(null);return Ve(t,(o,u)=>{r=r.set(new ae(o),u)}),r}constructor(t,r=Fw()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:se(),value:this.value};if(ee(t))return null;{const o=X(t),u=this.children.get(o);if(u!==null){const c=u.findRootMostMatchingPathAndValue(me(t),r);return c!=null?{path:ke(new ae(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ee(t))return this;{const r=X(t),o=this.children.get(r);return o!==null?o.subtree(me(t)):new he(null)}}set(t,r){if(ee(t))return new he(r,this.children);{const o=X(t),c=(this.children.get(o)||new he(null)).set(me(t),r),f=this.children.insert(o,c);return new he(this.value,f)}}remove(t){if(ee(t))return this.children.isEmpty()?new he(null):new he(null,this.children);{const r=X(t),o=this.children.get(r);if(o){const u=o.remove(me(t));let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),this.value===null&&c.isEmpty()?new he(null):new he(this.value,c)}else return this}}get(t){if(ee(t))return this.value;{const r=X(t),o=this.children.get(r);return o?o.get(me(t)):null}}setTree(t,r){if(ee(t))return r;{const o=X(t),c=(this.children.get(o)||new he(null)).setTree(me(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new he(this.value,f)}}fold(t){return this.fold_(se(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((u,c)=>{o[u]=c.fold_(ke(t,u),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,se(),r)}findOnPath_(t,r,o){const u=this.value?o(r,this.value):!1;if(u)return u;if(ee(t))return null;{const c=X(t),f=this.children.get(c);return f?f.findOnPath_(me(t),ke(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,se(),r)}foreachOnPath_(t,r,o){if(ee(t))return this;{this.value&&o(r,this.value);const u=X(t),c=this.children.get(u);return c?c.foreachOnPath_(me(t),ke(r,u),o):new he(null)}}foreach(t){this.foreach_(se(),t)}foreach_(t,r){this.children.inorderTraversal((o,u)=>{u.foreach_(ke(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.writeTree_=t}static empty(){return new Ot(new he(null))}}function zi(i,t,r){if(ee(t))return new Ot(new he(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const u=o.path;let c=o.value;const f=lt(u,t);return c=c.updateChild(f,r),new Ot(i.writeTree_.set(u,c))}else{const u=new he(r),c=i.writeTree_.setTree(t,u);return new Ot(c)}}}function ha(i,t,r){let o=i;return Ve(r,(u,c)=>{o=zi(o,ke(t,u),c)}),o}function bh(i,t){if(ee(t))return Ot.empty();{const r=i.writeTree_.setTree(t,new he(null));return new Ot(r)}}function pa(i,t){return er(i,t)!=null}function er(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(lt(r.path,t)):null}function Hh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ie,(o,u)=>{t.push(new J(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{u.value!=null&&t.push(new J(o,u.value))}),t}function xn(i,t){if(ee(t))return i;{const r=er(i,t);return r!=null?new Ot(new he(r)):new Ot(i.writeTree_.subtree(t))}}function ma(i){return i.writeTree_.isEmpty()}function zr(i,t){return em(se(),i.writeTree_,t)}function em(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((u,c)=>{u===".priority"?(M(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=em(ke(i,u),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(ke(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(i,t){return im(t,i)}function zw(i,t,r,o,u){M(o>i.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:u}),u&&(i.visibleWrites=zi(i.visibleWrites,t,r)),i.lastWriteId=o}function Uw(i,t,r,o){M(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:r,writeId:o,visible:!0}),i.visibleWrites=ha(i.visibleWrites,t,r),i.lastWriteId=o}function Bw(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function Ww(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);M(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let u=o.visible,c=!1,f=i.allWrites.length-1;for(;u&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&jw(p,o.path)?u=!1:Ct(o.path,p.path)&&(c=!0)),f--}if(u){if(c)return bw(i),!0;if(o.snap)i.visibleWrites=bh(i.visibleWrites,o.path);else{const p=o.children;Ve(p,m=>{i.visibleWrites=bh(i.visibleWrites,ke(o.path,m))})}return!0}else return!1}function jw(i,t){if(i.snap)return Ct(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Ct(ke(i.path,r),t))return!0;return!1}function bw(i){i.visibleWrites=tm(i.allWrites,Hw,se()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function Hw(i){return i.visible}function tm(i,t,r){let o=Ot.empty();for(let u=0;u<i.length;++u){const c=i[u];if(t(c)){const f=c.path;let p;if(c.snap)Ct(r,f)?(p=lt(r,f),o=zi(o,p,c.snap)):Ct(f,r)&&(p=lt(f,r),o=zi(o,se(),c.snap.getChild(p)));else if(c.children){if(Ct(r,f))p=lt(r,f),o=ha(o,p,c.children);else if(Ct(f,r))if(p=lt(f,r),ee(p))o=ha(o,se(),c.children);else{const m=Or(c.children,X(p));if(m){const _=m.getChild(me(p));o=zi(o,se(),_)}}}else throw Br("WriteRecord should have .snap or .children")}}return o}function nm(i,t,r,o,u){if(!o&&!u){const c=er(i.visibleWrites,t);if(c!=null)return c;{const f=xn(i.visibleWrites,t);if(ma(f))return r;if(r==null&&!pa(f,se()))return null;{const p=r||G.EMPTY_NODE;return zr(f,p)}}}else{const c=xn(i.visibleWrites,t);if(!u&&ma(c))return r;if(!u&&r==null&&!pa(c,se()))return null;{const f=function(_){return(_.visible||u)&&(!o||!~o.indexOf(_.writeId))&&(Ct(_.path,t)||Ct(t,_.path))},p=tm(i.allWrites,f,t),m=r||G.EMPTY_NODE;return zr(p,m)}}}function Vw(i,t,r){let o=G.EMPTY_NODE;const u=er(i.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Ie,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=xn(i.visibleWrites,t);return r.forEachChild(Ie,(f,p)=>{const m=zr(xn(c,new ae(f)),p);o=o.updateImmediateChild(f,m)}),Hh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=xn(i.visibleWrites,t);return Hh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function $w(i,t,r,o,u){M(o||u,"Either existingEventSnap or existingServerSnap must exist");const c=ke(t,r);if(pa(i.visibleWrites,c))return null;{const f=xn(i.visibleWrites,c);return ma(f)?u.getChild(r):zr(f,u.getChild(r))}}function Qw(i,t,r,o){const u=ke(t,r),c=er(i.visibleWrites,u);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=xn(i.visibleWrites,u);return zr(f,o.getNode().getImmediateChild(r))}else return null}function Gw(i,t){return er(i.visibleWrites,t)}function Kw(i,t,r,o,u,c,f){let p;const m=xn(i.visibleWrites,t),_=er(m,se());if(_!=null)p=_;else if(r!=null)p=zr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const k=[],w=f.getCompare(),I=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let N=I.getNext();for(;N&&k.length<u;)w(N,o)!==0&&k.push(N),N=I.getNext();return k}else return[]}function Yw(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function To(i,t,r,o){return nm(i.writeTree,i.treePath,t,r,o)}function ja(i,t){return Vw(i.writeTree,i.treePath,t)}function Vh(i,t,r,o){return $w(i.writeTree,i.treePath,t,r,o)}function No(i,t){return Gw(i.writeTree,ke(i.treePath,t))}function qw(i,t,r,o,u,c){return Kw(i.writeTree,i.treePath,t,r,o,u,c)}function ba(i,t,r){return Qw(i.writeTree,i.treePath,t,r)}function rm(i,t){return im(ke(i.treePath,t),i.writeTree)}function im(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;M(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const c=u.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,$i(o,t.snapshotNode,u.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Vi(o,u.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Lr(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,$i(o,t.snapshotNode,u.oldSnap));else throw Br("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const sm=new Jw;class Ha{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ba(this.writes_,t,o)}}getChildAfterChild(t,r,o){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jn(this.viewCache_),c=qw(this.writes_,u,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i){return{filter:i}}function eE(i,t){M(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function tE(i,t,r,o,u){const c=new Xw;let f,p;if(r.type===At.OVERWRITE){const _=r;_.source.fromUser?f=ga(i,t,_.path,_.snap,o,u,c):(M(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered()&&!ee(_.path),f=xo(i,t,_.path,_.snap,o,u,p,c))}else if(r.type===At.MERGE){const _=r;_.source.fromUser?f=rE(i,t,_.path,_.children,o,u,c):(M(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered(),f=_a(i,t,_.path,_.children,o,u,p,c))}else if(r.type===At.ACK_USER_WRITE){const _=r;_.revert?f=oE(i,t,_.path,o,u,c):f=iE(i,t,_.path,_.affectedTree,o,u,c)}else if(r.type===At.LISTEN_COMPLETE)f=sE(i,t,r.path,o,c);else throw Br("Unknown operation type: "+r.type);const m=c.getChanges();return nE(t,f,m),{viewCache:f,changes:m}}function nE(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=fa(i);(r.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(Xp(fa(t)))}}function om(i,t,r,o,u,c){const f=t.eventCache;if(No(o,r)!=null)return t;{let p,m;if(ee(r))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Jn(t),k=_ instanceof G?_:G.EMPTY_NODE,w=ja(o,k);p=i.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const _=To(o,Jn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),_,c)}else{const _=X(r);if(_===".priority"){M(Rn(r)===1,"Can't have a priority with additional path components");const k=f.getNode();m=t.serverCache.getNode();const w=Vh(o,r,k,m);w!=null?p=i.filter.updatePriority(k,w):p=f.getNode()}else{const k=me(r);let w;if(f.isCompleteForChild(_)){m=t.serverCache.getNode();const I=Vh(o,r,f.getNode(),m);I!=null?w=f.getNode().getImmediateChild(_).updateChild(k,I):w=f.getNode().getImmediateChild(_)}else w=ba(o,_,t.serverCache);w!=null?p=i.filter.updateChild(f.getNode(),_,w,k,u,c):p=f.getNode()}}return Fi(t,p,f.isFullyInitialized()||ee(r),i.filter.filtersNodes())}}function xo(i,t,r,o,u,c,f,p){const m=t.serverCache;let _;const k=f?i.filter:i.filter.getIndexedFilter();if(ee(r))_=k.updateFullNode(m.getNode(),o,null);else if(k.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(r,o);_=k.updateFullNode(m.getNode(),N,null)}else{const N=X(r);if(!m.isCompleteForPath(r)&&Rn(r)>1)return t;const A=me(r),H=m.getNode().getImmediateChild(N).updateChild(A,o);N===".priority"?_=k.updatePriority(m.getNode(),H):_=k.updateChild(m.getNode(),N,H,A,sm,null)}const w=Zp(t,_,m.isFullyInitialized()||ee(r),k.filtersNodes()),I=new Ha(u,w,c);return om(i,w,r,u,I,p)}function ga(i,t,r,o,u,c,f){const p=t.eventCache;let m,_;const k=new Ha(u,t,c);if(ee(r))_=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Fi(t,_,!0,i.filter.filtersNodes());else{const w=X(r);if(w===".priority")_=i.filter.updatePriority(t.eventCache.getNode(),o),m=Fi(t,_,p.isFullyInitialized(),p.isFiltered());else{const I=me(r),N=p.getNode().getImmediateChild(w);let A;if(ee(I))A=o;else{const F=k.getCompleteChild(w);F!=null?Da(I)===".priority"&&F.getChild(Vp(I)).isEmpty()?A=F:A=F.updateChild(I,o):A=G.EMPTY_NODE}if(N.equals(A))m=t;else{const F=i.filter.updateChild(p.getNode(),w,A,I,k,f);m=Fi(t,F,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function $h(i,t){return i.eventCache.isCompleteForChild(t)}function rE(i,t,r,o,u,c,f){let p=t;return o.foreach((m,_)=>{const k=ke(r,m);$h(t,X(k))&&(p=ga(i,p,k,_,u,c,f))}),o.foreach((m,_)=>{const k=ke(r,m);$h(t,X(k))||(p=ga(i,p,k,_,u,c,f))}),p}function Qh(i,t,r){return r.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function _a(i,t,r,o,u,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;ee(r)?_=o:_=new he(null).setTree(r,o);const k=t.serverCache.getNode();return _.children.inorderTraversal((w,I)=>{if(k.hasChild(w)){const N=t.serverCache.getNode().getImmediateChild(w),A=Qh(i,N,I);m=xo(i,m,new ae(w),A,u,c,f,p)}}),_.children.inorderTraversal((w,I)=>{const N=!t.serverCache.isCompleteForChild(w)&&I.value===null;if(!k.hasChild(w)&&!N){const A=t.serverCache.getNode().getImmediateChild(w),F=Qh(i,A,I);m=xo(i,m,new ae(w),F,u,c,f,p)}}),m}function iE(i,t,r,o,u,c,f){if(No(u,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(ee(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return xo(i,t,r,m.getNode().getChild(r),u,c,p,f);if(ee(r)){let _=new he(null);return m.getNode().forEachChild(Dr,(k,w)=>{_=_.set(new ae(k),w)}),_a(i,t,r,_,u,c,p,f)}else return t}else{let _=new he(null);return o.foreach((k,w)=>{const I=ke(r,k);m.isCompleteForPath(I)&&(_=_.set(k,m.getNode().getChild(I)))}),_a(i,t,r,_,u,c,p,f)}}function sE(i,t,r,o,u){const c=t.serverCache,f=Zp(t,c.getNode(),c.isFullyInitialized()||ee(r),c.isFiltered());return om(i,f,r,o,sm,u)}function oE(i,t,r,o,u,c){let f;if(No(o,r)!=null)return t;{const p=new Ha(o,t,u),m=t.eventCache.getNode();let _;if(ee(r)||X(r)===".priority"){let k;if(t.serverCache.isFullyInitialized())k=To(o,Jn(t));else{const w=t.serverCache.getNode();M(w instanceof G,"serverChildren would be complete if leaf node"),k=ja(o,w)}k=k,_=i.filter.updateFullNode(m,k,c)}else{const k=X(r);let w=ba(o,k,t.serverCache);w==null&&t.serverCache.isCompleteForChild(k)&&(w=m.getImmediateChild(k)),w!=null?_=i.filter.updateChild(m,k,w,me(r),p,c):t.eventCache.getNode().hasChild(k)?_=i.filter.updateChild(m,k,G.EMPTY_NODE,me(r),p,c):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=To(o,Jn(t)),f.isLeafNode()&&(_=i.filter.updateFullNode(_,f,c)))}return f=t.serverCache.isFullyInitialized()||No(o,se())!=null,Fi(t,_,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new La(o.getIndex()),c=Iw(o);this.processor_=Zw(c);const f=r.serverCache,p=r.eventCache,m=u.updateFullNode(G.EMPTY_NODE,f.getNode(),null),_=c.updateFullNode(G.EMPTY_NODE,p.getNode(),null),k=new Xn(m,f.isFullyInitialized(),u.filtersNodes()),w=new Xn(_,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Fo(w,k),this.eventGenerator_=new Aw(this.query_)}get query(){return this.query_}}function uE(i){return i.viewCache_.serverCache.getNode()}function aE(i,t){const r=Jn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!ee(t)&&!r.getImmediateChild(X(t)).isEmpty())?r.getChild(t):null}function Gh(i){return i.eventRegistrations_.length===0}function cE(i,t){i.eventRegistrations_.push(t)}function Kh(i,t,r){const o=[];if(r){M(t==null,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,u);f&&o.push(f)})}if(t){let u=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))u.push(f);else if(t.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function Yh(i,t,r,o){t.type===At.MERGE&&t.source.queryId!==null&&(M(Jn(i.viewCache_),"We should always have a full cache before handling merges"),M(fa(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,c=tE(i.processor_,u,t,r,o);return eE(i.processor_,c.viewCache),M(c.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,lm(i,c.changes,c.viewCache.eventCache.getNode(),null)}function dE(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ie,(c,f)=>{o.push(Lr(c,f))}),r.isFullyInitialized()&&o.push(Xp(r.getNode())),lm(i,o,r.getNode(),t)}function lm(i,t,r,o){const u=o?[o]:i.eventRegistrations_;return Ow(i.eventGenerator_,t,r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class fE{constructor(){this.views=new Map}}function hE(i){M(!Ro,"__referenceConstructor has already been defined"),Ro=i}function pE(){return M(Ro,"Reference.ts has not been loaded"),Ro}function mE(i){return i.views.size===0}function Va(i,t,r,o){const u=t.source.queryId;if(u!==null){const c=i.views.get(u);return M(c!=null,"SyncTree gave us an op for an invalid query."),Yh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(Yh(f,t,r,o));return c}}function gE(i,t,r,o,u){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=To(r,u?o:null),m=!1;p?m=!0:o instanceof G?(p=ja(r,o),m=!1):(p=G.EMPTY_NODE,m=!1);const _=Fo(new Xn(p,m,!1),new Xn(o,u,!1));return new lE(t,_)}return f}function _E(i,t,r,o,u,c){const f=gE(i,t,o,u,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),cE(f,r),dE(f,r)}function yE(i,t,r,o){const u=t._queryIdentifier,c=[];let f=[];const p=Pn(i);if(u==="default")for(const[m,_]of i.views.entries())f=f.concat(Kh(_,r,o)),Gh(_)&&(i.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=i.views.get(u);m&&(f=f.concat(Kh(m,r,o)),Gh(m)&&(i.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!Pn(i)&&c.push(new(pE())(t._repo,t._path)),{removed:c,events:f}}function um(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Ar(i,t){let r=null;for(const o of i.views.values())r=r||aE(o,t);return r}function am(i,t){if(t._queryParams.loadsAllData())return zo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function cm(i,t){return am(i,t)!=null}function Pn(i){return zo(i)!=null}function zo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po;function vE(i){M(!Po,"__referenceConstructor has already been defined"),Po=i}function wE(){return M(Po,"Reference.ts has not been loaded"),Po}let EE=1;class qh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new he(null),this.pendingWriteTree_=Yw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dm(i,t,r,o,u){return zw(i.pendingWriteTree_,t,r,o,u),u?jr(i,new qn(za(),t,r)):[]}function CE(i,t,r,o){Uw(i.pendingWriteTree_,t,r,o);const u=he.fromObject(r);return jr(i,new Fr(za(),t,u))}function In(i,t,r=!1){const o=Bw(i.pendingWriteTree_,t);if(Ww(i.pendingWriteTree_,t)){let c=new he(null);return o.snap!=null?c=c.set(se(),!0):Ve(o.children,f=>{c=c.set(new ae(f),!0)}),jr(i,new Io(o.path,c,r))}else return[]}function Uo(i,t,r){return jr(i,new qn(Ua(),t,r))}function SE(i,t,r){const o=he.fromObject(r);return jr(i,new Fr(Ua(),t,o))}function kE(i,t){return jr(i,new Gi(Ua(),t))}function IE(i,t,r){const o=Qa(i,r);if(o){const u=Ga(o),c=u.path,f=u.queryId,p=lt(c,t),m=new Gi(Ba(f),p);return Ka(i,c,m)}else return[]}function ya(i,t,r,o,u=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||cm(f,t))){const m=yE(f,t,r,o);mE(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const _=m.removed;if(p=m.events,!u){const k=_.findIndex(I=>I._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(c,(I,N)=>Pn(N));if(k&&!w){const I=i.syncPointTree_.subtree(c);if(!I.isEmpty()){const N=xE(I);for(let A=0;A<N.length;++A){const F=N[A],H=F.query,ue=pm(i,F);i.listenProvider_.startListening(Ui(H),Do(i,H),ue.hashFn,ue.onComplete)}}}!w&&_.length>0&&!o&&(k?i.listenProvider_.stopListening(Ui(t),null):_.forEach(I=>{const N=i.queryToTagMap.get(Bo(I));i.listenProvider_.stopListening(Ui(I),N)}))}RE(i,_)}return p}function TE(i,t,r,o){const u=Qa(i,o);if(u!=null){const c=Ga(u),f=c.path,p=c.queryId,m=lt(f,t),_=new qn(Ba(p),m,r);return Ka(i,f,_)}else return[]}function NE(i,t,r,o){const u=Qa(i,o);if(u){const c=Ga(u),f=c.path,p=c.queryId,m=lt(f,t),_=he.fromObject(r),k=new Fr(Ba(p),m,_);return Ka(i,f,k)}else return[]}function Xh(i,t,r,o=!1){const u=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(u,(I,N)=>{const A=lt(I,u);c=c||Ar(N,A),f=f||Pn(N)});let p=i.syncPointTree_.get(u);p?(f=f||Pn(p),c=c||Ar(p,se())):(p=new fE,i.syncPointTree_=i.syncPointTree_.set(u,p));let m;c!=null?m=!0:(m=!1,c=G.EMPTY_NODE,i.syncPointTree_.subtree(u).foreachChild((N,A)=>{const F=Ar(A,se());F&&(c=c.updateImmediateChild(N,F))}));const _=cm(p,t);if(!_&&!t._queryParams.loadsAllData()){const I=Bo(t);M(!i.queryToTagMap.has(I),"View does not exist, but we have a tag");const N=PE();i.queryToTagMap.set(I,N),i.tagToQueryMap.set(N,I)}const k=Wa(i.pendingWriteTree_,u);let w=_E(p,t,r,k,c,m);if(!_&&!f&&!o){const I=am(p,t);w=w.concat(DE(i,t,I))}return w}function $a(i,t,r){const u=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=lt(f,t),_=Ar(p,m);if(_)return _});return nm(u,t,c,r,!0)}function jr(i,t){return fm(t,i.syncPointTree_,null,Wa(i.pendingWriteTree_,se()))}function fm(i,t,r,o){if(ee(i.path))return hm(i,t,r,o);{const u=t.get(se());r==null&&u!=null&&(r=Ar(u,se()));let c=[];const f=X(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const _=r?r.getImmediateChild(f):null,k=rm(o,f);c=c.concat(fm(p,m,_,k))}return u&&(c=c.concat(Va(u,i,o,r))),c}}function hm(i,t,r,o){const u=t.get(se());r==null&&u!=null&&(r=Ar(u,se()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,_=rm(o,f),k=i.operationForChild(f);k&&(c=c.concat(hm(k,p,m,_)))}),u&&(c=c.concat(Va(u,i,o,r))),c}function pm(i,t){const r=t.query,o=Do(i,r);return{hashFn:()=>(uE(t)||G.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return o?IE(i,r._path,o):kE(i,r._path);{const c=Sv(u,r);return ya(i,r,null,c)}}}}function Do(i,t){const r=Bo(t);return i.queryToTagMap.get(r)}function Bo(i){return i._path.toString()+"$"+i._queryIdentifier}function Qa(i,t){return i.tagToQueryMap.get(t)}function Ga(i){const t=i.indexOf("$");return M(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ae(i.substr(0,t))}}function Ka(i,t,r){const o=i.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const u=Wa(i.pendingWriteTree_,t);return Va(o,r,u,null)}function xE(i){return i.fold((t,r,o)=>{if(r&&Pn(r))return[zo(r)];{let u=[];return r&&(u=um(r)),Ve(o,(c,f)=>{u=u.concat(f)}),u}})}function Ui(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(wE())(i._repo,i._path):i}function RE(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const u=Bo(o),c=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(c)}}}function PE(){return EE++}function DE(i,t,r){const o=t._path,u=Do(i,t),c=pm(i,r),f=i.listenProvider_.startListening(Ui(t),u,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(u)M(!Pn(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,k,w)=>{if(!ee(_)&&k&&Pn(k))return[zo(k).query];{let I=[];return k&&(I=I.concat(um(k).map(N=>N.query))),Ve(w,(N,A)=>{I=I.concat(A)}),I}});for(let _=0;_<m.length;++_){const k=m[_];i.listenProvider_.stopListening(Ui(k),Do(i,k))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Ya(r)}node(){return this.node_}}class qa{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=ke(this.path_,t);return new qa(this.syncTree_,r)}node(){return $a(this.syncTree_,this.path_)}}const AE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Jh=function(i,t,r){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return OE(i[".sv"],t,r);if(typeof i[".sv"]=="object")return ME(i[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},OE=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:M(!1,"Unexpected server value: "+i)}},ME=function(i,t,r){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const u=t.node();if(M(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const f=u.getValue();return typeof f!="number"?o:f+o},mm=function(i,t,r,o){return Xa(t,new qa(r,i),o)},gm=function(i,t,r){return Xa(i,new Ya(t),r)};function Xa(i,t,r){const o=i.getPriority().val(),u=Jh(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=Jh(f.getValue(),t,r);return p!==f.getValue()||u!==f.getPriority().val()?new Fe(p,Ue(u)):i}else{const f=i;return c=f,u!==f.getPriority().val()&&(c=c.updatePriority(new Fe(u))),f.forEachChild(Ie,(p,m)=>{const _=Xa(m,t.getImmediateChild(p),r);_!==m&&(c=c.updateImmediateChild(p,_))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Za(i,t){let r=t instanceof ae?t:new ae(t),o=i,u=X(r);for(;u!==null;){const c=Or(o.node.children,u)||{children:{},childCount:0};o=new Ja(u,o,c),r=me(r),u=X(r)}return o}function br(i){return i.node.value}function _m(i,t){i.node.value=t,va(i)}function ym(i){return i.node.childCount>0}function LE(i){return br(i)===void 0&&!ym(i)}function Wo(i,t){Ve(i.node.children,(r,o)=>{t(new Ja(r,i,o))})}function vm(i,t,r,o){r&&t(i),Wo(i,u=>{vm(u,t,!0)})}function FE(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function es(i){return new ae(i.parent===null?i.name:es(i.parent)+"/"+i.name)}function va(i){i.parent!==null&&zE(i.parent,i.name,i)}function zE(i,t,r){const o=LE(r),u=Ht(i.node.children,t);o&&u?(delete i.node.children[t],i.node.childCount--,va(i)):!o&&!u&&(i.node.children[t]=r.node,i.node.childCount++,va(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=/[\[\].#$\/\u0000-\u001F\u007F]/,BE=/[\[\].#$\u0000-\u001F\u007F]/,Zu=10*1024*1024,ec=function(i){return typeof i=="string"&&i.length!==0&&!UE.test(i)},wm=function(i){return typeof i=="string"&&i.length!==0&&!BE.test(i)},WE=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),wm(i)},jE=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Ta(i)||i&&typeof i=="object"&&Ht(i,".sv")},bE=function(i,t,r,o){jo(Oo(i,"value"),t,r)},jo=function(i,t,r){const o=r instanceof ae?new rw(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Gn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Gn(o)+" with contents = "+t.toString());if(Ta(t))throw new Error(i+"contains "+t.toString()+" "+Gn(o));if(typeof t=="string"&&t.length>Zu/3&&Mo(t)>Zu)throw new Error(i+"contains a string greater than "+Zu+" utf8 bytes "+Gn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,c=!1;if(Ve(t,(f,p)=>{if(f===".value")u=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!ec(f)))throw new Error(i+" contains an invalid key ("+f+") "+Gn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iw(o,f),jo(i,p,o),sw(o)}),u&&c)throw new Error(i+' contains ".value" child '+Gn(o)+" in addition to actual children.")}},HE=function(i,t){let r,o;for(r=0;r<t.length;r++){o=t[r];const c=Hi(o);for(let f=0;f<c.length;f++)if(!(c[f]===".priority"&&f===c.length-1)){if(!ec(c[f]))throw new Error(i+"contains an invalid key ("+c[f]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(nw);let u=null;for(r=0;r<t.length;r++){if(o=t[r],u!==null&&Ct(u,o))throw new Error(i+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}},VE=function(i,t,r,o){const u=Oo(i,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(u+" must be an object containing the children to replace.");const c=[];Ve(t,(f,p)=>{const m=new ae(f);if(jo(u,p,ke(r,m)),Da(m)===".priority"&&!jE(p))throw new Error(u+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),HE(u,c)},Em=function(i,t,r,o){if(!wm(r))throw new Error(Oo(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$E=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Em(i,t,r)},QE=function(i,t){if(X(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},GE=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ec(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!WE(r))throw new Error(Oo(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bo(i,t){let r=null;for(let o=0;o<t.length;o++){const u=t[o],c=u.getPath();r!==null&&!Aa(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(u)}r&&i.eventLists_.push(r)}function Cm(i,t,r){bo(i,r),Sm(i,o=>Aa(o,t))}function Mt(i,t,r){bo(i,r),Sm(i,o=>Ct(o,t)||Ct(t,o))}function Sm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];if(u){const c=u.path;t(c)?(YE(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function YE(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Mi&&He("event: "+r.toString()),Wr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="repo_interrupt",XE=25;class JE{constructor(t,r,o,u){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ko(),this.transactionQueueTree_=new Ja,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZE(i,t,r){if(i.stats_=Ra(i.repoInfo_),i.forceRestClient_||Nv())i.server_=new So(i.repoInfo_,(o,u,c,f)=>{Zh(i,o,u,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>ep(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new tn(i.repoInfo_,t,(o,u,c,f)=>{Zh(i,o,u,c,f)},o=>{ep(i,o)},o=>{tC(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=Av(i.repoInfo_,()=>new Dw(i.stats_,i.server_)),i.infoData_=new Tw,i.infoSyncTree_=new qh({startListening:(o,u,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=Uo(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),tc(i,"connected",!1),i.serverSyncTree_=new qh({startListening:(o,u,c,f)=>(i.server_.listen(o,c,u,(p,m)=>{const _=f(p,m);Mt(i.eventQueue_,o._path,_)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}function eC(i){const r=i.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ho(i){return AE({timestamp:eC(i)})}function Zh(i,t,r,o,u){i.dataUpdateCount++;const c=new ae(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(u)if(o){const m=_o(r,_=>Ue(_));f=NE(i.serverSyncTree_,c,m,u)}else{const m=Ue(r);f=TE(i.serverSyncTree_,c,m,u)}else if(o){const m=_o(r,_=>Ue(_));f=SE(i.serverSyncTree_,c,m)}else{const m=Ue(r);f=Uo(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Ur(i,c)),Mt(i.eventQueue_,p,f)}function ep(i,t){tc(i,"connected",t),t===!1&&iC(i)}function tC(i,t){Ve(t,(r,o)=>{tc(i,r,o)})}function tc(i,t,r){const o=new ae("/.info/"+t),u=Ue(r);i.infoData_.updateSnapshot(o,u);const c=Uo(i.infoSyncTree_,o,u);Mt(i.eventQueue_,o,c)}function nc(i){return i.nextWriteId_++}function nC(i,t,r,o,u){Vo(i,"set",{path:t.toString(),value:r,priority:o});const c=Ho(i),f=Ue(r,o),p=$a(i.serverSyncTree_,t),m=gm(f,p,c),_=nc(i),k=dm(i.serverSyncTree_,t,m,_,!0);bo(i.eventQueue_,k),i.server_.put(t.toString(),f.val(!0),(I,N)=>{const A=I==="ok";A||Je("set at "+t+" failed: "+I);const F=In(i.serverSyncTree_,_,!A);Mt(i.eventQueue_,t,F),wa(i,u,I,N)});const w=ic(i,t);Ur(i,w),Mt(i.eventQueue_,w,[])}function rC(i,t,r,o){Vo(i,"update",{path:t.toString(),value:r});let u=!0;const c=Ho(i),f={};if(Ve(r,(p,m)=>{u=!1,f[p]=mm(ke(t,p),Ue(m),i.serverSyncTree_,c)}),u)He("update() called with empty data.  Don't do anything."),wa(i,o,"ok",void 0);else{const p=nc(i),m=CE(i.serverSyncTree_,t,f,p);bo(i.eventQueue_,m),i.server_.merge(t.toString(),r,(_,k)=>{const w=_==="ok";w||Je("update at "+t+" failed: "+_);const I=In(i.serverSyncTree_,p,!w),N=I.length>0?Ur(i,t):t;Mt(i.eventQueue_,N,I),wa(i,o,_,k)}),Ve(r,_=>{const k=ic(i,ke(t,_));Ur(i,k)}),Mt(i.eventQueue_,t,[])}}function iC(i){Vo(i,"onDisconnectEvents");const t=Ho(i),r=ko();da(i.onDisconnect_,se(),(u,c)=>{const f=mm(u,c,i.serverSyncTree_,t);Jp(r,u,f)});let o=[];da(r,se(),(u,c)=>{o=o.concat(Uo(i.serverSyncTree_,u,c));const f=ic(i,u);Ur(i,f)}),i.onDisconnect_=ko(),Mt(i.eventQueue_,se(),o)}function sC(i,t,r){let o;X(t._path)===".info"?o=Xh(i.infoSyncTree_,t,r):o=Xh(i.serverSyncTree_,t,r),Cm(i.eventQueue_,t._path,o)}function oC(i,t,r){let o;X(t._path)===".info"?o=ya(i.infoSyncTree_,t,r):o=ya(i.serverSyncTree_,t,r),Cm(i.eventQueue_,t._path,o)}function lC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(qE)}function Vo(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),He(r,...t)}function wa(i,t,r,o){t&&Wr(()=>{if(r==="ok")t(null);else{const u=(r||"error").toUpperCase();let c=u;o&&(c+=": "+o);const f=new Error(c);f.code=u,t(f)}})}function km(i,t,r){return $a(i.serverSyncTree_,t,r)||G.EMPTY_NODE}function rc(i,t=i.transactionQueueTree_){if(t||$o(i,t),br(t)){const r=Tm(i,t);M(r.length>0,"Sending zero length transaction queue"),r.every(u=>u.status===0)&&uC(i,es(t),r)}else ym(t)&&Wo(t,r=>{rc(i,r)})}function uC(i,t,r){const o=r.map(_=>_.currentWriteId),u=km(i,t,o);let c=u;const f=u.hash();for(let _=0;_<r.length;_++){const k=r[_];M(k.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const w=lt(t,k.path);c=c.updateChild(w,k.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,_=>{Vo(i,"transaction put response",{path:m.toString(),status:_});let k=[];if(_==="ok"){const w=[];for(let I=0;I<r.length;I++)r[I].status=2,k=k.concat(In(i.serverSyncTree_,r[I].currentWriteId)),r[I].onComplete&&w.push(()=>r[I].onComplete(null,!0,r[I].currentOutputSnapshotResolved)),r[I].unwatcher();$o(i,Za(i.transactionQueueTree_,t)),rc(i,i.transactionQueueTree_),Mt(i.eventQueue_,t,k);for(let I=0;I<w.length;I++)Wr(w[I])}else{if(_==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{Je("transaction at "+m.toString()+" failed: "+_);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=_}Ur(i,t)}},f)}function Ur(i,t){const r=Im(i,t),o=es(r),u=Tm(i,r);return aC(i,u,o),o}function aC(i,t,r){if(t.length===0)return;const o=[];let u=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],_=lt(r,m.path);let k=!1,w;if(M(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)k=!0,w=m.abortReason,u=u.concat(In(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=XE)k=!0,w="maxretry",u=u.concat(In(i.serverSyncTree_,m.currentWriteId,!0));else{const I=km(i,m.path,f);m.currentInputSnapshot=I;const N=t[p].update(I.val());if(N!==void 0){jo("transaction failed: Data returned ",N,m.path);let A=Ue(N);typeof N=="object"&&N!=null&&Ht(N,".priority")||(A=A.updatePriority(I.getPriority()));const H=m.currentWriteId,ue=Ho(i),Re=gm(A,I,ue);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=Re,m.currentWriteId=nc(i),f.splice(f.indexOf(H),1),u=u.concat(dm(i.serverSyncTree_,m.path,Re,m.currentWriteId,m.applyLocally)),u=u.concat(In(i.serverSyncTree_,H,!0))}else k=!0,w="nodata",u=u.concat(In(i.serverSyncTree_,m.currentWriteId,!0))}Mt(i.eventQueue_,r,u),u=[],k&&(t[p].status=2,function(I){setTimeout(I,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(w==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(w),!1,null))))}$o(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Wr(o[p]);rc(i,i.transactionQueueTree_)}function Im(i,t){let r,o=i.transactionQueueTree_;for(r=X(t);r!==null&&br(o)===void 0;)o=Za(o,r),t=me(t),r=X(t);return o}function Tm(i,t){const r=[];return Nm(i,t,r),r.sort((o,u)=>o.order-u.order),r}function Nm(i,t,r){const o=br(t);if(o)for(let u=0;u<o.length;u++)r.push(o[u]);Wo(t,u=>{Nm(i,u,r)})}function $o(i,t){const r=br(t);if(r){let o=0;for(let u=0;u<r.length;u++)r[u].status!==2&&(r[o]=r[u],o++);r.length=o,_m(t,r.length>0?r:void 0)}Wo(t,o=>{$o(i,o)})}function ic(i,t){const r=es(Im(i,t)),o=Za(i.transactionQueueTree_,t);return FE(o,u=>{ea(i,u)}),ea(i,o),vm(o,u=>{ea(i,u)}),r}function ea(i,t){const r=br(t);if(r){const o=[];let u=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(M(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(M(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),u=u.concat(In(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?_m(t,void 0):r.length=c+1,Mt(i.eventQueue_,es(t),u);for(let f=0;f<o.length;f++)Wr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let u=r[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function dC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Je(`Invalid query segment '${r}' in query '${i}'`)}return t}const tp=function(i,t){const r=fC(i),o=r.namespace;r.domain==="firebase.com"&&rn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&rn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||yv();const u=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Lp(r.host,r.secure,o,u,t,"",o!==r.subdomain),path:new ae(r.pathString)}},fC=function(i){let t="",r="",o="",u="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let _=i.indexOf("//");_>=0&&(p=i.substring(0,_-1),i=i.substring(_+2));let k=i.indexOf("/");k===-1&&(k=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(k,w)),k<w&&(u=cC(i.substring(k,w)));const I=dC(i.substring(Math.min(i.length,w)));_=t.indexOf(":"),_>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const N=t.slice(0,_);if(N.toLowerCase()==="localhost")r="localhost";else if(N.split(".").length<=2)r=N;else{const A=t.indexOf(".");o=t.substring(0,A).toLowerCase(),r=t.substring(A+1),c=o}"ns"in I&&(c=I.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:u,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,r,o,u){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=u}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class pC{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,r,o,u){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=u}get key(){return ee(this._path)?null:Da(this._path)}get ref(){return new Dn(this._repo,this._path)}get _queryIdentifier(){const t=Wh(this._queryParams),r=Na(t);return r==="{}"?"default":r}get _queryObject(){return Wh(this._queryParams)}isEqual(t){if(t=qi(t),!(t instanceof sc))return!1;const r=this._repo===t._repo,o=Aa(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return r&&o&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+tw(this._path)}}class Dn extends sc{constructor(t,r){super(t,r,new Fa,!1)}get parent(){const t=Vp(this._path);return t===null?null:new Dn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ao{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ae(t),o=Ea(this.ref,t);return new Ao(this._node.getChild(r),o,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,u)=>t(new Ao(u,Ea(this.ref,o),Ie)))}hasChild(t){const r=new ae(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Tr(i,t){return i=qi(i),i._checkNotDeleted("ref"),t!==void 0?Ea(i._root,t):i._root}function Ea(i,t){return i=qi(i),X(i._path)===null?$E("child","path",t):Em("child","path",t),new Dn(i._repo,ke(i._path,t))}function np(i,t){i=qi(i),QE("set",i._path),bE("set",t,i._path);const r=new Ki;return nC(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function rp(i,t){VE("update",t,i._path);const r=new Ki;return rC(i._repo,i._path,t,r.wrapCallback(()=>{})),r.promise}class oc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new hC("value",this,new Ao(t.snapshotNode,new Dn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new pC(this,t,r):null}matches(t){return t instanceof oc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function gC(i,t,r,o,u){const c=new mC(r,void 0),f=new oc(c);return sC(i._repo,i,f),()=>oC(i._repo,i,f)}function ip(i,t,r,o){return gC(i,"value",t)}hE(Dn);vE(Dn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="FIREBASE_DATABASE_EMULATOR_HOST",Ca={};let yC=!1;function vC(i,t,r,o){i.repoInfo_=new Lp(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function wC(i,t,r,o,u){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||rn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),He("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=tp(c,u),p=f.repoInfo,m;typeof process<"u"&&Ch&&(m=Ch[_C]),m?(c=`http://${m}?ns=${p.namespace}`,f=tp(c,u),p=f.repoInfo):f.repoInfo.secure;const _=new Rv(i.name,i.options,t);GE("Invalid Firebase Database URL",f),ee(f.path)||rn("Database URL must point to the root of a Firebase Database (not including a child path).");const k=CC(p,i,_,new xv(i.name,r));return new SC(k,i)}function EC(i,t){const r=Ca[t];(!r||r[i.key]!==i)&&rn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),lC(i),delete r[i.key]}function CC(i,t,r,o){let u=Ca[t.name];u||(u={},Ca[t.name]=u);let c=u[i.toURLString()];return c&&rn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new JE(i,yC,r,o),u[i.toURLString()]=c,c}class SC{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(EC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&rn("Cannot call "+t+" on a deleted database.")}}function kC(i=nv(),t){const r=Jy(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=j_("database");o&&IC(r,...o)}return r}function IC(i,t,r,o={}){i=qi(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&rn("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let c;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&rn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new mo(mo.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:b_(o.mockUserToken,i.app.options.projectId);c=new mo(f)}vC(u,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i){fv(tv),vo(new Wi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return wC(o,u,c,r)},"PUBLIC").setMultipleInstances(!0)),Rr(Sh,kh,i),Rr(Sh,kh,"esm2017")}tn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};tn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};TC();var NC="firebase",xC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(NC,xC,"app");const RC="AIzaSyAeTblY8O6XxWYrRfRl0Ar1TE-uOzPbF0M",PC="nightline-dce44.firebaseapp.com",DC=void 0,AC="nightline-dce44",OC="nightline-dce44.firebasestorage.app",MC="610185897381",LC="1:610185897381:web:753908ea29d825a6e9344c",FC="G-EFV275663B",zC={apiKey:RC,authDomain:PC,databaseURL:DC,projectId:AC,storageBucket:OC,messagingSenderId:MC,appId:LC,measurementId:FC},UC=yp(zC),Nr=kC(UC),sp=["The Owl San Diego","Mavericks Beach Club","Nova SD","PB Shore Club","Parq Nightclub","The Duck Dive"],BC=i=>i>=7?"text-green-500":i<5?"text-red-500":"text-gray-200",WC=i=>i?Math.min(1,i/10):0,jC=()=>{const[i,t]=Zt.useState({}),[r,o]=Zt.useState(new Set),[u,c]=Zt.useState(null),[f,p]=Zt.useState(sp.reduce((N,A)=>(N[A]=[],N),{})),[m,_]=Zt.useState("");Zt.useEffect(()=>{const N=Tr(Nr,"ratings");ip(N,A=>{const F=A.val();F&&t(F)})},[]),Zt.useEffect(()=>{const N=new Date,A=new Date;A.setHours(6,0,0,0),N>A&&A.setDate(A.getDate()+1);const F=setTimeout(()=>{const H=Tr(Nr,"comments");np(H,null);const ue=Tr(Nr,"ratings");np(ue,null)},A-N);return()=>clearTimeout(F)},[]),Zt.useEffect(()=>{if(!u)return;const N=Tr(Nr,`comments/${u}`),A=ip(N,F=>{const H=F.val();if(H){const ue=Object.values(H).sort((Re,We)=>We.timestamp-Re.timestamp);p(Re=>({...Re,[u]:ue}))}else p(ue=>({...ue,[u]:[]}))});return()=>A()},[u]);const k=N=>{const A=i[N];if(!A||A.count===0)return ce.jsx("span",{className:"text-gray-400",children:"No ratings yet"});const F=A.total/A.count,H=BC(F);return ce.jsx("span",{className:H,children:F.toFixed(1)})},w=()=>{if(!m.trim()||!u)return;const N=Date.now(),A=Tr(Nr,`comments/${u}/${N}`);rp(A,{text:m,timestamp:N}),_("")},I=(N,A)=>{if(r.has(N)){alert("You have already rated this location.");return}const F=Tr(Nr,`ratings/${N}`),H=i[N]||{total:0,count:0};rp(F,{total:H.total+A,count:H.count+1}),o(ue=>new Set(ue).add(N))};return ce.jsxs("div",{className:"min-h-screen w-screen flex flex-col items-center bg-black p-4 sm:p-6 lg:p-8",children:[ce.jsx("h1",{className:"text-4xl font-bold text-neon-purple mb-6 text-center",children:"NIGHTLINE"}),ce.jsx("h2",{className:"text-1xl font-bold text-neon-purple mb-6 text-center",children:"Give YOUR Rating of the Hottest Spots in Downtown SD & PB!"}),ce.jsx("div",{className:"w-screen max-w-2xl bg-gray-900 shadow-lg rounded-lg p-4 sm:p-6 md:p-8",children:sp.map(N=>{const A=i[N];let F=null;A&&A.count>0&&(F=A.total/A.count);const H=F?WC(F):0;return ce.jsxs("div",{className:"border-b border-neon-purple py-4",children:[ce.jsx("button",{className:"float-right px-4 py-2 text-sm sm:text-base sm:px-6 sm:py-3 bg-neon-purple text-black rounded hover:bg-purple-800 disabled:opacity-50",onClick:()=>c(N),children:"View Comments"}),ce.jsxs("h2",{className:"text-2xl font-semibold text-white mb-2",children:[N,F&&ce.jsx("span",{style:{marginLeft:"0.5rem",opacity:H},"aria-label":"Fire Emoji",children:""})]}),ce.jsxs("p",{className:"text-gray-400 mb-2",children:["Average Rating: ",k(N)]}),ce.jsx("div",{className:"flex flex-wrap space-x-1",children:[1,2,3,4,5,6,7,8,9,10].map(ue=>ce.jsx("button",{onClick:()=>I(N,ue),className:"px-2 py-0.5 bg-neon-purple text-black rounded hover:bg-purple-800 disabled:opacity-50",disabled:r.has(N),children:ue},ue))})]},N)})}),ce.jsx("footer",{className:"mt-6 text-gray-400 text-sm text-center",children:"Ratings & Comments reset daily at 6:00 AM PST"}),u&&ce.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-end z-50",children:ce.jsxs("div",{className:"bg-gray-900 text-white w-80 h-full shadow-lg overflow-y-auto p-4 relative",children:[ce.jsx("button",{className:"float-right top-4 right-4 text-gray-400 hover:text-gray-200",onClick:()=>c(null),children:"Close"}),ce.jsx("h2",{className:"text-2xl font-bold mb-4",children:u}),ce.jsxs("div",{className:"mt-4",children:[ce.jsx("textarea",{className:"w-full bg-gray-800 text-white rounded p-2",rows:"3",value:m,onChange:N=>_(N.target.value),placeholder:"Add a comment..."}),ce.jsx("button",{className:"mt-2 bg-neon-purple px-4 py-2 rounded hover:bg-purple-800",onClick:w,children:"Submit"})]}),ce.jsx("div",{className:"flex flex-col space-y-4 mt-4",children:f[u].map((N,A)=>ce.jsxs("div",{className:"border-b border-gray-700 pb-2",children:[ce.jsx("p",{children:N.text}),ce.jsx("p",{className:"text-sm text-gray-500",children:new Date(N.timestamp).toLocaleString()})]},A))})]})})]})};D_.createRoot(document.getElementById("root")).render(ce.jsx(Zt.StrictMode,{children:ce.jsx(jC,{})}));
